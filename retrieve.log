2024-11-08 15:12:33:DEBUG:jieba:Building prefix dict from /home/s1136102/python/AICUP/custom_dicts/dict.txt.big ...
2024-11-08 15:12:33:DEBUG:jieba:Loading model from cache /tmp/jieba.ua6683cd5b6b7d5b3ab16049ce5b543c6.cache
2024-11-08 15:12:34:DEBUG:jieba:Loading model cost 1.175 seconds.
2024-11-08 15:12:34:DEBUG:jieba:Prefix dict has been built successfully.
2024-11-08 15:12:34:INFO:__main__:載入自定義字典: ./custom_dicts/with_frequency/common_use_dict_with_frequency.txt
2024-11-08 15:12:34:INFO:__main__:載入自定義字典: ./custom_dicts/with_frequency/insurance_dict_with_frequency.txt
2024-11-08 15:12:34:INFO:utils.rag_processor.resource_loader:Loading stopwords success
2024-11-08 15:12:34:INFO:utils.rag_processor.resource_loader:stopwords: {'一季', '-', '嗎', '年', '又', '她', '【', '：', '%', '之', '比如', '新', '併', '！', '至', '什麼', '因此', '的', '需', '1', '他', ']', '在', '怎麼', '有限公司', '且', '內', '並', '可', '為', '公司', '"', '}', '因而', '`', '將', '中', '＿', '對', '並且', '[', '上', '開始', '下', '喔', '於', '本', '（', '﹒', '；', '「', '未', '則', '啊', "'", '需要', '(', '同時', '我', '–', '以前', '.', '_', '他們', '•', '左', '時', '我們', '約', '!', '2', '，', '裡', '也', ';', '。', '關', '然而', '經常', '從前', '頁', '依', '如何', '後來', '或', '該', '使', '\\', '附', '及', '．', '&', '不', '等', '了', '＄', '期', '％', '哦', '第', ')', '|', '被', '二季', '得', '所以', '如果', '三季', '呀', '邊', '因為', '以', '註', '因', '但是', '即使', ',', '?', '〃', '應該', '－', '#', '係', '是', '︰', '項', '比如說', '已', '請', '）', '如', '你', '一直', '若', '客戶', '現在', '{', '你們', '有', '右', '/', '人', ':', '~', '產品', '後', '前', '」', '和', '～', '但', '與', '最近', '】', '﹑', '4', '呢', '雖然', '3', '應', '？', '著', '哇', '外', '、', '$', '以及', '而', '其', '保險', '剛才', '由', '它', '吧', '／'}
2024-11-08 15:12:34:INFO:gensim.utils:loading KeyedVectors object from /home/s1136102/python/AICUP/utils/../word2vec/wiki.zh.bin
2024-11-08 15:12:34:INFO:gensim.utils:loading vectors from /home/s1136102/python/AICUP/utils/../word2vec/wiki.zh.bin.vectors.npy with mmap=None
2024-11-08 15:12:35:INFO:gensim.utils:KeyedVectors lifecycle event {'fname': '/home/s1136102/python/AICUP/utils/../word2vec/wiki.zh.bin', 'datetime': '2024-11-08T15:12:35.008376', 'gensim': '4.3.3', 'python': '3.9.12 (main, Jun  1 2022, 11:38:51) \n[GCC 7.5.0]', 'platform': 'Linux-5.4.0-150-generic-x86_64-with-glibc2.27', 'event': 'loaded'}
2024-11-08 15:12:35:INFO:utils.rag_processor.resource_loader:Word2Vec model loaded successfully
2024-11-08 15:12:36:INFO:utils.rag_processor.resource_loader:Using device: cuda
2024-11-08 15:12:37:INFO:datasets:PyTorch version 2.4.0+cu121 available.
2024-11-08 15:12:37:INFO:sentence_transformers.SentenceTransformer:Load pretrained SentenceTransformer: BAAI/bge-m3
2024-11-08 15:12:43:INFO:__main__:Config:
{
  "stopwords_filepath": "./custom_dicts/stopwords.txt",
  "embedding_model_name": "BAAI/bge-m3",
  "expansion_model_path": "../word2vec/wiki.zh.bin",
  "bm25_k1": 0.5,
  "bm25_b": 0.7,
  "bm25_epsilon": 0.5,
  "use_expansion": false,
  "expanded_topn": 2,
  "chunk_size": 500,
  "overlap": 100,
  "scoring_methods": {
    "use_faiss": true,
    "use_term_importance": true,
    "use_semantic_search": true,
    "use_term_density": true,
    "use_query_coverage": true,
    "use_position_score": true,
    "use_context_similarity": true
  },
  "base_weights": {
    "bm25": 0.2,
    "faiss": 0.3,
    "importance": 0.0,
    "semantic": 0.1,
    "coverage": 0.1,
    "position": 0.1,
    "density": 0.15,
    "context": 0.05
  }
}
2024-11-08 15:12:43:INFO:__main__:================================================================= QID: 1 =================================================================
2024-11-08 15:12:44:INFO:utils.rag_processor.query_processor:query分詞結果: 負擔/匯款/所/銀/行/相關/費用/收取/中間行/中間/誰
2024-11-08 15:12:44:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:12:44:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 392, Chunk 2, Score: 19.9930, Term Importance: 1.0218, Semantic Similarity: 0.9950, Query Coverage: 1.7824, Position Score: 0.0641, Term Density: 1.7002, Context Similarity: 13.1619, Frequency: [('匯款', 5), ('相關', 5), ('費用', 4), ('負擔', 4), ('行', 3), ('銀', 2), ('所', 2), ('收取', 2), ('中間', 1)]
2024-11-08 15:12:44:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 392, Chunk 3, Score: 12.4754, Term Importance: 4.5753, Semantic Similarity: 0.9953, Query Coverage: 1.0262, Position Score: 0.0298, Term Density: 1.1404, Context Similarity: 19.6871, Frequency: [('相關', 7), ('匯款', 7), ('行', 7), ('銀', 6), ('費用', 4), ('負擔', 1)]
2024-11-08 15:12:44:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 440, Chunk 1, Score: 4.3453, Term Importance: 0.2156, Semantic Similarity: 0.9907, Query Coverage: 0.4164, Position Score: 0.0144, Term Density: 0.2290, Context Similarity: 9.0412, Frequency: [('相關', 2), ('費用', 2), ('負擔', 2)]
2024-11-08 15:12:44:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 196, Chunk 1, Score: 4.2831, Term Importance: 0.1168, Semantic Similarity: 0.9914, Query Coverage: 0.5221, Position Score: 0.0220, Term Density: 0.2290, Context Similarity: 3.6214, Frequency: [('行', 1), ('相關', 1), ('費用', 1), ('負擔', 1)]
2024-11-08 15:12:44:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 442, Chunk 2, Score: 4.0981, Term Importance: 0.0421, Semantic Similarity: 0.9918, Query Coverage: 0.4164, Position Score: 0.2495, Term Density: 0.2290, Context Similarity: 4.3170, Frequency: [('相關', 1), ('費用', 1), ('負擔', 1)]
2024-11-08 15:12:46:INFO:faiss.loader:Loading faiss with AVX2 support.
2024-11-08 15:12:46:INFO:faiss.loader:Could not load library with AVX2 support due to:
ModuleNotFoundError("No module named 'faiss.swigfaiss_avx2'")
2024-11-08 15:12:46:INFO:faiss.loader:Loading faiss.
2024-11-08 15:12:46:INFO:faiss.loader:Successfully loaded faiss.
2024-11-08 15:12:46:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:46:INFO:utils.RAGProcessor:FAISS Score: [0.8987], PDF: 392, Chunk: 2, metadata: [{}]
2024-11-08 15:12:46:INFO:utils.RAGProcessor:FAISS Score: [0.9015], PDF: 392, Chunk: 3, metadata: [{}]
2024-11-08 15:12:46:INFO:utils.RAGProcessor:FAISS Score: [1.0101], PDF: 440, Chunk: 2, metadata: [{}]
2024-11-08 15:12:46:INFO:utils.RAGProcessor:FAISS Score: [1.0735], PDF: 431, Chunk: 1, metadata: [{}]
2024-11-08 15:12:46:INFO:utils.RAGProcessor:FAISS Score: [1.0793], PDF: 51, Chunk: 2, metadata: [{}]
2024-11-08 15:12:46:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:12:46:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 392, Chunk 2: Final Score=0.9002, BM25=1.0000, FAISS=1.0000, Importance=0.2161, Semantic=0.9425, Coverage=1.0000, Position=0.2115, Density=1.0000, Context=0.5938
2024-11-08 15:12:46:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 392, Chunk 3: Final Score=0.6779, BM25=0.5270, FAISS=0.9848, Importance=1.0000, Semantic=1.0000, Coverage=0.4464, Position=0.0654, Density=0.6195, Context=1.0000
2024-11-08 15:12:46:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 442, Chunk 2: Final Score=0.1171, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.2455, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0433
2024-11-08 15:12:46:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 440, Chunk 2: Final Score=0.1105, BM25=0.0000, FAISS=0.3831, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:46:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 196, Chunk 1: Final Score=0.0260, BM25=0.0116, FAISS=0.0000, Importance=0.0165, Semantic=0.1469, Coverage=0.0774, Position=0.0324, Density=0.0000, Context=0.0000
2024-11-08 15:12:46:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 440, Chunk 1: Final Score=0.0198, BM25=0.0155, FAISS=0.0000, Importance=0.0383, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.3373
2024-11-08 15:12:46:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 431, Chunk 1: Final Score=0.0093, BM25=0.0000, FAISS=0.0322, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:46:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 51, Chunk 2: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:46:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:46:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:12:46:INFO:utils.RAGProcessor:Query Features - Length: 11, Diversity: 0.92
2024-11-08 15:12:46:INFO:__main__:================================================================= QID: 2 =================================================================
2024-11-08 15:12:46:INFO:utils.rag_processor.query_processor:query分詞結果: 效力/停止日/要保人/通知/保人/書面通知/書面/多少天/停止/本公司/多少
2024-11-08 15:12:46:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:12:46:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 428, Chunk 1, Score: 14.4161, Term Importance: 2.4736, Semantic Similarity: 0.9823, Query Coverage: 0.7094, Position Score: 0.0135, Term Density: 0.5720, Context Similarity: 7.2610, Frequency: [('本公司', 8), ('保人', 6), ('要保人', 6), ('通知', 3), ('效力', 2), ('停止', 2), ('書面', 2), ('書面通知', 2), ('停止日', 1)]
2024-11-08 15:12:47:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 428, Chunk 0, Score: 13.6830, Term Importance: 0.1077, Semantic Similarity: 0.9786, Query Coverage: 0.7094, Position Score: 0.0150, Term Density: 0.4504, Context Similarity: 8.7385, Frequency: [('本公司', 11), ('保人', 5), ('要保人', 5), ('效力', 3), ('停止', 3), ('停止日', 1), ('書面', 1), ('通知', 1), ('書面通知', 1)]
2024-11-08 15:12:47:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 565, Chunk 0, Score: 9.2878, Term Importance: 0.3302, Semantic Similarity: 0.9809, Query Coverage: 0.2110, Position Score: 0.0153, Term Density: 0.0966, Context Similarity: 10.5887, Frequency: [('本公司', 5), ('保人', 4), ('要保人', 4), ('通知', 4), ('書面', 3), ('停止', 3), ('效力', 2)]
2024-11-08 15:12:47:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 565, Chunk 3, Score: 9.2621, Term Importance: 0.3407, Semantic Similarity: 0.9806, Query Coverage: 0.2110, Position Score: 0.0248, Term Density: 0.1144, Context Similarity: 7.1746, Frequency: [('保人', 5), ('要保人', 5), ('效力', 4), ('本公司', 3), ('通知', 3), ('停止', 2), ('書面', 1)]
2024-11-08 15:12:47:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 565, Chunk 1, Score: 9.2300, Term Importance: 1.1415, Semantic Similarity: 0.9809, Query Coverage: 0.2110, Position Score: 0.0140, Term Density: 0.1271, Context Similarity: 9.3546, Frequency: [('保人', 10), ('要保人', 10), ('效力', 6), ('本公司', 5), ('停止', 5), ('通知', 2), ('書面', 1)]
2024-11-08 15:12:47:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:47:INFO:utils.RAGProcessor:FAISS Score: [0.7138], PDF: 258, Chunk: 2, metadata: [{}]
2024-11-08 15:12:47:INFO:utils.RAGProcessor:FAISS Score: [0.7285], PDF: 565, Chunk: 2, metadata: [{}]
2024-11-08 15:12:47:INFO:utils.RAGProcessor:FAISS Score: [0.7325], PDF: 258, Chunk: 1, metadata: [{}]
2024-11-08 15:12:47:INFO:utils.RAGProcessor:FAISS Score: [0.7485], PDF: 475, Chunk: 1, metadata: [{}]
2024-11-08 15:12:47:INFO:utils.RAGProcessor:FAISS Score: [0.7512], PDF: 565, Chunk: 3, metadata: [{}]
2024-11-08 15:12:47:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:12:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 428, Chunk 1: Final Score=0.5685, BM25=1.0000, FAISS=0.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=0.0253
2024-11-08 15:12:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 428, Chunk 0: Final Score=0.4550, BM25=0.8586, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=1.0000, Position=0.1256, Density=0.7442, Context=0.4581
2024-11-08 15:12:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 258, Chunk 2: Final Score=0.2885, BM25=0.0000, FAISS=1.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 565, Chunk 2: Final Score=0.1754, BM25=0.0000, FAISS=0.6081, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 565, Chunk 3: Final Score=0.1454, BM25=0.0062, FAISS=0.0000, Importance=0.0985, Semantic=0.5506, Coverage=0.0000, Position=1.0000, Density=0.0375, Context=0.0000
2024-11-08 15:12:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 258, Chunk 1: Final Score=0.1444, BM25=0.0000, FAISS=0.5005, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 565, Chunk 0: Final Score=0.1144, BM25=0.0111, FAISS=0.0000, Importance=0.0941, Semantic=0.6346, Coverage=0.0000, Position=0.1549, Density=0.0000, Context=1.0000
2024-11-08 15:12:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 565, Chunk 1: Final Score=0.0920, BM25=0.0000, FAISS=0.0000, Importance=0.4370, Semantic=0.6295, Coverage=0.0000, Position=0.0376, Density=0.0641, Context=0.6385
2024-11-08 15:12:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 475, Chunk 1: Final Score=0.0211, BM25=0.0000, FAISS=0.0731, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:47:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:47:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:12:47:INFO:utils.RAGProcessor:Query Features - Length: 11, Diversity: 0.92
2024-11-08 15:12:47:INFO:__main__:================================================================= QID: 3 =================================================================
2024-11-08 15:12:48:INFO:utils.rag_processor.query_processor:query分詞結果: 受益/完全/失能/可以/失能保險金/保險金/受益人/是否/變更/指定
2024-11-08 15:12:48:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:12:48:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 83, Chunk 2, Score: 8.1132, Term Importance: 0.6206, Semantic Similarity: 0.9868, Query Coverage: 0.9801, Position Score: 0.0381, Term Density: 0.5809, Context Similarity: 9.1728, Frequency: [('受益', 6), ('受益人', 6), ('指定', 6), ('保險金', 2), ('完全', 1), ('失能', 1), ('失能保險金', 1)]
2024-11-08 15:12:48:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 148, Chunk 0, Score: 4.4703, Term Importance: 1.3387, Semantic Similarity: 0.9865, Query Coverage: 0.5005, Position Score: 0.0271, Term Density: 0.2398, Context Similarity: 9.2496, Frequency: [('受益', 4), ('受益人', 4), ('變更', 4), ('保險金', 3), ('指定', 1)]
2024-11-08 15:12:48:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 476, Chunk 0, Score: 2.1565, Term Importance: 1.3355, Semantic Similarity: 0.9871, Query Coverage: 0.2607, Position Score: 0.0259, Term Density: 0.2213, Context Similarity: 15.4754, Frequency: [('受益', 7), ('受益人', 7), ('指定', 3), ('保險金', 2)]
2024-11-08 15:12:48:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 179, Chunk 0, Score: 1.9922, Term Importance: 0.6530, Semantic Similarity: 0.9862, Query Coverage: 0.2607, Position Score: 0.0346, Term Density: 0.2304, Context Similarity: 9.1061, Frequency: [('受益', 5), ('受益人', 5), ('保險金', 3), ('指定', 1)]
2024-11-08 15:12:48:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 83, Chunk 3, Score: 1.8784, Term Importance: 0.4344, Semantic Similarity: 0.9858, Query Coverage: 0.2607, Position Score: 0.0452, Term Density: 0.1515, Context Similarity: 8.1704, Frequency: [('受益', 4), ('受益人', 4), ('指定', 1), ('保險金', 1)]
2024-11-08 15:12:48:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:48:INFO:utils.RAGProcessor:FAISS Score: [0.6439], PDF: 83, Chunk: 2, metadata: [{}]
2024-11-08 15:12:48:INFO:utils.RAGProcessor:FAISS Score: [0.7568], PDF: 476, Chunk: 0, metadata: [{}]
2024-11-08 15:12:48:INFO:utils.RAGProcessor:FAISS Score: [0.7904], PDF: 179, Chunk: 0, metadata: [{}]
2024-11-08 15:12:48:INFO:utils.RAGProcessor:FAISS Score: [0.8751], PDF: 148, Chunk: 0, metadata: [{}]
2024-11-08 15:12:48:INFO:utils.RAGProcessor:FAISS Score: [0.9002], PDF: 83, Chunk: 3, metadata: [{}]
2024-11-08 15:12:48:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:12:48:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 83, Chunk 2: Final Score=0.9049, BM25=1.0000, FAISS=1.0000, Importance=0.2059, Semantic=0.7599, Coverage=1.0000, Position=0.6344, Density=1.0000, Context=0.1372
2024-11-08 15:12:48:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 476, Chunk 0: Final Score=0.3202, BM25=0.0446, FAISS=0.5597, Importance=0.9964, Semantic=1.0000, Coverage=0.0000, Position=0.0000, Density=0.1624, Context=1.0000
2024-11-08 15:12:48:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 148, Chunk 0: Final Score=0.2434, BM25=0.4157, FAISS=0.0981, Importance=1.0000, Semantic=0.4936, Coverage=0.3333, Position=0.0627, Density=0.2055, Context=0.1477
2024-11-08 15:12:48:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 179, Chunk 0: Final Score=0.2263, BM25=0.0183, FAISS=0.4283, Importance=0.2417, Semantic=0.2919, Coverage=0.0000, Position=0.4515, Density=0.1836, Context=0.1281
2024-11-08 15:12:48:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 83, Chunk 3: Final Score=0.0962, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:48:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:48:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:12:48:INFO:utils.RAGProcessor:Query Features - Length: 10, Diversity: 0.91
2024-11-08 15:12:48:INFO:__main__:================================================================= QID: 4 =================================================================
2024-11-08 15:12:49:INFO:utils.rag_processor.query_processor:query分詞結果: 經由/內容/批註/本契約/同意/契約/更/變/誰
2024-11-08 15:12:49:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:12:49:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 179, Chunk 0, Score: 8.9493, Term Importance: 1.1725, Semantic Similarity: 0.9896, Query Coverage: 0.6349, Position Score: 0.0142, Term Density: 0.2241, Context Similarity: 9.2877, Frequency: [('更', 6), ('變', 5), ('批註', 5), ('契約', 4), ('本契約', 4), ('同意', 3), ('內容', 1)]
2024-11-08 15:12:49:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 186, Chunk 0, Score: 8.7571, Term Importance: 0.7034, Semantic Similarity: 0.9887, Query Coverage: 0.6349, Position Score: 0.0162, Term Density: 0.2241, Context Similarity: 9.2916, Frequency: [('批註', 5), ('契約', 5), ('本契約', 5), ('更', 4), ('變', 3), ('同意', 3), ('內容', 1)]
2024-11-08 15:12:49:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 179, Chunk 1, Score: 8.5248, Term Importance: 0.8897, Semantic Similarity: 0.9843, Query Coverage: 0.6349, Position Score: 0.0480, Term Density: 0.2241, Context Similarity: 5.1385, Frequency: [('批註', 3), ('契約', 2), ('本契約', 2), ('同意', 2), ('內容', 1), ('變', 1), ('更', 1)]
2024-11-08 15:12:49:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 627, Chunk 12, Score: 5.9364, Term Importance: 0.1704, Semantic Similarity: 0.9818, Query Coverage: 0.4038, Position Score: 0.0188, Term Density: 0.1471, Context Similarity: 2.7628, Frequency: [('契約', 2), ('本契約', 2), ('更', 2), ('變', 1), ('批註', 1), ('同意', 1)]
2024-11-08 15:12:49:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 627, Chunk 11, Score: 5.9286, Term Importance: 0.3083, Semantic Similarity: 0.9834, Query Coverage: 0.2669, Position Score: 0.0241, Term Density: 0.1471, Context Similarity: 4.5174, Frequency: [('更', 4), ('批註', 3), ('契約', 3), ('本契約', 3), ('變', 2)]
2024-11-08 15:12:50:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:50:INFO:utils.RAGProcessor:FAISS Score: [0.7699], PDF: 179, Chunk: 1, metadata: [{}]
2024-11-08 15:12:50:INFO:utils.RAGProcessor:FAISS Score: [0.8947], PDF: 179, Chunk: 0, metadata: [{}]
2024-11-08 15:12:50:INFO:utils.RAGProcessor:FAISS Score: [0.9333], PDF: 186, Chunk: 0, metadata: [{}]
2024-11-08 15:12:50:INFO:utils.RAGProcessor:FAISS Score: [1.0255], PDF: 174, Chunk: 1, metadata: [{}]
2024-11-08 15:12:50:INFO:utils.RAGProcessor:FAISS Score: [1.0271], PDF: 627, Chunk: 1, metadata: [{}]
2024-11-08 15:12:50:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:12:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 179, Chunk 1: Final Score=0.8852, BM25=0.8595, FAISS=1.0000, Importance=0.7178, Semantic=0.3271, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=0.3639
2024-11-08 15:12:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 179, Chunk 0: Final Score=0.7639, BM25=1.0000, FAISS=0.5149, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=0.9994
2024-11-08 15:12:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 186, Chunk 0: Final Score=0.7026, BM25=0.9364, FAISS=0.3648, Importance=0.5319, Semantic=0.8825, Coverage=1.0000, Position=0.0592, Density=1.0000, Context=1.0000
2024-11-08 15:12:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 627, Chunk 11: Final Score=0.0569, BM25=0.0000, FAISS=0.0000, Importance=0.1377, Semantic=0.2056, Coverage=0.0000, Position=0.2928, Density=0.0000, Context=0.2687
2024-11-08 15:12:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 627, Chunk 12: Final Score=0.0567, BM25=0.0026, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.3721, Position=0.1373, Density=0.0000, Context=0.0000
2024-11-08 15:12:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 174, Chunk 1: Final Score=0.0018, BM25=0.0000, FAISS=0.0061, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 627, Chunk 1: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:50:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:50:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:12:50:INFO:utils.RAGProcessor:Query Features - Length: 9, Diversity: 0.90
2024-11-08 15:12:50:INFO:__main__:================================================================= QID: 5 =================================================================
2024-11-08 15:12:50:INFO:utils.rag_processor.query_processor:query分詞結果: 指/保額/基本
2024-11-08 15:12:50:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:12:50:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 162, Chunk 1, Score: 1.8666, Term Importance: 2.0051, Semantic Similarity: 0.9811, Query Coverage: 0.7324, Position Score: 0.0345, Term Density: 0.2747, Context Similarity: 6.8941, Frequency: [('保額', 8), ('基本', 7)]
2024-11-08 15:12:50:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 162, Chunk 2, Score: 1.8592, Term Importance: 2.8618, Semantic Similarity: 0.9773, Query Coverage: 0.7324, Position Score: 0.0204, Term Density: 0.3296, Context Similarity: 8.9181, Frequency: [('基本', 9), ('保額', 9)]
2024-11-08 15:12:50:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 162, Chunk 4, Score: 1.7840, Term Importance: 0.2988, Semantic Similarity: 0.9801, Query Coverage: 0.7324, Position Score: 0.0607, Term Density: 0.2197, Context Similarity: 4.6410, Frequency: [('基本', 4), ('保額', 4)]
2024-11-08 15:12:50:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 631, Chunk 0, Score: 1.6858, Term Importance: 0.1804, Semantic Similarity: 0.9789, Query Coverage: 0.7324, Position Score: 0.0213, Term Density: 0.1099, Context Similarity: 5.2267, Frequency: [('基本', 3), ('保額', 3)]
2024-11-08 15:12:50:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 162, Chunk 8, Score: 1.5717, Term Importance: 0.2425, Semantic Similarity: 0.9816, Query Coverage: 0.7324, Position Score: 0.2368, Term Density: 0.2197, Context Similarity: 2.4862, Frequency: [('基本', 2), ('保額', 2)]
2024-11-08 15:12:51:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:51:INFO:utils.RAGProcessor:FAISS Score: [0.7131], PDF: 162, Chunk: 1, metadata: [{}]
2024-11-08 15:12:51:INFO:utils.RAGProcessor:FAISS Score: [0.8376], PDF: 162, Chunk: 4, metadata: [{}]
2024-11-08 15:12:51:INFO:utils.RAGProcessor:FAISS Score: [0.8782], PDF: 162, Chunk: 2, metadata: [{}]
2024-11-08 15:12:51:INFO:utils.RAGProcessor:FAISS Score: [0.9256], PDF: 162, Chunk: 3, metadata: [{}]
2024-11-08 15:12:51:INFO:utils.RAGProcessor:FAISS Score: [0.9676], PDF: 162, Chunk: 7, metadata: [{}]
2024-11-08 15:12:51:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:12:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 162, Chunk 1: Final Score=0.8498, BM25=1.0000, FAISS=1.0000, Importance=0.6805, Semantic=0.8809, Coverage=1.0000, Position=0.0650, Density=0.7500, Context=0.6853
2024-11-08 15:12:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 162, Chunk 2: Final Score=0.6341, BM25=0.9751, FAISS=0.3514, Importance=1.0000, Semantic=0.0000, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:12:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 162, Chunk 4: Final Score=0.5842, BM25=0.7199, FAISS=0.5106, Importance=0.0441, Semantic=0.6403, Coverage=1.0000, Position=0.1862, Density=0.5000, Context=0.3350
2024-11-08 15:12:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 162, Chunk 8: Final Score=0.3606, BM25=0.0000, FAISS=0.0000, Importance=0.0231, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=0.5000, Context=0.0000
2024-11-08 15:12:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 631, Chunk 0: Final Score=0.2544, BM25=0.3871, FAISS=0.0000, Importance=0.0000, Semantic=0.3749, Coverage=1.0000, Position=0.0039, Density=0.0000, Context=0.4261
2024-11-08 15:12:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 162, Chunk 3: Final Score=0.0476, BM25=0.0000, FAISS=0.1650, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 162, Chunk 7: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:51:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:51:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:12:51:INFO:utils.RAGProcessor:Query Features - Length: 3, Diversity: 0.75
2024-11-08 15:12:51:INFO:__main__:================================================================= QID: 6 =================================================================
2024-11-08 15:12:51:INFO:utils.rag_processor.query_processor:query分詞結果: 要保人/通知/受益/保人/責任/應負/受益人/事故/知悉/本公司/應於/幾日
2024-11-08 15:12:51:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:12:51:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 116, Chunk 1, Score: 13.5492, Term Importance: 0.7902, Semantic Similarity: 0.9859, Query Coverage: 0.8695, Position Score: 0.0143, Term Density: 0.6721, Context Similarity: 9.0121, Frequency: [('本公司', 10), ('保人', 5), ('要保人', 5), ('通知', 5), ('應於', 3), ('受益', 2), ('受益人', 2), ('事故', 2), ('知悉', 1), ('應負', 1)]
2024-11-08 15:12:51:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 275, Chunk 1, Score: 8.7600, Term Importance: 1.3714, Semantic Similarity: 0.9866, Query Coverage: 0.4118, Position Score: 0.0158, Term Density: 0.1628, Context Similarity: 11.9675, Frequency: [('本公司', 10), ('保人', 6), ('要保人', 6), ('責任', 6), ('事故', 3), ('受益', 2), ('受益人', 2), ('應負', 1)]
2024-11-08 15:12:52:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 242, Chunk 3, Score: 8.3029, Term Importance: 0.8082, Semantic Similarity: 0.9870, Query Coverage: 0.4118, Position Score: 0.0175, Term Density: 0.2177, Context Similarity: 10.7013, Frequency: [('本公司', 9), ('保人', 6), ('要保人', 6), ('責任', 6), ('事故', 3), ('受益', 1), ('受益人', 1), ('應負', 1)]
2024-11-08 15:12:52:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 116, Chunk 2, Score: 7.1648, Term Importance: 0.9737, Semantic Similarity: 0.9863, Query Coverage: 0.3050, Position Score: 0.0174, Term Density: 0.0934, Context Similarity: 6.3071, Frequency: [('本公司', 7), ('保人', 2), ('要保人', 2), ('受益', 2), ('受益人', 2), ('事故', 2), ('應於', 1)]
2024-11-08 15:12:52:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 338, Chunk 4, Score: 6.6826, Term Importance: 1.7525, Semantic Similarity: 0.9841, Query Coverage: 0.3324, Position Score: 0.0126, Term Density: 0.2400, Context Similarity: 7.6424, Frequency: [('本公司', 8), ('保人', 6), ('要保人', 6), ('通知', 3), ('應於', 1), ('事故', 1)]
2024-11-08 15:12:52:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:52:INFO:utils.RAGProcessor:FAISS Score: [0.7303], PDF: 116, Chunk: 2, metadata: [{}]
2024-11-08 15:12:52:INFO:utils.RAGProcessor:FAISS Score: [0.7774], PDF: 242, Chunk: 4, metadata: [{}]
2024-11-08 15:12:52:INFO:utils.RAGProcessor:FAISS Score: [0.7966], PDF: 275, Chunk: 1, metadata: [{}]
2024-11-08 15:12:52:INFO:utils.RAGProcessor:FAISS Score: [0.7993], PDF: 338, Chunk: 4, metadata: [{}]
2024-11-08 15:12:52:INFO:utils.RAGProcessor:FAISS Score: [0.8260], PDF: 116, Chunk: 1, metadata: [{}]
2024-11-08 15:12:52:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:12:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 116, Chunk 1: Final Score=0.5948, BM25=1.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.6227, Coverage=1.0000, Position=0.3486, Density=1.0000, Context=0.4779
2024-11-08 15:12:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 116, Chunk 2: Final Score=0.4581, BM25=0.0702, FAISS=1.0000, Importance=0.1907, Semantic=0.7839, Coverage=0.0000, Position=0.9688, Density=0.0000, Context=0.0000
2024-11-08 15:12:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 275, Chunk 1: Final Score=0.3769, BM25=0.3025, FAISS=0.3067, Importance=0.6040, Semantic=0.8855, Coverage=0.1891, Position=0.6588, Density=0.1198, Context=1.0000
2024-11-08 15:12:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 242, Chunk 3: Final Score=0.3176, BM25=0.2360, FAISS=0.0000, Importance=0.0188, Semantic=1.0000, Coverage=0.1891, Position=1.0000, Density=0.2147, Context=0.7763
2024-11-08 15:12:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 242, Chunk 4: Final Score=0.1465, BM25=0.0000, FAISS=0.5080, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 338, Chunk 4: Final Score=0.1339, BM25=0.0000, FAISS=0.2788, Importance=1.0000, Semantic=0.0000, Coverage=0.0485, Position=0.0000, Density=0.2533, Context=0.2359
2024-11-08 15:12:52:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:52:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:12:52:INFO:utils.RAGProcessor:Query Features - Length: 12, Diversity: 0.92
2024-11-08 15:12:52:INFO:__main__:================================================================= QID: 7 =================================================================
2024-11-08 15:12:53:INFO:utils.rag_processor.query_processor:query分詞結果: 效力/變化/本契約/契約/保險金/會/身故/給付
2024-11-08 15:12:53:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:12:53:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 439, Chunk 1, Score: 4.7865, Term Importance: 1.2729, Semantic Similarity: 0.9846, Query Coverage: 0.3056, Position Score: 0.0140, Term Density: 0.1133, Context Similarity: 9.9534, Frequency: [('契約', 8), ('本契約', 5), ('效力', 5), ('身故', 1), ('給付', 1), ('保險金', 1)]
2024-11-08 15:12:53:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 578, Chunk 0, Score: 4.6498, Term Importance: 0.0708, Semantic Similarity: 0.9808, Query Coverage: 0.3056, Position Score: 0.0409, Term Density: 0.0807, Context Similarity: 5.1453, Frequency: [('契約', 4), ('本契約', 3), ('給付', 2), ('身故', 1), ('保險金', 1), ('效力', 1)]
2024-11-08 15:12:53:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 486, Chunk 0, Score: 4.5841, Term Importance: 0.5913, Semantic Similarity: 0.9811, Query Coverage: 0.0730, Position Score: 0.0151, Term Density: 0.0515, Context Similarity: 14.4011, Frequency: [('給付', 10), ('保險金', 9), ('契約', 7), ('本契約', 7)]
2024-11-08 15:12:53:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 107, Chunk 5, Score: 4.5336, Term Importance: 1.0121, Semantic Similarity: 0.9832, Query Coverage: 0.1683, Position Score: 0.0135, Term Density: 0.1208, Context Similarity: 9.4624, Frequency: [('保險金', 13), ('給付', 6), ('身故', 5), ('契約', 3), ('本契約', 3)]
2024-11-08 15:12:53:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 107, Chunk 2, Score: 4.4558, Term Importance: 1.4638, Semantic Similarity: 0.9835, Query Coverage: 0.1683, Position Score: 0.0188, Term Density: 0.1589, Context Similarity: 11.2405, Frequency: [('保險金', 14), ('身故', 8), ('給付', 5), ('契約', 2), ('本契約', 2)]
2024-11-08 15:12:53:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:53:INFO:utils.RAGProcessor:FAISS Score: [0.6706], PDF: 107, Chunk: 5, metadata: [{}]
2024-11-08 15:12:53:INFO:utils.RAGProcessor:FAISS Score: [0.6745], PDF: 107, Chunk: 2, metadata: [{}]
2024-11-08 15:12:53:INFO:utils.RAGProcessor:FAISS Score: [0.8176], PDF: 107, Chunk: 3, metadata: [{}]
2024-11-08 15:12:53:INFO:utils.RAGProcessor:FAISS Score: [0.8213], PDF: 107, Chunk: 1, metadata: [{}]
2024-11-08 15:12:53:INFO:utils.RAGProcessor:FAISS Score: [0.8314], PDF: 439, Chunk: 1, metadata: [{}]
2024-11-08 15:12:53:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:12:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 107, Chunk 2: Final Score=0.5767, BM25=0.0000, FAISS=0.9754, Importance=1.0000, Semantic=0.6983, Coverage=0.4096, Position=0.1923, Density=1.0000, Context=0.6585
2024-11-08 15:12:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 107, Chunk 5: Final Score=0.5534, BM25=0.2353, FAISS=1.0000, Importance=0.6757, Semantic=0.6223, Coverage=0.4096, Position=0.0000, Density=0.6453, Context=0.4664
2024-11-08 15:12:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 439, Chunk 1: Final Score=0.5328, BM25=1.0000, FAISS=0.0000, Importance=0.8630, Semantic=1.0000, Coverage=1.0000, Position=0.0189, Density=0.5751, Context=0.5195
2024-11-08 15:12:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 578, Chunk 0: Final Score=0.3861, BM25=0.5867, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=1.0000, Position=1.0000, Density=0.2715, Context=0.0000
2024-11-08 15:12:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 486, Chunk 0: Final Score=0.1485, BM25=0.3881, FAISS=0.0000, Importance=0.3736, Semantic=0.0684, Coverage=0.0000, Position=0.0580, Density=0.0000, Context=1.0000
2024-11-08 15:12:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 107, Chunk 3: Final Score=0.0247, BM25=0.0000, FAISS=0.0857, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 107, Chunk 1: Final Score=0.0182, BM25=0.0000, FAISS=0.0633, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:53:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:53:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:12:53:INFO:utils.RAGProcessor:Query Features - Length: 8, Diversity: 0.89
2024-11-08 15:12:53:INFO:__main__:================================================================= QID: 8 =================================================================
2024-11-08 15:12:54:INFO:utils.rag_processor.query_processor:query分詞結果: 要保人/應對/要保書/保人/告知/據實/本契約/書面/說明/契約/是否/詢問/訂立/本公司/事項
2024-11-08 15:12:54:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:12:54:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 78, Chunk 2, Score: 28.3319, Term Importance: 1.8948, Semantic Similarity: 0.9925, Query Coverage: 1.4341, Position Score: 0.0181, Term Density: 1.3912, Context Similarity: 11.5937, Frequency: [('契約', 12), ('本公司', 8), ('本契約', 6), ('保人', 5), ('要保人', 5), ('說明', 5), ('告知', 2), ('訂立', 2), ('要保書', 1), ('詢問', 1)]
2024-11-08 15:12:54:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 428, Chunk 2, Score: 8.8953, Term Importance: 0.0883, Semantic Similarity: 0.9862, Query Coverage: 0.1897, Position Score: 0.0179, Term Density: 0.1388, Context Similarity: 4.5490, Frequency: [('保人', 5), ('要保人', 5), ('本公司', 4), ('契約', 2), ('本契約', 2), ('訂立', 1)]
2024-11-08 15:12:54:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 244, Chunk 3, Score: 8.6833, Term Importance: 0.0972, Semantic Similarity: 0.9870, Query Coverage: 0.1198, Position Score: 0.0142, Term Density: 0.0864, Context Similarity: 9.6430, Frequency: [('契約', 8), ('本契約', 7), ('保人', 5), ('要保人', 5), ('本公司', 5), ('書面', 3), ('要保書', 1)]
2024-11-08 15:12:54:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 578, Chunk 1, Score: 8.6731, Term Importance: 0.3478, Semantic Similarity: 0.9865, Query Coverage: 0.1198, Position Score: 0.0162, Term Density: 0.0864, Context Similarity: 9.8271, Frequency: [('契約', 7), ('本公司', 6), ('本契約', 6), ('保人', 4), ('要保人', 4), ('書面', 3), ('要保書', 1)]
2024-11-08 15:12:54:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 253, Chunk 2, Score: 8.5384, Term Importance: 0.0907, Semantic Similarity: 0.9854, Query Coverage: 0.1198, Position Score: 0.0144, Term Density: 0.0864, Context Similarity: 7.9069, Frequency: [('契約', 6), ('本契約', 5), ('本公司', 5), ('保人', 5), ('要保人', 5), ('書面', 2), ('要保書', 1)]
2024-11-08 15:12:55:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:55:INFO:utils.RAGProcessor:FAISS Score: [0.8116], PDF: 78, Chunk: 2, metadata: [{}]
2024-11-08 15:12:55:INFO:utils.RAGProcessor:FAISS Score: [0.8322], PDF: 78, Chunk: 3, metadata: [{}]
2024-11-08 15:12:55:INFO:utils.RAGProcessor:FAISS Score: [0.8561], PDF: 188, Chunk: 1, metadata: [{}]
2024-11-08 15:12:55:INFO:utils.RAGProcessor:FAISS Score: [0.8585], PDF: 244, Chunk: 1, metadata: [{}]
2024-11-08 15:12:55:INFO:utils.RAGProcessor:FAISS Score: [0.8672], PDF: 244, Chunk: 2, metadata: [{}]
2024-11-08 15:12:55:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:12:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 78, Chunk 2: Final Score=1.0000, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=1.0000
2024-11-08 15:12:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 78, Chunk 3: Final Score=0.1820, BM25=0.0000, FAISS=0.6309, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 428, Chunk 2: Final Score=0.1165, BM25=0.0180, FAISS=0.0000, Importance=0.0000, Semantic=0.1104, Coverage=0.0531, Position=0.9558, Density=0.0401, Context=0.0000
2024-11-08 15:12:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 578, Chunk 1: Final Score=0.0985, BM25=0.0068, FAISS=0.0000, Importance=0.1436, Semantic=0.1598, Coverage=0.0000, Position=0.5058, Density=0.0000, Context=0.7492
2024-11-08 15:12:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 188, Chunk 1: Final Score=0.0577, BM25=0.0000, FAISS=0.2000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 244, Chunk 3: Final Score=0.0540, BM25=0.0073, FAISS=0.0000, Importance=0.0050, Semantic=0.2280, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.7231
2024-11-08 15:12:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 244, Chunk 1: Final Score=0.0456, BM25=0.0000, FAISS=0.1580, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 253, Chunk 2: Final Score=0.0287, BM25=0.0000, FAISS=0.0000, Importance=0.0013, Semantic=0.0000, Coverage=0.0000, Position=0.0601, Density=0.0000, Context=0.4767
2024-11-08 15:12:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 244, Chunk 2: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:55:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:55:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:12:55:INFO:utils.RAGProcessor:Query Features - Length: 15, Diversity: 0.94
2024-11-08 15:12:55:INFO:__main__:================================================================= QID: 9 =================================================================
2024-11-08 15:12:55:INFO:utils.rag_processor.query_processor:query分詞結果: 被保險人/故意/受益/死/者/受益人/致/保險人/會/致死/權利/喪失
2024-11-08 15:12:55:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:12:55:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 62, Chunk 0, Score: 19.0660, Term Importance: 0.8468, Semantic Similarity: 0.9938, Query Coverage: 1.3608, Position Score: 0.0157, Term Density: 1.0241, Context Similarity: 13.3082, Frequency: [('保險人', 8), ('被保險人', 8), ('受益', 7), ('者', 4), ('受益人', 4), ('故意', 3), ('致', 2), ('喪失', 2), ('死', 1), ('致死', 1)]
2024-11-08 15:12:55:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 62, Chunk 1, Score: 7.0181, Term Importance: 3.8731, Semantic Similarity: 0.9876, Query Coverage: 0.3156, Position Score: 0.0384, Term Density: 0.2962, Context Similarity: 14.9433, Frequency: [('受益', 8), ('受益人', 6), ('喪失', 2), ('者', 2), ('保險人', 1), ('被保險人', 1)]
2024-11-08 15:12:55:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 476, Chunk 0, Score: 5.5557, Term Importance: 1.1344, Semantic Similarity: 0.9892, Query Coverage: 0.2001, Position Score: 0.0201, Term Density: 0.1345, Context Similarity: 15.2782, Frequency: [('受益', 7), ('受益人', 7), ('保險人', 6), ('被保險人', 6), ('者', 4), ('權利', 1)]
2024-11-08 15:12:55:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 404, Chunk 1, Score: 5.4774, Term Importance: 1.2288, Semantic Similarity: 0.9881, Query Coverage: 0.2001, Position Score: 0.0179, Term Density: 0.1345, Context Similarity: 13.5474, Frequency: [('受益', 6), ('受益人', 6), ('者', 5), ('保險人', 5), ('被保險人', 5), ('權利', 1)]
2024-11-08 15:12:55:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 148, Chunk 0, Score: 5.3684, Term Importance: 0.5491, Semantic Similarity: 0.9869, Query Coverage: 0.2001, Position Score: 0.0191, Term Density: 0.1345, Context Similarity: 10.2876, Frequency: [('者', 4), ('受益', 4), ('受益人', 4), ('保險人', 4), ('被保險人', 4), ('權利', 1)]
2024-11-08 15:12:56:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:56:INFO:utils.RAGProcessor:FAISS Score: [0.7683], PDF: 631, Chunk: 1, metadata: [{}]
2024-11-08 15:12:56:INFO:utils.RAGProcessor:FAISS Score: [0.7683], PDF: 631, Chunk: 1, metadata: [{}]
2024-11-08 15:12:56:INFO:utils.RAGProcessor:FAISS Score: [0.7706], PDF: 182, Chunk: 2, metadata: [{}]
2024-11-08 15:12:56:INFO:utils.RAGProcessor:FAISS Score: [0.7817], PDF: 182, Chunk: 1, metadata: [{}]
2024-11-08 15:12:56:INFO:utils.RAGProcessor:FAISS Score: [0.7821], PDF: 62, Chunk: 1, metadata: [{}]
2024-11-08 15:12:56:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:12:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 62, Chunk 0: Final Score=0.5964, BM25=1.0000, FAISS=0.0000, Importance=0.0895, Semantic=1.0000, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=0.6053
2024-11-08 15:12:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 631, Chunk 1: Final Score=0.2885, BM25=0.0000, FAISS=1.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 182, Chunk 2: Final Score=0.2408, BM25=0.0000, FAISS=0.8347, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 62, Chunk 1: Final Score=0.2146, BM25=0.1204, FAISS=0.0000, Importance=1.0000, Semantic=0.1051, Coverage=0.0995, Position=1.0000, Density=0.1818, Context=0.9329
2024-11-08 15:12:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 476, Chunk 0: Final Score=0.0952, BM25=0.0137, FAISS=0.0000, Importance=0.1761, Semantic=0.3289, Coverage=0.0000, Position=0.1938, Density=0.0000, Context=1.0000
2024-11-08 15:12:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 404, Chunk 1: Final Score=0.0562, BM25=0.0080, FAISS=0.0000, Importance=0.2045, Semantic=0.1771, Coverage=0.0000, Position=0.0973, Density=0.0000, Context=0.6532
2024-11-08 15:12:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 148, Chunk 0: Final Score=0.0146, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.1518, Density=0.0000, Context=0.0000
2024-11-08 15:12:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 182, Chunk 1: Final Score=0.0098, BM25=0.0000, FAISS=0.0338, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:56:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:56:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:12:56:INFO:utils.RAGProcessor:Query Features - Length: 12, Diversity: 0.92
2024-11-08 15:12:56:INFO:__main__:================================================================= QID: 10 =================================================================
2024-11-08 15:12:56:INFO:utils.rag_processor.query_processor:query分詞結果: 仍/要保人/適用/保人/是否/定期/改為/增值/分享/回饋/金/展期/給付
2024-11-08 15:12:56:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:12:57:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 472, Chunk 4, Score: 7.5174, Term Importance: 2.2903, Semantic Similarity: 0.9943, Query Coverage: 0.5919, Position Score: 0.0137, Term Density: 0.2357, Context Similarity: 10.5900, Frequency: [('給付', 5), ('保人', 4), ('要保人', 4), ('增值', 3), ('回饋', 3), ('分享', 3), ('金', 3), ('展期', 2), ('定期', 2), ('改為', 1)]
2024-11-08 15:12:57:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 472, Chunk 2, Score: 4.9418, Term Importance: 0.1774, Semantic Similarity: 0.9946, Query Coverage: 0.3786, Position Score: 0.0205, Term Density: 0.1680, Context Similarity: 5.6031, Frequency: [('保人', 4), ('要保人', 4), ('增值', 2), ('回饋', 2), ('分享', 2), ('金', 2), ('改為', 1), ('給付', 1), ('展期', 1), ('定期', 1)]
2024-11-08 15:12:57:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 472, Chunk 3, Score: 4.6282, Term Importance: 0.5042, Semantic Similarity: 0.9927, Query Coverage: 0.1744, Position Score: 0.0149, Term Density: 0.0965, Context Similarity: 8.0696, Frequency: [('定期', 5), ('保人', 4), ('要保人', 4), ('展期', 4), ('給付', 2), ('改為', 1)]
2024-11-08 15:12:57:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 343, Chunk 2, Score: 4.3713, Term Importance: 0.1471, Semantic Similarity: 0.9947, Query Coverage: 0.3032, Position Score: 0.0186, Term Density: 0.1680, Context Similarity: 6.1496, Frequency: [('保人', 5), ('要保人', 5), ('增值', 2), ('回饋', 2), ('分享', 2), ('金', 2), ('定期', 1), ('改為', 1), ('給付', 1)]
2024-11-08 15:12:57:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 32, Chunk 2, Score: 3.9622, Term Importance: 0.8211, Semantic Similarity: 0.9932, Query Coverage: 0.1585, Position Score: 0.0184, Term Density: 0.0965, Context Similarity: 5.4593, Frequency: [('保人', 4), ('要保人', 4), ('展期', 3), ('定期', 3), ('改為', 2)]
2024-11-08 15:12:57:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:57:INFO:utils.RAGProcessor:FAISS Score: [0.4710], PDF: 472, Chunk: 4, metadata: [{}]
2024-11-08 15:12:57:INFO:utils.RAGProcessor:FAISS Score: [0.6233], PDF: 472, Chunk: 3, metadata: [{}]
2024-11-08 15:12:57:INFO:utils.RAGProcessor:FAISS Score: [0.6456], PDF: 502, Chunk: 2, metadata: [{}]
2024-11-08 15:12:57:INFO:utils.RAGProcessor:FAISS Score: [0.6586], PDF: 32, Chunk: 2, metadata: [{}]
2024-11-08 15:12:57:INFO:utils.RAGProcessor:FAISS Score: [0.6671], PDF: 343, Chunk: 3, metadata: [{}]
2024-11-08 15:12:57:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:12:57:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 472, Chunk 4: Final Score=0.8904, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.8252, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:12:57:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 472, Chunk 2: Final Score=0.3656, BM25=0.2755, FAISS=0.0000, Importance=0.0142, Semantic=0.9348, Coverage=0.5080, Position=1.0000, Density=0.5131, Context=0.0280
2024-11-08 15:12:57:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 343, Chunk 2: Final Score=0.2918, BM25=0.1151, FAISS=0.0000, Importance=0.0000, Semantic=1.0000, Coverage=0.3339, Position=0.7209, Density=0.5131, Context=0.1345
2024-11-08 15:12:57:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 472, Chunk 3: Final Score=0.1525, BM25=0.1873, FAISS=0.2233, Importance=0.1666, Semantic=0.0000, Coverage=0.0368, Position=0.1681, Density=0.0000, Context=0.5088
2024-11-08 15:12:57:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 32, Chunk 2: Final Score=0.0978, BM25=0.0000, FAISS=0.0433, Importance=0.3145, Semantic=0.2456, Coverage=0.0000, Position=0.6901, Density=0.0000, Context=0.0000
2024-11-08 15:12:57:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 502, Chunk 2: Final Score=0.0316, BM25=0.0000, FAISS=0.1096, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:57:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 343, Chunk 3: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:57:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:57:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:12:57:INFO:utils.RAGProcessor:Query Features - Length: 13, Diversity: 0.93
2024-11-08 15:12:57:INFO:__main__:================================================================= QID: 11 =================================================================
2024-11-08 15:12:58:INFO:utils.rag_processor.query_processor:query分詞結果: 借/上限/決定/金額/借款/保單
2024-11-08 15:12:58:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:12:58:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 7, Chunk 1, Score: 4.3452, Term Importance: 0.7764, Semantic Similarity: 0.9925, Query Coverage: 0.6185, Position Score: 0.0136, Term Density: 0.2489, Context Similarity: 15.3589, Frequency: [('借款', 6), ('保單', 5), ('金額', 2), ('上限', 1)]
2024-11-08 15:12:58:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 141, Chunk 3, Score: 4.1432, Term Importance: 0.1165, Semantic Similarity: 0.9903, Query Coverage: 0.6185, Position Score: 0.0403, Term Density: 0.1606, Context Similarity: 4.9956, Frequency: [('借款', 2), ('金額', 1), ('上限', 1), ('保單', 1)]
2024-11-08 15:12:58:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 258, Chunk 1, Score: 4.0321, Term Importance: 0.0800, Semantic Similarity: 0.9911, Query Coverage: 0.6185, Position Score: 0.0216, Term Density: 0.1606, Context Similarity: 7.1691, Frequency: [('金額', 3), ('借款', 2), ('上限', 1), ('保單', 1)]
2024-11-08 15:12:58:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 141, Chunk 2, Score: 3.1439, Term Importance: 0.0590, Semantic Similarity: 0.9915, Query Coverage: 0.5354, Position Score: 0.0244, Term Density: 0.1606, Context Similarity: 6.6672, Frequency: [('金額', 3), ('借款', 2), ('上限', 1)]
2024-11-08 15:12:58:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 7, Chunk 0, Score: 2.8493, Term Importance: 0.3275, Semantic Similarity: 0.9916, Query Coverage: 0.2942, Position Score: 0.0172, Term Density: 0.0883, Context Similarity: 12.0310, Frequency: [('金額', 5), ('保單', 4), ('借款', 1)]
2024-11-08 15:12:58:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:58:INFO:utils.RAGProcessor:FAISS Score: [0.7973], PDF: 7, Chunk: 1, metadata: [{}]
2024-11-08 15:12:58:INFO:utils.RAGProcessor:FAISS Score: [0.8350], PDF: 141, Chunk: 3, metadata: [{}]
2024-11-08 15:12:58:INFO:utils.RAGProcessor:FAISS Score: [0.8388], PDF: 325, Chunk: 2, metadata: [{}]
2024-11-08 15:12:58:INFO:utils.RAGProcessor:FAISS Score: [0.8388], PDF: 7, Chunk: 2, metadata: [{}]
2024-11-08 15:12:58:INFO:utils.RAGProcessor:FAISS Score: [0.9025], PDF: 298, Chunk: 1, metadata: [{}]
2024-11-08 15:12:58:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:12:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 7, Chunk 1: Final Score=0.9038, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:12:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 141, Chunk 3: Final Score=0.6611, BM25=0.8650, FAISS=0.6411, Importance=0.0801, Semantic=0.0000, Coverage=1.0000, Position=1.0000, Density=0.4505, Context=0.0000
2024-11-08 15:12:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 258, Chunk 1: Final Score=0.4322, BM25=0.7907, FAISS=0.0000, Importance=0.0292, Semantic=0.3983, Coverage=1.0000, Position=0.2980, Density=0.4505, Context=0.2097
2024-11-08 15:12:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 141, Chunk 2: Final Score=0.2859, BM25=0.1970, FAISS=0.0000, Importance=0.0000, Semantic=0.5597, Coverage=0.7436, Position=0.4040, Density=0.4505, Context=0.1613
2024-11-08 15:12:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 325, Chunk 2: Final Score=0.1748, BM25=0.0000, FAISS=0.6059, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 7, Chunk 2: Final Score=0.1747, BM25=0.0000, FAISS=0.6056, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 7, Chunk 0: Final Score=0.0916, BM25=0.0000, FAISS=0.0000, Importance=0.3742, Semantic=0.6019, Coverage=0.0000, Position=0.1315, Density=0.0000, Context=0.6789
2024-11-08 15:12:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 298, Chunk 1: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:58:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:58:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:12:58:INFO:utils.RAGProcessor:Query Features - Length: 6, Diversity: 0.86
2024-11-08 15:12:58:INFO:__main__:================================================================= QID: 12 =================================================================
2024-11-08 15:12:59:INFO:utils.rag_processor.query_processor:query分詞結果: 被保險人/受益/通知/同意/保險公司/是否/受益人/變更/須經/保險人
2024-11-08 15:12:59:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:12:59:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 526, Chunk 1, Score: 1.9663, Term Importance: 1.6911, Semantic Similarity: 0.9829, Query Coverage: 0.3470, Position Score: 0.0208, Term Density: 0.2193, Context Similarity: 12.9381, Frequency: [('受益', 6), ('受益人', 6), ('保險人', 5), ('被保險人', 5), ('通知', 4), ('同意', 3), ('保險公司', 2)]
2024-11-08 15:12:59:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 526, Chunk 0, Score: 1.8697, Term Importance: 0.3899, Semantic Similarity: 0.9849, Query Coverage: 0.3470, Position Score: 0.0218, Term Density: 0.2193, Context Similarity: 9.5565, Frequency: [('受益', 6), ('受益人', 6), ('保險人', 4), ('被保險人', 4), ('同意', 2), ('保險公司', 2), ('通知', 1)]
2024-11-08 15:12:59:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 66, Chunk 0, Score: 1.6532, Term Importance: 0.2717, Semantic Similarity: 0.9805, Query Coverage: 0.3470, Position Score: 0.0120, Term Density: 0.1427, Context Similarity: 6.9603, Frequency: [('變更', 3), ('通知', 3), ('保險人', 2), ('被保險人', 2), ('受益', 1), ('受益人', 1), ('同意', 1)]
2024-11-08 15:12:59:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 66, Chunk 1, Score: 0.6181, Term Importance: 0.0833, Semantic Similarity: 0.9712, Query Coverage: 0.0916, Position Score: 0.0531, Term Density: 0.0458, Context Similarity: 4.9690, Frequency: [('同意', 2), ('變更', 1)]
2024-11-08 15:12:59:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 526, Chunk 2, Score: 0.2485, Term Importance: 0.0000, Semantic Similarity: 0.9693, Query Coverage: 0.0000, Position Score: 0.0878, Term Density: 0.0000, Context Similarity: 4.6635, Frequency: [('同意', 2)]
2024-11-08 15:12:59:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:59:INFO:utils.RAGProcessor:FAISS Score: [0.5651], PDF: 526, Chunk: 1, metadata: [{}]
2024-11-08 15:12:59:INFO:utils.RAGProcessor:FAISS Score: [0.8014], PDF: 66, Chunk: 1, metadata: [{}]
2024-11-08 15:12:59:INFO:utils.RAGProcessor:FAISS Score: [0.8050], PDF: 526, Chunk: 2, metadata: [{}]
2024-11-08 15:12:59:INFO:utils.RAGProcessor:FAISS Score: [0.8437], PDF: 526, Chunk: 0, metadata: [{}]
2024-11-08 15:12:59:INFO:utils.RAGProcessor:FAISS Score: [0.9271], PDF: 66, Chunk: 0, metadata: [{}]
2024-11-08 15:12:59:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:12:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 526, Chunk 1: Final Score=0.9049, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.8701, Coverage=1.0000, Position=0.1152, Density=1.0000, Context=1.0000
2024-11-08 15:12:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 526, Chunk 0: Final Score=0.6617, BM25=0.9438, FAISS=0.2305, Importance=0.2305, Semantic=1.0000, Coverage=1.0000, Position=0.1290, Density=1.0000, Context=0.5913
2024-11-08 15:12:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 66, Chunk 0: Final Score=0.4668, BM25=0.8178, FAISS=0.0000, Importance=0.1607, Semantic=0.7216, Coverage=1.0000, Position=0.0000, Density=0.6507, Context=0.2776
2024-11-08 15:12:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 66, Chunk 1: Final Score=0.2736, BM25=0.2152, FAISS=0.3473, Importance=0.0493, Semantic=0.1208, Coverage=0.2640, Position=0.5418, Density=0.2089, Context=0.0369
2024-11-08 15:12:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 526, Chunk 2: Final Score=0.1935, BM25=0.0000, FAISS=0.3374, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:12:59:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:12:59:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:12:59:INFO:utils.RAGProcessor:Query Features - Length: 10, Diversity: 0.91
2024-11-08 15:12:59:INFO:__main__:================================================================= QID: 13 =================================================================
2024-11-08 15:12:59:INFO:utils.rag_processor.query_processor:query分詞結果: 要保人/通知/保人/變更/住所/本公司
2024-11-08 15:12:59:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:12:59:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 526, Chunk 1, Score: 8.1945, Term Importance: 1.0629, Semantic Similarity: 0.9843, Query Coverage: 0.8026, Position Score: 0.0156, Term Density: 0.4816, Context Similarity: 9.8299, Frequency: [('保人', 8), ('要保人', 8), ('本公司', 6), ('通知', 4), ('住所', 3)]
2024-11-08 15:12:59:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 526, Chunk 2, Score: 5.4371, Term Importance: 0.1819, Semantic Similarity: 0.9794, Query Coverage: 0.4189, Position Score: 0.0524, Term Density: 0.2513, Context Similarity: 4.7048, Frequency: [('保人', 3), ('要保人', 3), ('本公司', 3), ('住所', 2)]
2024-11-08 15:13:00:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 526, Chunk 0, Score: 4.8957, Term Importance: 0.0654, Semantic Similarity: 0.9829, Query Coverage: 0.4189, Position Score: 0.0147, Term Density: 0.1257, Context Similarity: 6.9411, Frequency: [('本公司', 6), ('保人', 5), ('要保人', 5), ('通知', 1)]
2024-11-08 15:13:00:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 502, Chunk 1, Score: 2.9116, Term Importance: 0.0947, Semantic Similarity: 0.9798, Query Coverage: 0.0351, Position Score: 0.0176, Term Density: 0.0211, Context Similarity: 4.2743, Frequency: [('保人', 5), ('要保人', 5), ('本公司', 4)]
2024-11-08 15:13:00:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 283, Chunk 2, Score: 2.8709, Term Importance: 0.1038, Semantic Similarity: 0.9799, Query Coverage: 0.0351, Position Score: 0.0208, Term Density: 0.0211, Context Similarity: 3.4159, Frequency: [('保人', 5), ('要保人', 5), ('本公司', 3)]
2024-11-08 15:13:00:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:00:INFO:utils.RAGProcessor:FAISS Score: [0.7472], PDF: 526, Chunk: 2, metadata: [{}]
2024-11-08 15:13:00:INFO:utils.RAGProcessor:FAISS Score: [0.7871], PDF: 526, Chunk: 1, metadata: [{}]
2024-11-08 15:13:00:INFO:utils.RAGProcessor:FAISS Score: [0.9498], PDF: 283, Chunk: 3, metadata: [{}]
2024-11-08 15:13:00:INFO:utils.RAGProcessor:FAISS Score: [0.9587], PDF: 343, Chunk: 3, metadata: [{}]
2024-11-08 15:13:00:INFO:utils.RAGProcessor:FAISS Score: [0.9637], PDF: 502, Chunk: 1, metadata: [{}]
2024-11-08 15:13:00:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 526, Chunk 1: Final Score=0.8529, BM25=1.0000, FAISS=0.8157, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0233, Density=1.0000, Context=1.0000
2024-11-08 15:13:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 526, Chunk 2: Final Score=0.6353, BM25=0.4820, FAISS=1.0000, Importance=0.1168, Semantic=0.0000, Coverage=0.5000, Position=1.0000, Density=0.5000, Context=0.2010
2024-11-08 15:13:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 526, Chunk 0: Final Score=0.2598, BM25=0.3803, FAISS=0.0000, Importance=0.0000, Semantic=0.7165, Coverage=0.5000, Position=0.0000, Density=0.2271, Context=0.5496
2024-11-08 15:13:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 283, Chunk 2: Final Score=0.0231, BM25=0.0000, FAISS=0.0000, Importance=0.0385, Semantic=0.0975, Coverage=0.0000, Position=0.1622, Density=0.0000, Context=0.0000
2024-11-08 15:13:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 502, Chunk 1: Final Score=0.0211, BM25=0.0076, FAISS=0.0000, Importance=0.0294, Semantic=0.0741, Coverage=0.0000, Position=0.0752, Density=0.0000, Context=0.1338
2024-11-08 15:13:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 283, Chunk 3: Final Score=0.0186, BM25=0.0000, FAISS=0.0644, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 343, Chunk 3: Final Score=0.0067, BM25=0.0000, FAISS=0.0233, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:00:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:00:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:00:INFO:utils.RAGProcessor:Query Features - Length: 6, Diversity: 0.86
2024-11-08 15:13:00:INFO:__main__:================================================================= QID: 14 =================================================================
2024-11-08 15:13:01:INFO:utils.rag_processor.query_processor:query分詞結果: 記載/誰/內容/增刪/本契約/同意/契約/變更/應由/事項
2024-11-08 15:13:01:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:01:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 526, Chunk 2, Score: 15.0458, Term Importance: 0.9455, Semantic Similarity: 0.9843, Query Coverage: 1.2383, Position Score: 0.0489, Term Density: 0.5483, Context Similarity: 4.8704, Frequency: [('契約', 2), ('本契約', 2), ('同意', 2), ('內容', 1), ('記載', 1), ('事項', 1), ('增刪', 1)]
2024-11-08 15:13:01:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 526, Chunk 1, Score: 13.8894, Term Importance: 0.4453, Semantic Similarity: 0.9901, Query Coverage: 1.2383, Position Score: 0.0139, Term Density: 0.5483, Context Similarity: 6.6936, Frequency: [('契約', 5), ('本契約', 5), ('同意', 3), ('內容', 1), ('記載', 1), ('事項', 1), ('增刪', 1)]
2024-11-08 15:13:01:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 243, Chunk 0, Score: 7.3330, Term Importance: 1.6480, Semantic Similarity: 0.9894, Query Coverage: 0.3654, Position Score: 0.0190, Term Density: 0.5245, Context Similarity: 16.1813, Frequency: [('契約', 11), ('本契約', 8), ('變更', 3)]
2024-11-08 15:13:01:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 149, Chunk 8, Score: 4.7930, Term Importance: 0.4450, Semantic Similarity: 0.9885, Query Coverage: 0.1575, Position Score: 0.0208, Term Density: 0.1417, Context Similarity: 15.0421, Frequency: [('契約', 9), ('本契約', 7), ('同意', 4)]
2024-11-08 15:13:01:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 627, Chunk 13, Score: 4.7506, Term Importance: 0.5870, Semantic Similarity: 0.9875, Query Coverage: 0.1575, Position Score: 0.0205, Term Density: 0.1417, Context Similarity: 14.3685, Frequency: [('契約', 8), ('本契約', 5), ('同意', 4)]
2024-11-08 15:13:02:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:02:INFO:utils.RAGProcessor:FAISS Score: [0.7716], PDF: 526, Chunk: 2, metadata: [{}]
2024-11-08 15:13:02:INFO:utils.RAGProcessor:FAISS Score: [0.9003], PDF: 526, Chunk: 1, metadata: [{}]
2024-11-08 15:13:02:INFO:utils.RAGProcessor:FAISS Score: [0.9681], PDF: 149, Chunk: 1, metadata: [{}]
2024-11-08 15:13:02:INFO:utils.RAGProcessor:FAISS Score: [0.9815], PDF: 243, Chunk: 0, metadata: [{}]
2024-11-08 15:13:02:INFO:utils.RAGProcessor:FAISS Score: [1.0240], PDF: 149, Chunk: 8, metadata: [{}]
2024-11-08 15:13:02:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 526, Chunk 2: Final Score=0.8750, BM25=1.0000, FAISS=1.0000, Importance=0.4160, Semantic=0.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=0.0000
2024-11-08 15:13:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 526, Chunk 1: Final Score=0.6905, BM25=0.8877, FAISS=0.4902, Importance=0.0003, Semantic=1.0000, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=0.1612
2024-11-08 15:13:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 243, Chunk 0: Final Score=0.3953, BM25=0.2508, FAISS=0.1687, Importance=1.0000, Semantic=0.8912, Coverage=0.1924, Position=0.1470, Density=0.9414, Context=1.0000
2024-11-08 15:13:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 149, Chunk 8: Final Score=0.1193, BM25=0.0041, FAISS=0.0000, Importance=0.0000, Semantic=0.7269, Coverage=0.0000, Position=0.1994, Density=0.0000, Context=0.8993
2024-11-08 15:13:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 627, Chunk 13: Final Score=0.1018, BM25=0.0000, FAISS=0.0000, Importance=0.1181, Semantic=0.5625, Coverage=0.0000, Position=0.1892, Density=0.0000, Context=0.8397
2024-11-08 15:13:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 149, Chunk 1: Final Score=0.0639, BM25=0.0000, FAISS=0.2217, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:02:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:02:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:02:INFO:utils.RAGProcessor:Query Features - Length: 10, Diversity: 0.91
2024-11-08 15:13:02:INFO:__main__:================================================================= QID: 15 =================================================================
2024-11-08 15:13:02:INFO:utils.rag_processor.query_processor:query分詞結果: 本契約/原則/契約/解釋
2024-11-08 15:13:02:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:02:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 536, Chunk 1, Score: 7.2176, Term Importance: 0.1457, Semantic Similarity: 0.9752, Query Coverage: 1.4318, Position Score: 0.0264, Term Density: 0.4250, Context Similarity: 12.4840, Frequency: [('契約', 10), ('本契約', 3), ('解釋', 2), ('原則', 1)]
2024-11-08 15:13:02:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 182, Chunk 2, Score: 1.9100, Term Importance: 0.0206, Semantic Similarity: 0.9726, Query Coverage: 0.0152, Position Score: 0.0220, Term Density: 0.0061, Context Similarity: 7.0372, Frequency: [('契約', 5), ('本契約', 5)]
2024-11-08 15:13:02:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 476, Chunk 0, Score: 1.9068, Term Importance: 0.0398, Semantic Similarity: 0.9733, Query Coverage: 0.0152, Position Score: 0.0133, Term Density: 0.0061, Context Similarity: 7.7083, Frequency: [('契約', 6), ('本契約', 6)]
2024-11-08 15:13:02:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 337, Chunk 2, Score: 1.8998, Term Importance: 0.0209, Semantic Similarity: 0.9717, Query Coverage: 0.0152, Position Score: 0.0219, Term Density: 0.0061, Context Similarity: 7.0372, Frequency: [('契約', 5), ('本契約', 5)]
2024-11-08 15:13:02:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 526, Chunk 1, Score: 1.8828, Term Importance: 0.0419, Semantic Similarity: 0.9737, Query Coverage: 0.0152, Position Score: 0.0149, Term Density: 0.0061, Context Similarity: 6.4497, Frequency: [('契約', 5), ('本契約', 5)]
2024-11-08 15:13:03:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:03:INFO:utils.RAGProcessor:FAISS Score: [1.0642], PDF: 476, Chunk: 1, metadata: [{}]
2024-11-08 15:13:03:INFO:utils.RAGProcessor:FAISS Score: [1.0707], PDF: 526, Chunk: 2, metadata: [{}]
2024-11-08 15:13:03:INFO:utils.RAGProcessor:FAISS Score: [1.0717], PDF: 66, Chunk: 1, metadata: [{}]
2024-11-08 15:13:03:INFO:utils.RAGProcessor:FAISS Score: [1.0980], PDF: 536, Chunk: 1, metadata: [{}]
2024-11-08 15:13:03:INFO:utils.RAGProcessor:FAISS Score: [1.1020], PDF: 148, Chunk: 1, metadata: [{}]
2024-11-08 15:13:03:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 536, Chunk 1: Final Score=0.7416, BM25=1.0000, FAISS=0.1041, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=1.0000
2024-11-08 15:13:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 476, Chunk 1: Final Score=0.2885, BM25=0.0000, FAISS=1.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 526, Chunk 2: Final Score=0.2391, BM25=0.0000, FAISS=0.8289, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 66, Chunk 1: Final Score=0.2315, BM25=0.0000, FAISS=0.8025, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 182, Chunk 2: Final Score=0.0894, BM25=0.0051, FAISS=0.0000, Importance=0.0000, Semantic=0.2561, Coverage=0.0000, Position=0.6641, Density=0.0000, Context=0.0974
2024-11-08 15:13:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 337, Chunk 2: Final Score=0.0687, BM25=0.0032, FAISS=0.0000, Importance=0.0026, Semantic=0.0000, Coverage=0.0000, Position=0.6578, Density=0.0000, Context=0.0974
2024-11-08 15:13:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 526, Chunk 1: Final Score=0.0566, BM25=0.0000, FAISS=0.0000, Importance=0.1704, Semantic=0.5844, Coverage=0.0000, Position=0.1208, Density=0.0000, Context=0.0000
2024-11-08 15:13:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 476, Chunk 0: Final Score=0.0474, BM25=0.0045, FAISS=0.0000, Importance=0.1536, Semantic=0.4728, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.2086
2024-11-08 15:13:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 148, Chunk 1: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:03:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:03:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:03:INFO:utils.RAGProcessor:Query Features - Length: 4, Diversity: 0.80
2024-11-08 15:13:03:INFO:__main__:================================================================= QID: 16 =================================================================
2024-11-08 15:13:03:INFO:utils.rag_processor.query_processor:query分詞結果: 交付/轉帳/金融/受領/處理/者/第二期/分期/分期保險費/金融機構/本公司/機構/情況/以後/約定/保險費/第二/二期/未能
2024-11-08 15:13:03:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:03:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 54, Chunk 3, Score: 36.3870, Term Importance: 3.7830, Semantic Similarity: 0.9956, Query Coverage: 1.7170, Position Score: 0.0172, Term Density: 1.6327, Context Similarity: 11.6606, Frequency: [('交付', 7), ('本公司', 7), ('分期', 5), ('保險費', 5), ('第二', 3), ('二期', 3), ('第二期', 3), ('以後', 3), ('分期保險費', 3), ('約定', 3)]
2024-11-08 15:13:03:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 54, Chunk 4, Score: 16.8784, Term Importance: 0.8472, Semantic Similarity: 0.9952, Query Coverage: 0.6955, Position Score: 0.0163, Term Density: 0.6607, Context Similarity: 10.5903, Frequency: [('保險費', 10), ('本公司', 5), ('分期', 3), ('分期保險費', 2), ('約定', 2), ('交付', 2), ('者', 2), ('第二', 1), ('二期', 1), ('第二期', 1)]
2024-11-08 15:13:04:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 54, Chunk 2, Score: 14.0233, Term Importance: 0.8366, Semantic Similarity: 0.9953, Query Coverage: 0.5022, Position Score: 0.0153, Term Density: 0.4755, Context Similarity: 12.8723, Frequency: [('保險費', 10), ('本公司', 9), ('交付', 2), ('約定', 2), ('者', 2), ('第二', 1), ('二期', 1), ('第二期', 1), ('以後', 1)]
2024-11-08 15:13:04:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 528, Chunk 2, Score: 8.6853, Term Importance: 0.2287, Semantic Similarity: 0.9922, Query Coverage: 0.2067, Position Score: 0.0141, Term Density: 0.2090, Context Similarity: 10.6233, Frequency: [('本公司', 7), ('約定', 3), ('分期', 3), ('者', 2), ('處理', 2), ('保險費', 2), ('第二', 1)]
2024-11-08 15:13:04:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 327, Chunk 5, Score: 8.5985, Term Importance: 0.2588, Semantic Similarity: 0.9923, Query Coverage: 0.2067, Position Score: 0.0136, Term Density: 0.2090, Context Similarity: 11.3125, Frequency: [('本公司', 7), ('分期', 4), ('約定', 3), ('者', 2), ('處理', 2), ('保險費', 2), ('第二', 1)]
2024-11-08 15:13:04:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:04:INFO:utils.RAGProcessor:FAISS Score: [0.6394], PDF: 54, Chunk: 3, metadata: [{}]
2024-11-08 15:13:04:INFO:utils.RAGProcessor:FAISS Score: [0.7012], PDF: 327, Chunk: 5, metadata: [{}]
2024-11-08 15:13:04:INFO:utils.RAGProcessor:FAISS Score: [0.7025], PDF: 528, Chunk: 2, metadata: [{}]
2024-11-08 15:13:04:INFO:utils.RAGProcessor:FAISS Score: [0.7057], PDF: 54, Chunk: 4, metadata: [{}]
2024-11-08 15:13:04:INFO:utils.RAGProcessor:FAISS Score: [0.7138], PDF: 54, Chunk: 1, metadata: [{}]
2024-11-08 15:13:04:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 54, Chunk 3: Final Score=0.9745, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=0.4690
2024-11-08 15:13:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 54, Chunk 4: Final Score=0.3226, BM25=0.2980, FAISS=0.1096, Importance=0.1740, Semantic=0.8778, Coverage=0.3236, Position=0.7447, Density=0.3173, Context=0.0000
2024-11-08 15:13:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 54, Chunk 2: Final Score=0.2586, BM25=0.1952, FAISS=0.0000, Importance=0.1710, Semantic=0.9082, Coverage=0.1956, Position=0.4792, Density=0.1872, Context=1.0000
2024-11-08 15:13:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 327, Chunk 5: Final Score=0.0674, BM25=0.0000, FAISS=0.1701, Importance=0.0085, Semantic=0.0403, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.3165
2024-11-08 15:13:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 528, Chunk 2: Final Score=0.0571, BM25=0.0031, FAISS=0.1523, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.1227, Density=0.0000, Context=0.0145
2024-11-08 15:13:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 54, Chunk 1: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:04:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:04:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:04:INFO:utils.RAGProcessor:Query Features - Length: 19, Diversity: 0.95
2024-11-08 15:13:04:INFO:__main__:================================================================= QID: 17 =================================================================
2024-11-08 15:13:05:INFO:utils.rag_processor.query_processor:query分詞結果: 償付/終止/契約/解約/何時/金/本公司/應於
2024-11-08 15:13:05:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:05:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 606, Chunk 1, Score: 10.3018, Term Importance: 1.0520, Semantic Similarity: 0.9898, Query Coverage: 1.0371, Position Score: 0.0166, Term Density: 0.4174, Context Similarity: 19.2287, Frequency: [('契約', 14), ('本公司', 8), ('終止', 5), ('解約', 3), ('金', 2), ('應於', 1), ('償付', 1)]
2024-11-08 15:13:05:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 606, Chunk 2, Score: 8.5724, Term Importance: 1.1087, Semantic Similarity: 0.9858, Query Coverage: 0.8638, Position Score: 0.0174, Term Density: 0.4056, Context Similarity: 13.8850, Frequency: [('本公司', 9), ('契約', 6), ('終止', 3), ('解約', 2), ('應於', 2), ('金', 1)]
2024-11-08 15:13:05:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 228, Chunk 1, Score: 4.2898, Term Importance: 1.0102, Semantic Similarity: 0.9857, Query Coverage: 0.3748, Position Score: 0.0132, Term Density: 0.0974, Context Similarity: 9.9519, Frequency: [('本公司', 8), ('契約', 2), ('應於', 1), ('金', 1)]
2024-11-08 15:13:05:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 341, Chunk 2, Score: 4.1481, Term Importance: 0.0730, Semantic Similarity: 0.9876, Query Coverage: 0.3109, Position Score: 0.0142, Term Density: 0.2105, Context Similarity: 13.9073, Frequency: [('契約', 8), ('本公司', 4), ('償付', 3), ('應於', 1)]
2024-11-08 15:13:05:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 353, Chunk 2, Score: 4.1395, Term Importance: 0.1069, Semantic Similarity: 0.9886, Query Coverage: 0.3109, Position Score: 0.0162, Term Density: 0.2079, Context Similarity: 13.0479, Frequency: [('契約', 6), ('本公司', 5), ('償付', 3), ('應於', 1)]
2024-11-08 15:13:06:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:06:INFO:utils.RAGProcessor:FAISS Score: [0.7560], PDF: 606, Chunk: 1, metadata: [{}]
2024-11-08 15:13:06:INFO:utils.RAGProcessor:FAISS Score: [0.7671], PDF: 606, Chunk: 2, metadata: [{}]
2024-11-08 15:13:06:INFO:utils.RAGProcessor:FAISS Score: [0.8308], PDF: 202, Chunk: 3, metadata: [{}]
2024-11-08 15:13:06:INFO:utils.RAGProcessor:FAISS Score: [0.8458], PDF: 341, Chunk: 1, metadata: [{}]
2024-11-08 15:13:06:INFO:utils.RAGProcessor:FAISS Score: [0.8472], PDF: 353, Chunk: 1, metadata: [{}]
2024-11-08 15:13:06:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 606, Chunk 1: Final Score=0.9815, BM25=1.0000, FAISS=1.0000, Importance=0.9452, Semantic=1.0000, Coverage=1.0000, Position=0.8074, Density=1.0000, Context=1.0000
2024-11-08 15:13:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 606, Chunk 2: Final Score=0.7649, BM25=0.7194, FAISS=0.8784, Importance=1.0000, Semantic=0.0291, Coverage=0.7614, Position=1.0000, Density=0.9631, Context=0.4240
2024-11-08 15:13:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 353, Chunk 2: Final Score=0.1898, BM25=0.0000, FAISS=0.0000, Importance=0.0327, Semantic=0.7073, Coverage=0.0000, Position=0.7235, Density=0.3454, Context=0.3337
2024-11-08 15:13:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 341, Chunk 2: Final Score=0.1304, BM25=0.0014, FAISS=0.0000, Importance=0.0000, Semantic=0.4760, Coverage=0.0000, Position=0.2288, Density=0.3534, Context=0.4264
2024-11-08 15:13:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 202, Chunk 3: Final Score=0.0518, BM25=0.0000, FAISS=0.1796, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 228, Chunk 1: Final Score=0.0158, BM25=0.0244, FAISS=0.0000, Importance=0.9049, Semantic=0.0000, Coverage=0.0879, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 341, Chunk 1: Final Score=0.0042, BM25=0.0000, FAISS=0.0147, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 353, Chunk 1: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:06:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:06:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:06:INFO:utils.RAGProcessor:Query Features - Length: 8, Diversity: 0.89
2024-11-08 15:13:06:INFO:__main__:================================================================= QID: 18 =================================================================
2024-11-08 15:13:06:INFO:utils.rag_processor.query_processor:query分詞結果: 滿期/計算/保險金
2024-11-08 15:13:06:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:06:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 184, Chunk 4, Score: 3.5019, Term Importance: 0.4435, Semantic Similarity: 0.9825, Query Coverage: 0.7231, Position Score: 0.0203, Term Density: 0.1698, Context Similarity: 4.4327, Frequency: [('保險金', 13), ('計算', 3), ('滿期', 2)]
2024-11-08 15:13:06:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 184, Chunk 3, Score: 3.3995, Term Importance: 0.1251, Semantic Similarity: 0.9837, Query Coverage: 0.7231, Position Score: 0.0361, Term Density: 0.1085, Context Similarity: 2.5953, Frequency: [('保險金', 4), ('滿期', 2), ('計算', 1)]
2024-11-08 15:13:06:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 184, Chunk 5, Score: 3.2836, Term Importance: 0.1099, Semantic Similarity: 0.9845, Query Coverage: 0.7231, Position Score: 0.0210, Term Density: 0.0981, Context Similarity: 3.0264, Frequency: [('保險金', 4), ('計算', 2), ('滿期', 1)]
2024-11-08 15:13:06:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 184, Chunk 2, Score: 3.0818, Term Importance: 0.1327, Semantic Similarity: 0.9843, Query Coverage: 0.7231, Position Score: 0.0438, Term Density: 0.1108, Context Similarity: 1.4121, Frequency: [('保險金', 7), ('計算', 1), ('滿期', 1)]
2024-11-08 15:13:06:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 486, Chunk 1, Score: 2.1987, Term Importance: 0.4413, Semantic Similarity: 0.9823, Query Coverage: 0.2610, Position Score: 0.0168, Term Density: 0.0495, Context Similarity: 2.4865, Frequency: [('保險金', 10), ('計算', 2)]
2024-11-08 15:13:06:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:06:INFO:utils.RAGProcessor:FAISS Score: [0.7016], PDF: 184, Chunk: 3, metadata: [{}]
2024-11-08 15:13:06:INFO:utils.RAGProcessor:FAISS Score: [0.7420], PDF: 184, Chunk: 5, metadata: [{}]
2024-11-08 15:13:06:INFO:utils.RAGProcessor:FAISS Score: [0.7485], PDF: 184, Chunk: 2, metadata: [{}]
2024-11-08 15:13:06:INFO:utils.RAGProcessor:FAISS Score: [0.7509], PDF: 184, Chunk: 4, metadata: [{}]
2024-11-08 15:13:06:INFO:utils.RAGProcessor:FAISS Score: [0.7735], PDF: 184, Chunk: 1, metadata: [{}]
2024-11-08 15:13:06:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 184, Chunk 3: Final Score=0.8235, BM25=0.9214, FAISS=1.0000, Importance=0.0454, Semantic=0.6347, Coverage=1.0000, Position=0.7139, Density=0.4901, Context=0.3917
2024-11-08 15:13:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 184, Chunk 4: Final Score=0.6508, BM25=1.0000, FAISS=0.3151, Importance=1.0000, Semantic=0.1159, Coverage=1.0000, Position=0.1303, Density=1.0000, Context=1.0000
2024-11-08 15:13:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 184, Chunk 2: Final Score=0.6127, BM25=0.6776, FAISS=0.3484, Importance=0.0683, Semantic=0.9196, Coverage=1.0000, Position=1.0000, Density=0.5099, Context=0.0000
2024-11-08 15:13:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 184, Chunk 5: Final Score=0.6095, BM25=0.8325, FAISS=0.4377, Importance=0.0000, Semantic=1.0000, Coverage=1.0000, Position=0.1542, Density=0.4038, Context=0.5344
2024-11-08 15:13:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 486, Chunk 1: Final Score=0.0171, BM25=0.0000, FAISS=0.0000, Importance=0.9933, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.3557
2024-11-08 15:13:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 184, Chunk 1: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:06:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:06:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:06:INFO:utils.RAGProcessor:Query Features - Length: 3, Diversity: 0.75
2024-11-08 15:13:06:INFO:__main__:================================================================= QID: 19 =================================================================
2024-11-08 15:13:07:INFO:utils.rag_processor.query_processor:query分詞結果: 受益/時應/哪些/文件/申領/受益人/保險金/檢具/喪葬費/喪葬/用/身故
2024-11-08 15:13:07:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:07:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 315, Chunk 2, Score: 13.4038, Term Importance: 3.5467, Semantic Similarity: 0.9843, Query Coverage: 1.0950, Position Score: 0.0189, Term Density: 0.9692, Context Similarity: 6.6847, Frequency: [('保險金', 13), ('身故', 5), ('喪葬', 3), ('喪葬費', 3), ('用', 3), ('申領', 3), ('受益', 2), ('受益人', 2), ('時應', 1), ('檢具', 1)]
2024-11-08 15:13:07:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 392, Chunk 0, Score: 8.8104, Term Importance: 1.2772, Semantic Similarity: 0.9842, Query Coverage: 0.6319, Position Score: 0.0174, Term Density: 0.4397, Context Similarity: 8.4052, Frequency: [('保險金', 8), ('受益', 5), ('受益人', 5), ('申領', 4), ('文件', 2), ('身故', 1), ('喪葬', 1), ('喪葬費', 1), ('用', 1)]
2024-11-08 15:13:07:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 223, Chunk 3, Score: 8.2297, Term Importance: 1.3709, Semantic Similarity: 0.9814, Query Coverage: 0.6319, Position Score: 0.0214, Term Density: 0.3951, Context Similarity: 6.6906, Frequency: [('保險金', 12), ('身故', 4), ('喪葬', 2), ('喪葬費', 2), ('用', 2), ('申領', 2), ('受益', 2), ('受益人', 2), ('文件', 1)]
2024-11-08 15:13:07:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 223, Chunk 2, Score: 8.0119, Term Importance: 0.5247, Semantic Similarity: 0.9834, Query Coverage: 0.6133, Position Score: 0.0179, Term Density: 0.3239, Context Similarity: 9.0473, Frequency: [('保險金', 8), ('身故', 4), ('受益', 3), ('受益人', 3), ('文件', 3), ('喪葬', 3), ('喪葬費', 3), ('用', 3), ('檢具', 1)]
2024-11-08 15:13:07:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 188, Chunk 0, Score: 7.0536, Term Importance: 0.4759, Semantic Similarity: 0.9817, Query Coverage: 0.3667, Position Score: 0.0136, Term Density: 0.2200, Context Similarity: 8.8336, Frequency: [('受益', 6), ('受益人', 6), ('保險金', 2), ('申領', 1), ('文件', 1)]
2024-11-08 15:13:08:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:08:INFO:utils.RAGProcessor:FAISS Score: [0.6379], PDF: 315, Chunk: 2, metadata: [{}]
2024-11-08 15:13:08:INFO:utils.RAGProcessor:FAISS Score: [0.7313], PDF: 387, Chunk: 2, metadata: [{}]
2024-11-08 15:13:08:INFO:utils.RAGProcessor:FAISS Score: [0.7324], PDF: 172, Chunk: 2, metadata: [{}]
2024-11-08 15:13:08:INFO:utils.RAGProcessor:FAISS Score: [0.7906], PDF: 223, Chunk: 5, metadata: [{}]
2024-11-08 15:13:08:INFO:utils.RAGProcessor:FAISS Score: [0.7913], PDF: 431, Chunk: 1, metadata: [{}]
2024-11-08 15:13:08:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 315, Chunk 2: Final Score=0.9208, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.6760, Density=1.0000, Context=0.0000
2024-11-08 15:13:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 392, Chunk 0: Final Score=0.3048, BM25=0.2767, FAISS=0.0000, Importance=0.2609, Semantic=0.9696, Coverage=0.3642, Position=0.4892, Density=0.2933, Context=0.7282
2024-11-08 15:13:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 223, Chunk 2: Final Score=0.2496, BM25=0.1509, FAISS=0.0000, Importance=0.0159, Semantic=0.7087, Coverage=0.3386, Position=0.5519, Density=0.1388, Context=1.0000
2024-11-08 15:13:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 223, Chunk 3: Final Score=0.2147, BM25=0.1852, FAISS=0.0000, Importance=0.2914, Semantic=0.0000, Coverage=0.3642, Position=1.0000, Density=0.2337, Context=0.0025
2024-11-08 15:13:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 387, Chunk 2: Final Score=0.1128, BM25=0.0000, FAISS=0.3912, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 172, Chunk 2: Final Score=0.1108, BM25=0.0000, FAISS=0.3840, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 188, Chunk 0: Final Score=0.0507, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0900, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.9095
2024-11-08 15:13:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 223, Chunk 5: Final Score=0.0015, BM25=0.0000, FAISS=0.0051, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 431, Chunk 1: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:08:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:08:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:08:INFO:utils.RAGProcessor:Query Features - Length: 12, Diversity: 0.92
2024-11-08 15:13:08:INFO:__main__:================================================================= QID: 20 =================================================================
2024-11-08 15:13:08:INFO:utils.rag_processor.query_processor:query分詞結果: 標準/完全/失能/進行/方式/失能保險金/保險金/依據/計算
2024-11-08 15:13:08:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:09:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 292, Chunk 2, Score: 6.3980, Term Importance: 2.3392, Semantic Similarity: 0.9844, Query Coverage: 0.6271, Position Score: 0.0160, Term Density: 0.5263, Context Similarity: 6.9513, Frequency: [('保險金', 13), ('完全', 7), ('失能', 7), ('失能保險金', 5), ('方式', 4), ('計算', 2)]
2024-11-08 15:13:09:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 292, Chunk 3, Score: 6.0573, Term Importance: 2.3532, Semantic Similarity: 0.9851, Query Coverage: 0.6271, Position Score: 0.0140, Term Density: 0.5463, Context Similarity: 6.4203, Frequency: [('完全', 8), ('失能', 8), ('保險金', 7), ('失能保險金', 5), ('計算', 3), ('方式', 1)]
2024-11-08 15:13:09:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 292, Chunk 4, Score: 6.0263, Term Importance: 5.4069, Semantic Similarity: 0.9839, Query Coverage: 0.6271, Position Score: 0.0277, Term Density: 0.4567, Context Similarity: 3.3275, Frequency: [('保險金', 7), ('失能', 6), ('完全', 5), ('失能保險金', 5), ('方式', 1), ('計算', 1)]
2024-11-08 15:13:09:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 578, Chunk 0, Score: 3.1880, Term Importance: 0.0444, Semantic Similarity: 0.9811, Query Coverage: 0.3636, Position Score: 0.0200, Term Density: 0.1322, Context Similarity: 2.0310, Frequency: [('完全', 1), ('失能', 1), ('保險金', 1), ('方式', 1)]
2024-11-08 15:13:09:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 292, Chunk 1, Score: 2.0642, Term Importance: 0.1517, Semantic Similarity: 0.9844, Query Coverage: 0.1793, Position Score: 0.0148, Term Density: 0.0649, Context Similarity: 2.3104, Frequency: [('保險金', 4), ('計算', 1), ('方式', 1)]
2024-11-08 15:13:09:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:09:INFO:utils.RAGProcessor:FAISS Score: [0.6801], PDF: 292, Chunk: 4, metadata: [{}]
2024-11-08 15:13:09:INFO:utils.RAGProcessor:FAISS Score: [0.7264], PDF: 292, Chunk: 3, metadata: [{}]
2024-11-08 15:13:09:INFO:utils.RAGProcessor:FAISS Score: [0.7451], PDF: 292, Chunk: 2, metadata: [{}]
2024-11-08 15:13:09:INFO:utils.RAGProcessor:FAISS Score: [0.8981], PDF: 486, Chunk: 1, metadata: [{}]
2024-11-08 15:13:09:INFO:utils.RAGProcessor:FAISS Score: [0.9070], PDF: 292, Chunk: 1, metadata: [{}]
2024-11-08 15:13:09:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 292, Chunk 4: Final Score=0.8943, BM25=0.9142, FAISS=1.0000, Importance=1.0000, Semantic=0.6925, Coverage=1.0000, Position=1.0000, Density=0.8139, Context=0.2635
2024-11-08 15:13:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 292, Chunk 3: Final Score=0.8216, BM25=0.9214, FAISS=0.7957, Importance=0.4305, Semantic=1.0000, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=0.8921
2024-11-08 15:13:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 292, Chunk 2: Final Score=0.8159, BM25=1.0000, FAISS=0.7134, Importance=0.4279, Semantic=0.8264, Coverage=1.0000, Position=0.1470, Density=0.9584, Context=1.0000
2024-11-08 15:13:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 578, Chunk 0: Final Score=0.1696, BM25=0.2593, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.4115, Position=0.4384, Density=0.1397, Context=0.0000
2024-11-08 15:13:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 292, Chunk 1: Final Score=0.0712, BM25=0.0000, FAISS=0.0000, Importance=0.0200, Semantic=0.8155, Coverage=0.0000, Position=0.0602, Density=0.0000, Context=0.0568
2024-11-08 15:13:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 486, Chunk 1: Final Score=0.0113, BM25=0.0000, FAISS=0.0391, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:09:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:09:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:09:INFO:utils.RAGProcessor:Query Features - Length: 9, Diversity: 0.90
2024-11-08 15:13:09:INFO:__main__:================================================================= QID: 21 =================================================================
2024-11-08 15:13:10:INFO:utils.rag_processor.query_processor:query分詞結果: 受益/時應/完全/失能/哪些/文件/申領/受益人/保險金/失能保險金/檢具
2024-11-08 15:13:10:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:10:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 36, Chunk 1, Score: 16.6245, Term Importance: 5.9512, Semantic Similarity: 0.9706, Query Coverage: 1.2856, Position Score: 0.0357, Term Density: 1.0113, Context Similarity: 5.0576, Frequency: [('保險金', 7), ('失能', 6), ('完全', 5), ('失能保險金', 5), ('受益', 4), ('受益人', 4), ('申領', 3), ('時應', 1), ('檢具', 1), ('文件', 1)]
2024-11-08 15:13:10:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 392, Chunk 0, Score: 11.0835, Term Importance: 1.4892, Semantic Similarity: 0.9702, Query Coverage: 0.7409, Position Score: 0.0144, Term Density: 0.4022, Context Similarity: 9.1405, Frequency: [('保險金', 8), ('受益', 5), ('受益人', 5), ('申領', 4), ('完全', 4), ('失能', 4), ('文件', 2), ('失能保險金', 1)]
2024-11-08 15:13:10:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 639, Chunk 1, Score: 10.0505, Term Importance: 1.2064, Semantic Similarity: 0.9699, Query Coverage: 0.7409, Position Score: 0.0225, Term Density: 0.3905, Context Similarity: 3.7421, Frequency: [('保險金', 11), ('受益', 3), ('受益人', 3), ('申領', 2), ('完全', 1), ('失能', 1), ('失能保險金', 1), ('文件', 1)]
2024-11-08 15:13:10:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 8, Chunk 1, Score: 10.0505, Term Importance: 1.2044, Semantic Similarity: 0.9694, Query Coverage: 0.7409, Position Score: 0.0220, Term Density: 0.3905, Context Similarity: 3.7421, Frequency: [('保險金', 11), ('受益', 3), ('受益人', 3), ('申領', 2), ('完全', 1), ('失能', 1), ('失能保險金', 1), ('文件', 1)]
2024-11-08 15:13:10:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 8, Chunk 1, Score: 10.0505, Term Importance: 1.2044, Semantic Similarity: 0.9694, Query Coverage: 0.7409, Position Score: 0.0220, Term Density: 0.3905, Context Similarity: 3.7421, Frequency: [('保險金', 11), ('受益', 3), ('受益人', 3), ('申領', 2), ('完全', 1), ('失能', 1), ('失能保險金', 1), ('文件', 1)]
2024-11-08 15:13:11:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:11:INFO:utils.RAGProcessor:FAISS Score: [0.6184], PDF: 36, Chunk: 1, metadata: [{}]
2024-11-08 15:13:11:INFO:utils.RAGProcessor:FAISS Score: [0.6670], PDF: 36, Chunk: 2, metadata: [{}]
2024-11-08 15:13:11:INFO:utils.RAGProcessor:FAISS Score: [0.8099], PDF: 392, Chunk: 1, metadata: [{}]
2024-11-08 15:13:11:INFO:utils.RAGProcessor:FAISS Score: [0.8744], PDF: 338, Chunk: 5, metadata: [{}]
2024-11-08 15:13:11:INFO:utils.RAGProcessor:FAISS Score: [0.8918], PDF: 392, Chunk: 0, metadata: [{}]
2024-11-08 15:13:11:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:11:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 36, Chunk 1: Final Score=0.9636, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=0.2437
2024-11-08 15:13:11:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 36, Chunk 2: Final Score=0.2372, BM25=0.0000, FAISS=0.8225, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:11:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 392, Chunk 0: Final Score=0.1380, BM25=0.1571, FAISS=0.0000, Importance=0.0600, Semantic=0.6615, Coverage=0.0000, Position=0.0000, Density=0.0190, Context=1.0000
2024-11-08 15:13:11:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 392, Chunk 1: Final Score=0.0865, BM25=0.0000, FAISS=0.2998, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:11:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 639, Chunk 1: Final Score=0.0687, BM25=0.0000, FAISS=0.0000, Importance=0.0004, Semantic=0.4206, Coverage=0.0000, Position=0.3784, Density=0.0000, Context=0.0000
2024-11-08 15:13:11:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 8, Chunk 1: Final Score=0.0345, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.3584, Density=0.0000, Context=0.0000
2024-11-08 15:13:11:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 338, Chunk 5: Final Score=0.0184, BM25=0.0000, FAISS=0.0637, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:11:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:11:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:11:INFO:utils.RAGProcessor:Query Features - Length: 11, Diversity: 0.92
2024-11-08 15:13:11:INFO:__main__:================================================================= QID: 22 =================================================================
2024-11-08 15:13:11:INFO:utils.rag_processor.query_processor:query分詞結果: 受益/一次/受益人/申領/定期/保險金/第一次/分期/何時/第一/本公司/應於/給付
2024-11-08 15:13:11:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:11:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 614, Chunk 1, Score: 18.1100, Term Importance: 7.1266, Semantic Similarity: 0.9899, Query Coverage: 1.1297, Position Score: 0.0178, Term Density: 0.8383, Context Similarity: 20.7771, Frequency: [('給付', 15), ('保險金', 12), ('受益', 8), ('受益人', 8), ('申領', 7), ('分期', 6), ('定期', 6), ('本公司', 5), ('第一', 2), ('一次', 2)]
2024-11-08 15:13:11:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 614, Chunk 0, Score: 11.4044, Term Importance: 6.1163, Semantic Similarity: 0.9881, Query Coverage: 0.6801, Position Score: 0.0197, Term Density: 0.6788, Context Similarity: 23.5577, Frequency: [('保險金', 13), ('給付', 11), ('定期', 8), ('分期', 7), ('受益', 6), ('受益人', 6), ('本公司', 5), ('申領', 1)]
2024-11-08 15:13:11:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 439, Chunk 2, Score: 4.7242, Term Importance: 0.1268, Semantic Similarity: 0.9797, Query Coverage: 0.1649, Position Score: 0.0243, Term Density: 0.1530, Context Similarity: 8.1159, Frequency: [('給付', 5), ('保險金', 2), ('本公司', 2), ('一次', 2), ('第一', 1)]
2024-11-08 15:13:11:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 578, Chunk 0, Score: 4.0900, Term Importance: 0.1130, Semantic Similarity: 0.9861, Query Coverage: 0.1428, Position Score: 0.0164, Term Density: 0.0693, Context Similarity: 11.4874, Frequency: [('本公司', 8), ('分期', 3), ('給付', 2), ('第一', 1), ('保險金', 1)]
2024-11-08 15:13:11:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 486, Chunk 0, Score: 3.9171, Term Importance: 0.6155, Semantic Similarity: 0.9831, Query Coverage: 0.1509, Position Score: 0.0139, Term Density: 0.1269, Context Similarity: 13.4354, Frequency: [('給付', 10), ('保險金', 9), ('本公司', 3), ('一次', 1)]
2024-11-08 15:13:12:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:12:INFO:utils.RAGProcessor:FAISS Score: [0.5428], PDF: 614, Chunk: 1, metadata: [{}]
2024-11-08 15:13:12:INFO:utils.RAGProcessor:FAISS Score: [0.6934], PDF: 614, Chunk: 0, metadata: [{}]
2024-11-08 15:13:12:INFO:utils.RAGProcessor:FAISS Score: [0.8013], PDF: 578, Chunk: 0, metadata: [{}]
2024-11-08 15:13:12:INFO:utils.RAGProcessor:FAISS Score: [0.8259], PDF: 486, Chunk: 1, metadata: [{}]
2024-11-08 15:13:12:INFO:utils.RAGProcessor:FAISS Score: [0.8465], PDF: 486, Chunk: 2, metadata: [{}]
2024-11-08 15:13:12:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:12:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 614, Chunk 1: Final Score=0.9309, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.3717, Density=1.0000, Context=0.8199
2024-11-08 15:13:12:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 614, Chunk 0: Final Score=0.6096, BM25=0.5275, FAISS=0.5039, Importance=0.8560, Semantic=0.8248, Coverage=0.5444, Position=0.5602, Density=0.7925, Context=1.0000
2024-11-08 15:13:12:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 439, Chunk 2: Final Score=0.1276, BM25=0.0569, FAISS=0.0000, Importance=0.0020, Semantic=0.0000, Coverage=0.0224, Position=1.0000, Density=0.1088, Context=0.0000
2024-11-08 15:13:12:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 578, Chunk 0: Final Score=0.1271, BM25=0.0122, FAISS=0.1487, Importance=0.0000, Semantic=0.6217, Coverage=0.0000, Position=0.2397, Density=0.0000, Context=0.2183
2024-11-08 15:13:12:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 486, Chunk 0: Final Score=0.0537, BM25=0.0000, FAISS=0.0000, Importance=0.0716, Semantic=0.3301, Coverage=0.0082, Position=0.0000, Density=0.0748, Context=0.3445
2024-11-08 15:13:12:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 486, Chunk 1: Final Score=0.0196, BM25=0.0000, FAISS=0.0679, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:12:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 486, Chunk 2: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:12:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:12:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:12:INFO:utils.RAGProcessor:Query Features - Length: 13, Diversity: 0.93
2024-11-08 15:13:12:INFO:__main__:================================================================= QID: 23 =================================================================
2024-11-08 15:13:12:INFO:utils.rag_processor.query_processor:query分詞結果: 保險費/欠繳/未還/影響/保險金/項目/會/款項/金額/本公司/給付
2024-11-08 15:13:12:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:12:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 224, Chunk 0, Score: 9.8123, Term Importance: 0.4090, Semantic Similarity: 0.9906, Query Coverage: 0.7098, Position Score: 0.0231, Term Density: 0.3648, Context Similarity: 7.5282, Frequency: [('保險金', 5), ('本公司', 4), ('給付', 3), ('保險費', 3), ('欠繳', 2), ('未還', 1), ('款項', 1), ('金額', 1)]
2024-11-08 15:13:12:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 228, Chunk 1, Score: 5.4754, Term Importance: 0.1875, Semantic Similarity: 0.9887, Query Coverage: 0.2542, Position Score: 0.0152, Term Density: 0.0816, Context Similarity: 16.2033, Frequency: [('保險費', 10), ('本公司', 8), ('金額', 4), ('保險金', 3), ('給付', 2), ('項目', 1)]
2024-11-08 15:13:12:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 228, Chunk 0, Score: 4.6500, Term Importance: 0.1114, Semantic Similarity: 0.9907, Query Coverage: 0.2340, Position Score: 0.0170, Term Density: 0.1609, Context Similarity: 13.2700, Frequency: [('本公司', 10), ('給付', 2), ('款項', 2), ('保險費', 1), ('金額', 1)]
2024-11-08 15:13:12:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 224, Chunk 1, Score: 4.6363, Term Importance: 0.1991, Semantic Similarity: 0.9913, Query Coverage: 0.2244, Position Score: 0.0222, Term Density: 0.1306, Context Similarity: 12.9161, Frequency: [('保險費', 7), ('本公司', 3), ('欠繳', 2), ('給付', 1)]
2024-11-08 15:13:12:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 337, Chunk 0, Score: 4.4766, Term Importance: 0.2773, Semantic Similarity: 0.9892, Query Coverage: 0.2078, Position Score: 0.0192, Term Density: 0.0971, Context Similarity: 16.8004, Frequency: [('保險費', 11), ('本公司', 6), ('給付', 3), ('項目', 1), ('金額', 1)]
2024-11-08 15:13:13:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:13:INFO:utils.RAGProcessor:FAISS Score: [0.7015], PDF: 99, Chunk: 1, metadata: [{}]
2024-11-08 15:13:13:INFO:utils.RAGProcessor:FAISS Score: [0.7614], PDF: 337, Chunk: 1, metadata: [{}]
2024-11-08 15:13:13:INFO:utils.RAGProcessor:FAISS Score: [0.7701], PDF: 428, Chunk: 2, metadata: [{}]
2024-11-08 15:13:13:INFO:utils.RAGProcessor:FAISS Score: [0.7741], PDF: 228, Chunk: 2, metadata: [{}]
2024-11-08 15:13:13:INFO:utils.RAGProcessor:FAISS Score: [0.7745], PDF: 228, Chunk: 1, metadata: [{}]
2024-11-08 15:13:13:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:13:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 224, Chunk 0: Final Score=0.6414, BM25=1.0000, FAISS=0.0000, Importance=1.0000, Semantic=0.7126, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=0.0000
2024-11-08 15:13:13:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 99, Chunk 1: Final Score=0.2885, BM25=0.0000, FAISS=1.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:13:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 224, Chunk 1: Final Score=0.2249, BM25=0.0299, FAISS=0.0000, Importance=0.2948, Semantic=1.0000, Coverage=0.0330, Position=0.8772, Density=0.1729, Context=0.5811
2024-11-08 15:13:13:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 228, Chunk 0: Final Score=0.1639, BM25=0.0325, FAISS=0.0000, Importance=0.0000, Semantic=0.7540, Coverage=0.0521, Position=0.2314, Density=0.2802, Context=0.6192
2024-11-08 15:13:13:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 337, Chunk 0: Final Score=0.1178, BM25=0.0000, FAISS=0.0000, Importance=0.5576, Semantic=0.1708, Coverage=0.0000, Position=0.5060, Density=0.0548, Context=1.0000
2024-11-08 15:13:13:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 228, Chunk 1: Final Score=0.0989, BM25=0.1872, FAISS=0.0000, Importance=0.2556, Semantic=0.0000, Coverage=0.0925, Position=0.0000, Density=0.0000, Context=0.9356
2024-11-08 15:13:13:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 337, Chunk 1: Final Score=0.0518, BM25=0.0000, FAISS=0.1795, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:13:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 428, Chunk 2: Final Score=0.0173, BM25=0.0000, FAISS=0.0599, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:13:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 228, Chunk 2: Final Score=0.0017, BM25=0.0000, FAISS=0.0057, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:13:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:13:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:13:INFO:utils.RAGProcessor:Query Features - Length: 11, Diversity: 0.92
2024-11-08 15:13:13:INFO:__main__:================================================================= QID: 24 =================================================================
2024-11-08 15:13:13:INFO:utils.rag_processor.query_processor:query分詞結果: 要保人/繳/保險費/保人/繼續/是否/定期/改為/展期
2024-11-08 15:13:13:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:13:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 359, Chunk 2, Score: 7.9670, Term Importance: 0.9682, Semantic Similarity: 0.9936, Query Coverage: 0.6843, Position Score: 0.0148, Term Density: 0.2735, Context Similarity: 12.5328, Frequency: [('保險費', 7), ('展期', 6), ('定期', 6), ('保人', 5), ('要保人', 5), ('改為', 2), ('繼續', 1), ('繳', 1)]
2024-11-08 15:13:13:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 62, Chunk 2, Score: 7.5042, Term Importance: 0.3823, Semantic Similarity: 0.9934, Query Coverage: 0.6843, Position Score: 0.0199, Term Density: 0.2118, Context Similarity: 5.5363, Frequency: [('保險費', 6), ('保人', 4), ('要保人', 4), ('繼續', 2), ('繳', 1), ('改為', 1), ('展期', 1), ('定期', 1)]
2024-11-08 15:13:13:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 343, Chunk 2, Score: 6.1220, Term Importance: 0.2290, Semantic Similarity: 0.9932, Query Coverage: 0.5112, Position Score: 0.0208, Term Density: 0.2118, Context Similarity: 6.2110, Frequency: [('保險費', 6), ('保人', 5), ('要保人', 5), ('繼續', 2), ('定期', 1), ('繳', 1), ('改為', 1)]
2024-11-08 15:13:13:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 343, Chunk 3, Score: 6.0205, Term Importance: 0.2380, Semantic Similarity: 0.9914, Query Coverage: 0.4079, Position Score: 0.0460, Term Density: 0.1781, Context Similarity: 4.5010, Frequency: [('保險費', 3), ('展期', 2), ('定期', 2), ('保人', 2), ('要保人', 2), ('改為', 1)]
2024-11-08 15:13:14:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 625, Chunk 2, Score: 5.5467, Term Importance: 0.4104, Semantic Similarity: 0.9927, Query Coverage: 0.4504, Position Score: 0.0250, Term Density: 0.2118, Context Similarity: 7.4374, Frequency: [('保險費', 7), ('保人', 4), ('要保人', 4), ('繼續', 2), ('繳', 1), ('改為', 1)]
2024-11-08 15:13:14:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:14:INFO:utils.RAGProcessor:FAISS Score: [0.4832], PDF: 359, Chunk: 2, metadata: [{}]
2024-11-08 15:13:14:INFO:utils.RAGProcessor:FAISS Score: [0.5608], PDF: 343, Chunk: 3, metadata: [{}]
2024-11-08 15:13:14:INFO:utils.RAGProcessor:FAISS Score: [0.6456], PDF: 62, Chunk: 2, metadata: [{}]
2024-11-08 15:13:14:INFO:utils.RAGProcessor:FAISS Score: [0.6898], PDF: 343, Chunk: 2, metadata: [{}]
2024-11-08 15:13:14:INFO:utils.RAGProcessor:FAISS Score: [0.6945], PDF: 625, Chunk: 2, metadata: [{}]
2024-11-08 15:13:14:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:14:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 359, Chunk 2: Final Score=0.9038, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:13:14:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 62, Chunk 2: Final Score=0.5105, BM25=0.8088, FAISS=0.2314, Importance=0.2073, Semantic=0.8960, Coverage=1.0000, Position=0.1627, Density=0.3531, Context=0.1289
2024-11-08 15:13:14:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 343, Chunk 3: Final Score=0.3238, BM25=0.1957, FAISS=0.6327, Importance=0.0122, Semantic=0.0000, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:14:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 343, Chunk 2: Final Score=0.2470, BM25=0.2377, FAISS=0.0222, Importance=0.0000, Semantic=0.8171, Coverage=0.3737, Position=0.1933, Density=0.3531, Context=0.2129
2024-11-08 15:13:14:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 625, Chunk 2: Final Score=0.1624, BM25=0.0000, FAISS=0.0000, Importance=0.2454, Semantic=0.5795, Coverage=0.1540, Position=0.3277, Density=0.3531, Context=0.3656
2024-11-08 15:13:14:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:14:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:14:INFO:utils.RAGProcessor:Query Features - Length: 9, Diversity: 0.90
2024-11-08 15:13:14:INFO:__main__:================================================================= QID: 25 =================================================================
2024-11-08 15:13:15:INFO:utils.rag_processor.query_processor:query分詞結果: 負擔/匯款/相關/費用/誰
2024-11-08 15:13:15:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:15:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 4, Chunk 0, Score: 8.8004, Term Importance: 2.2214, Semantic Similarity: 0.9918, Query Coverage: 1.5073, Position Score: 0.0193, Term Density: 0.8890, Context Similarity: 26.8552, Frequency: [('費用', 8), ('匯款', 7), ('相關', 7), ('負擔', 4)]
2024-11-08 15:13:15:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 4, Chunk 1, Score: 8.1921, Term Importance: 3.7929, Semantic Similarity: 0.9897, Query Coverage: 1.5073, Position Score: 0.0401, Term Density: 0.7830, Context Similarity: 18.1935, Frequency: [('相關', 6), ('匯款', 6), ('費用', 3), ('負擔', 1)]
2024-11-08 15:13:15:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 434, Chunk 2, Score: 4.4608, Term Importance: 0.0444, Semantic Similarity: 0.9876, Query Coverage: 0.9657, Position Score: 0.2495, Term Density: 0.2414, Context Similarity: 4.3170, Frequency: [('相關', 1), ('費用', 1), ('負擔', 1)]
2024-11-08 15:13:15:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 254, Chunk 0, Score: 4.0840, Term Importance: 0.0261, Semantic Similarity: 0.9879, Query Coverage: 0.9657, Position Score: 0.2477, Term Density: 0.2414, Context Similarity: 3.6458, Frequency: [('相關', 1), ('費用', 1), ('負擔', 1)]
2024-11-08 15:13:15:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 196, Chunk 1, Score: 3.8888, Term Importance: 0.0414, Semantic Similarity: 0.9873, Query Coverage: 0.9657, Position Score: 0.2813, Term Density: 0.2414, Context Similarity: 4.5268, Frequency: [('相關', 1), ('費用', 1), ('負擔', 1)]
2024-11-08 15:13:15:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:15:INFO:utils.RAGProcessor:FAISS Score: [0.8610], PDF: 4, Chunk: 1, metadata: [{}]
2024-11-08 15:13:15:INFO:utils.RAGProcessor:FAISS Score: [0.8630], PDF: 4, Chunk: 0, metadata: [{}]
2024-11-08 15:13:15:INFO:utils.RAGProcessor:FAISS Score: [1.0362], PDF: 591, Chunk: 2, metadata: [{}]
2024-11-08 15:13:15:INFO:utils.RAGProcessor:FAISS Score: [1.0481], PDF: 518, Chunk: 2, metadata: [{}]
2024-11-08 15:13:15:INFO:utils.RAGProcessor:FAISS Score: [1.0511], PDF: 40, Chunk: 1, metadata: [{}]
2024-11-08 15:13:15:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:15:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 4, Chunk 0: Final Score=0.9009, BM25=1.0000, FAISS=0.9897, Importance=0.5828, Semantic=1.0000, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:13:15:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 4, Chunk 1: Final Score=0.8056, BM25=0.8762, FAISS=1.0000, Importance=1.0000, Semantic=0.5352, Coverage=1.0000, Position=0.0793, Density=0.8363, Context=0.6268
2024-11-08 15:13:15:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 434, Chunk 2: Final Score=0.1169, BM25=0.1165, FAISS=0.0000, Importance=0.0049, Semantic=0.0535, Coverage=0.0000, Position=0.8789, Density=0.0000, Context=0.0289
2024-11-08 15:13:15:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 254, Chunk 0: Final Score=0.1029, BM25=0.0398, FAISS=0.0000, Importance=0.0000, Semantic=0.1283, Coverage=0.0000, Position=0.8719, Density=0.0000, Context=0.0000
2024-11-08 15:13:15:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 196, Chunk 1: Final Score=0.0980, BM25=0.0000, FAISS=0.0000, Importance=0.0040, Semantic=0.0000, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0380
2024-11-08 15:13:15:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 591, Chunk 2: Final Score=0.0227, BM25=0.0000, FAISS=0.0786, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:15:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 518, Chunk 2: Final Score=0.0046, BM25=0.0000, FAISS=0.0158, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:15:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 40, Chunk 1: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:15:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:15:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:15:INFO:utils.RAGProcessor:Query Features - Length: 5, Diversity: 0.83
2024-11-08 15:13:15:INFO:__main__:================================================================= QID: 26 =================================================================
2024-11-08 15:13:16:INFO:utils.rag_processor.query_processor:query分詞結果: 年齡/被保險人/投保/基準/保險人/計算
2024-11-08 15:13:16:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:16:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 147, Chunk 2, Score: 9.9260, Term Importance: 2.8196, Semantic Similarity: 0.9859, Query Coverage: 1.5652, Position Score: 0.0250, Term Density: 0.8586, Context Similarity: 15.9749, Frequency: [('投保', 7), ('年齡', 7), ('計算', 3), ('保險人', 3), ('被保險人', 3)]
2024-11-08 15:13:16:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 147, Chunk 3, Score: 4.4067, Term Importance: 0.9965, Semantic Similarity: 0.9798, Query Coverage: 0.9983, Position Score: 0.0141, Term Density: 0.2190, Context Similarity: 7.1509, Frequency: [('保險人', 6), ('被保險人', 6), ('年齡', 1), ('計算', 1)]
2024-11-08 15:13:16:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 343, Chunk 0, Score: 2.0176, Term Importance: 0.5953, Semantic Similarity: 0.9776, Query Coverage: 0.5470, Position Score: 0.0148, Term Density: 0.0836, Context Similarity: 5.5778, Frequency: [('保險人', 4), ('被保險人', 4), ('計算', 1)]
2024-11-08 15:13:16:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 283, Chunk 0, Score: 1.9952, Term Importance: 0.4137, Semantic Similarity: 0.9780, Query Coverage: 0.5470, Position Score: 0.0148, Term Density: 0.0836, Context Similarity: 5.7895, Frequency: [('保險人', 4), ('被保險人', 4), ('計算', 1)]
2024-11-08 15:13:16:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 207, Chunk 1, Score: 1.9718, Term Importance: 3.1585, Semantic Similarity: 0.9775, Query Coverage: 0.5470, Position Score: 0.0152, Term Density: 0.0836, Context Similarity: 5.5778, Frequency: [('保險人', 4), ('被保險人', 4), ('計算', 1)]
2024-11-08 15:13:17:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:17:INFO:utils.RAGProcessor:FAISS Score: [0.7300], PDF: 147, Chunk: 2, metadata: [{}]
2024-11-08 15:13:17:INFO:utils.RAGProcessor:FAISS Score: [0.9178], PDF: 207, Chunk: 1, metadata: [{}]
2024-11-08 15:13:17:INFO:utils.RAGProcessor:FAISS Score: [0.9236], PDF: 283, Chunk: 1, metadata: [{}]
2024-11-08 15:13:17:INFO:utils.RAGProcessor:FAISS Score: [0.9236], PDF: 283, Chunk: 1, metadata: [{}]
2024-11-08 15:13:17:INFO:utils.RAGProcessor:FAISS Score: [0.9341], PDF: 62, Chunk: 1, metadata: [{}]
2024-11-08 15:13:17:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 147, Chunk 2: Final Score=1.0000, BM25=1.0000, FAISS=1.0000, Importance=0.8765, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=1.0000
2024-11-08 15:13:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 147, Chunk 3: Final Score=0.1750, BM25=0.3061, FAISS=0.0000, Importance=0.2123, Semantic=0.2694, Coverage=0.4433, Position=0.0000, Density=0.1747, Context=0.1513
2024-11-08 15:13:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 207, Chunk 1: Final Score=0.0330, BM25=0.0000, FAISS=0.0798, Importance=1.0000, Semantic=0.0000, Coverage=0.0000, Position=0.1041, Density=0.0000, Context=0.0000
2024-11-08 15:13:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 283, Chunk 1: Final Score=0.0149, BM25=0.0000, FAISS=0.0517, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 283, Chunk 0: Final Score=0.0126, BM25=0.0029, FAISS=0.0000, Importance=0.0000, Semantic=0.0523, Coverage=0.0000, Position=0.0714, Density=0.0000, Context=0.0204
2024-11-08 15:13:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 343, Chunk 0: Final Score=0.0094, BM25=0.0058, FAISS=0.0000, Importance=0.0662, Semantic=0.0155, Coverage=0.0000, Position=0.0720, Density=0.0000, Context=0.0000
2024-11-08 15:13:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 62, Chunk 1: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:17:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:17:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:17:INFO:utils.RAGProcessor:Query Features - Length: 6, Diversity: 0.86
2024-11-08 15:13:17:INFO:__main__:================================================================= QID: 27 =================================================================
2024-11-08 15:13:17:INFO:utils.rag_processor.query_processor:query分詞結果: 繳費/期間/指
2024-11-08 15:13:17:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:17:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 171, Chunk 1, Score: 2.9881, Term Importance: 0.6563, Semantic Similarity: 0.9883, Query Coverage: 1.0168, Position Score: 0.0481, Term Density: 0.3050, Context Similarity: 12.3501, Frequency: [('繳費', 4), ('期間', 3)]
2024-11-08 15:13:17:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 171, Chunk 0, Score: 2.6378, Term Importance: 0.0678, Semantic Similarity: 0.9892, Query Coverage: 1.0168, Position Score: 0.0309, Term Density: 0.1525, Context Similarity: 6.3712, Frequency: [('繳費', 2), ('期間', 2)]
2024-11-08 15:13:17:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 414, Chunk 1, Score: 0.7865, Term Importance: 0.0114, Semantic Similarity: 0.9845, Query Coverage: 0.3929, Position Score: 0.5768, Term Density: 0.0589, Context Similarity: 1.4231, Frequency: [('期間', 1)]
2024-11-08 15:13:17:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 22, Chunk 1, Score: 0.7736, Term Importance: 0.0114, Semantic Similarity: 0.9849, Query Coverage: 0.3929, Position Score: 0.5968, Term Density: 0.0589, Context Similarity: 1.4231, Frequency: [('期間', 1)]
2024-11-08 15:13:17:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 476, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9863, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:13:18:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:18:INFO:utils.RAGProcessor:FAISS Score: [0.9267], PDF: 171, Chunk: 1, metadata: [{}]
2024-11-08 15:13:18:INFO:utils.RAGProcessor:FAISS Score: [1.0204], PDF: 171, Chunk: 0, metadata: [{}]
2024-11-08 15:13:18:INFO:utils.RAGProcessor:FAISS Score: [1.0826], PDF: 22, Chunk: 1, metadata: [{}]
2024-11-08 15:13:18:INFO:utils.RAGProcessor:FAISS Score: [1.0934], PDF: 414, Chunk: 1, metadata: [{}]
2024-11-08 15:13:18:INFO:utils.RAGProcessor:FAISS Score: [1.1825], PDF: 414, Chunk: 0, metadata: [{}]
2024-11-08 15:13:18:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:18:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 171, Chunk 1: Final Score=0.8971, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.8118, Coverage=1.0000, Position=0.0807, Density=1.0000, Context=1.0000
2024-11-08 15:13:18:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 171, Chunk 0: Final Score=0.6807, BM25=0.8828, FAISS=0.6335, Importance=0.1034, Semantic=1.0000, Coverage=1.0000, Position=0.0518, Density=0.5000, Context=0.5159
2024-11-08 15:13:18:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 22, Chunk 1: Final Score=0.3518, BM25=0.2589, FAISS=0.3903, Importance=0.0174, Semantic=0.0688, Coverage=0.3864, Position=1.0000, Density=0.1932, Context=0.1152
2024-11-08 15:13:18:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 414, Chunk 1: Final Score=0.3321, BM25=0.2632, FAISS=0.3482, Importance=0.0174, Semantic=0.0000, Coverage=0.3864, Position=0.9664, Density=0.1932, Context=0.1152
2024-11-08 15:13:18:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 476, Chunk 0: Final Score=0.0296, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.3853, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:18:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 414, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:18:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:18:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:18:INFO:utils.RAGProcessor:Query Features - Length: 3, Diversity: 0.75
2024-11-08 15:13:18:INFO:__main__:================================================================= QID: 28 =================================================================
2024-11-08 15:13:18:INFO:utils.rag_processor.query_processor:query分詞結果: 承保/第一/保險費/同意/第一期/負/責任/是否/正確/一期/收取/本公司
2024-11-08 15:13:18:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:18:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 298, Chunk 2, Score: 19.8608, Term Importance: 0.7319, Semantic Similarity: 0.9932, Query Coverage: 1.3548, Position Score: 0.0401, Term Density: 0.9568, Context Similarity: 10.9878, Frequency: [('本公司', 6), ('責任', 5), ('保險費', 4), ('承保', 3), ('同意', 2), ('第一', 2), ('一期', 2), ('第一期', 2), ('負', 1), ('收取', 1)]
2024-11-08 15:13:18:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 298, Chunk 3, Score: 14.1882, Term Importance: 1.0370, Semantic Similarity: 0.9930, Query Coverage: 1.0742, Position Score: 0.0148, Term Density: 0.5819, Context Similarity: 10.5732, Frequency: [('本公司', 8), ('保險費', 6), ('同意', 2), ('承保', 2), ('第一', 1), ('一期', 1), ('第一期', 1), ('責任', 1), ('收取', 1)]
2024-11-08 15:13:18:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 202, Chunk 2, Score: 5.5406, Term Importance: 0.1906, Semantic Similarity: 0.9931, Query Coverage: 0.2873, Position Score: 0.0165, Term Density: 0.0746, Context Similarity: 7.5455, Frequency: [('本公司', 6), ('第一', 2), ('承保', 1), ('同意', 1), ('保險費', 1)]
2024-11-08 15:13:18:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 258, Chunk 1, Score: 5.5157, Term Importance: 0.1810, Semantic Similarity: 0.9933, Query Coverage: 0.2873, Position Score: 0.0121, Term Density: 0.0746, Context Similarity: 8.1882, Frequency: [('本公司', 5), ('第一', 4), ('承保', 1), ('同意', 1), ('保險費', 1)]
2024-11-08 15:13:18:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 78, Chunk 0, Score: 5.5019, Term Importance: 0.0308, Semantic Similarity: 0.9929, Query Coverage: 0.2873, Position Score: 0.0215, Term Density: 0.0746, Context Similarity: 8.5333, Frequency: [('本公司', 6), ('保險費', 3), ('第一', 1), ('承保', 1), ('同意', 1)]
2024-11-08 15:13:19:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:19:INFO:utils.RAGProcessor:FAISS Score: [0.7836], PDF: 78, Chunk: 2, metadata: [{}]
2024-11-08 15:13:19:INFO:utils.RAGProcessor:FAISS Score: [0.7894], PDF: 78, Chunk: 3, metadata: [{}]
2024-11-08 15:13:19:INFO:utils.RAGProcessor:FAISS Score: [0.7906], PDF: 258, Chunk: 2, metadata: [{}]
2024-11-08 15:13:19:INFO:utils.RAGProcessor:FAISS Score: [0.8101], PDF: 298, Chunk: 3, metadata: [{}]
2024-11-08 15:13:19:INFO:utils.RAGProcessor:FAISS Score: [0.8147], PDF: 298, Chunk: 2, metadata: [{}]
2024-11-08 15:13:19:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:19:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 298, Chunk 2: Final Score=0.6878, BM25=1.0000, FAISS=0.0000, Importance=0.6968, Semantic=0.6911, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=1.0000
2024-11-08 15:13:19:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 298, Chunk 3: Final Score=0.4332, BM25=0.6049, FAISS=0.1464, Importance=1.0000, Semantic=0.4150, Coverage=0.7372, Position=0.0948, Density=0.5751, Context=0.8795
2024-11-08 15:13:19:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 78, Chunk 2: Final Score=0.2885, BM25=0.0000, FAISS=1.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:19:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 78, Chunk 3: Final Score=0.2344, BM25=0.0000, FAISS=0.8125, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:19:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 258, Chunk 2: Final Score=0.2229, BM25=0.0000, FAISS=0.7727, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:19:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 258, Chunk 1: Final Score=0.0861, BM25=0.0010, FAISS=0.0000, Importance=0.1493, Semantic=1.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.1867
2024-11-08 15:13:19:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 202, Chunk 2: Final Score=0.0653, BM25=0.0027, FAISS=0.0000, Importance=0.1588, Semantic=0.6455, Coverage=0.0000, Position=0.1562, Density=0.0000, Context=0.0000
2024-11-08 15:13:19:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 78, Chunk 0: Final Score=0.0460, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.3351, Density=0.0000, Context=0.2870
2024-11-08 15:13:19:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:19:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:19:INFO:utils.RAGProcessor:Query Features - Length: 12, Diversity: 0.92
2024-11-08 15:13:19:INFO:__main__:================================================================= QID: 29 =================================================================
2024-11-08 15:13:20:INFO:utils.rag_processor.query_processor:query分詞結果: 身故/被保險人/期間/有效期/有效期間/本契約/契約/效期/是否/保險金/保險人/會/約定/本公司/有效/給付
2024-11-08 15:13:20:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:20:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 431, Chunk 1, Score: 14.8467, Term Importance: 0.7472, Semantic Similarity: 0.9905, Query Coverage: 0.3632, Position Score: 0.0145, Term Density: 0.2561, Context Similarity: 10.4360, Frequency: [('保險金', 13), ('給付', 11), ('本公司', 7), ('身故', 4), ('約定', 3), ('保險人', 3), ('被保險人', 3), ('契約', 3), ('期間', 3), ('本契約', 2)]
2024-11-08 15:13:20:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 524, Chunk 2, Score: 14.7392, Term Importance: 0.6301, Semantic Similarity: 0.9903, Query Coverage: 0.3632, Position Score: 0.0155, Term Density: 0.2561, Context Similarity: 10.1773, Frequency: [('保險金', 13), ('本公司', 10), ('給付', 10), ('身故', 4), ('約定', 3), ('保險人', 3), ('被保險人', 3), ('契約', 2), ('本契約', 2), ('期間', 2)]
2024-11-08 15:13:20:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 256, Chunk 2, Score: 14.4665, Term Importance: 0.5539, Semantic Similarity: 0.9901, Query Coverage: 0.3632, Position Score: 0.0171, Term Density: 0.2561, Context Similarity: 8.1853, Frequency: [('保險金', 9), ('給付', 8), ('本公司', 7), ('身故', 4), ('約定', 3), ('保險人', 3), ('被保險人', 3), ('契約', 1), ('本契約', 1), ('有效', 1)]
2024-11-08 15:13:20:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 236, Chunk 1, Score: 14.2626, Term Importance: 0.4140, Semantic Similarity: 0.9909, Query Coverage: 0.3632, Position Score: 0.0155, Term Density: 0.2929, Context Similarity: 6.2649, Frequency: [('保險金', 11), ('保險人', 4), ('被保險人', 4), ('本公司', 4), ('給付', 4), ('身故', 3), ('契約', 2), ('本契約', 2), ('約定', 2), ('有效', 1)]
2024-11-08 15:13:20:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 578, Chunk 0, Score: 14.0133, Term Importance: 0.2437, Semantic Similarity: 0.9893, Query Coverage: 0.3632, Position Score: 0.0161, Term Density: 0.2796, Context Similarity: 8.4127, Frequency: [('本公司', 8), ('期間', 6), ('契約', 4), ('本契約', 3), ('約定', 3), ('給付', 2), ('保險人', 2), ('被保險人', 2), ('有效', 1), ('效期', 1)]
2024-11-08 15:13:21:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:21:INFO:utils.RAGProcessor:FAISS Score: [0.5397], PDF: 256, Chunk: 2, metadata: [{}]
2024-11-08 15:13:21:INFO:utils.RAGProcessor:FAISS Score: [0.5862], PDF: 431, Chunk: 1, metadata: [{}]
2024-11-08 15:13:21:INFO:utils.RAGProcessor:FAISS Score: [0.6157], PDF: 524, Chunk: 2, metadata: [{}]
2024-11-08 15:13:21:INFO:utils.RAGProcessor:FAISS Score: [0.6273], PDF: 102, Chunk: 2, metadata: [{}]
2024-11-08 15:13:21:INFO:utils.RAGProcessor:FAISS Score: [0.6392], PDF: 236, Chunk: 2, metadata: [{}]
2024-11-08 15:13:21:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:21:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 256, Chunk 2: Final Score=0.6864, BM25=0.5438, FAISS=1.0000, Importance=0.6161, Semantic=0.5034, Coverage=1.0000, Position=1.0000, Density=0.0000, Context=0.4604
2024-11-08 15:13:21:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 431, Chunk 1: Final Score=0.6068, BM25=1.0000, FAISS=0.5322, Importance=1.0000, Semantic=0.7678, Coverage=1.0000, Position=0.0000, Density=0.0000, Context=1.0000
2024-11-08 15:13:21:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 524, Chunk 2: Final Score=0.5155, BM25=0.8710, FAISS=0.2361, Importance=0.7675, Semantic=0.6165, Coverage=1.0000, Position=0.4004, Density=0.0000, Context=0.9380
2024-11-08 15:13:21:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 236, Chunk 1: Final Score=0.4426, BM25=0.2992, FAISS=0.0000, Importance=0.3381, Semantic=1.0000, Coverage=1.0000, Position=0.3854, Density=1.0000, Context=0.0000
2024-11-08 15:13:21:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 578, Chunk 0: Final Score=0.2913, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=1.0000, Position=0.6151, Density=0.6377, Context=0.5149
2024-11-08 15:13:21:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 102, Chunk 2: Final Score=0.0345, BM25=0.0000, FAISS=0.1197, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:21:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 236, Chunk 2: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:21:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:21:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:21:INFO:utils.RAGProcessor:Query Features - Length: 16, Diversity: 0.94
2024-11-08 15:13:21:INFO:__main__:================================================================= QID: 30 =================================================================
2024-11-08 15:13:21:INFO:utils.rag_processor.query_processor:query分詞結果: 要保人/通知/保人/償付/接到/保險公司/終止/契約/解約/金/要求/時間/應於/多少
2024-11-08 15:13:21:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:21:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 327, Chunk 3, Score: 17.7888, Term Importance: 3.1597, Semantic Similarity: 0.9948, Query Coverage: 0.8942, Position Score: 0.0466, Term Density: 0.7218, Context Similarity: 6.9879, Frequency: [('契約', 6), ('終止', 5), ('保人', 4), ('要保人', 4), ('通知', 2), ('應於', 1), ('接到', 1), ('償付', 1), ('解約', 1), ('金', 1)]
2024-11-08 15:13:21:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 327, Chunk 4, Score: 14.4767, Term Importance: 0.5567, Semantic Similarity: 0.9925, Query Coverage: 0.7434, Position Score: 0.0226, Term Density: 0.3480, Context Similarity: 7.1062, Frequency: [('契約', 5), ('終止', 3), ('通知', 3), ('解約', 2), ('保人', 2), ('要保人', 2), ('應於', 2), ('金', 1), ('時間', 1)]
2024-11-08 15:13:21:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 483, Chunk 1, Score: 9.1067, Term Importance: 1.0270, Semantic Similarity: 0.9925, Query Coverage: 0.3589, Position Score: 0.0121, Term Density: 0.1180, Context Similarity: 8.2829, Frequency: [('保人', 6), ('要保人', 6), ('契約', 6), ('金', 4), ('通知', 3), ('解約', 1), ('應於', 1)]
2024-11-08 15:13:21:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 298, Chunk 4, Score: 8.7718, Term Importance: 0.7823, Semantic Similarity: 0.9926, Query Coverage: 0.2820, Position Score: 0.0135, Term Density: 0.3196, Context Similarity: 9.5758, Frequency: [('契約', 7), ('保人', 4), ('要保人', 4), ('通知', 4), ('償付', 3), ('應於', 1)]
2024-11-08 15:13:21:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 253, Chunk 2, Score: 8.6186, Term Importance: 0.1930, Semantic Similarity: 0.9925, Query Coverage: 0.2820, Position Score: 0.0152, Term Density: 0.3196, Context Similarity: 7.5735, Frequency: [('契約', 6), ('保人', 5), ('要保人', 5), ('償付', 3), ('通知', 2), ('應於', 1)]
2024-11-08 15:13:22:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:22:INFO:utils.RAGProcessor:FAISS Score: [0.5600], PDF: 327, Chunk: 3, metadata: [{}]
2024-11-08 15:13:22:INFO:utils.RAGProcessor:FAISS Score: [0.6307], PDF: 327, Chunk: 2, metadata: [{}]
2024-11-08 15:13:22:INFO:utils.RAGProcessor:FAISS Score: [0.6537], PDF: 327, Chunk: 1, metadata: [{}]
2024-11-08 15:13:22:INFO:utils.RAGProcessor:FAISS Score: [0.6929], PDF: 253, Chunk: 1, metadata: [{}]
2024-11-08 15:13:22:INFO:utils.RAGProcessor:FAISS Score: [0.6929], PDF: 253, Chunk: 1, metadata: [{}]
2024-11-08 15:13:22:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:22:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 327, Chunk 3: Final Score=0.9519, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=0.0000
2024-11-08 15:13:22:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 327, Chunk 4: Final Score=0.3209, BM25=0.6388, FAISS=0.0000, Importance=0.1226, Semantic=0.0000, Coverage=0.7538, Position=0.3056, Density=0.3810, Context=0.0457
2024-11-08 15:13:22:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 327, Chunk 2: Final Score=0.1349, BM25=0.0000, FAISS=0.4678, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:22:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 298, Chunk 4: Final Score=0.1095, BM25=0.0167, FAISS=0.0000, Importance=0.1986, Semantic=0.0697, Coverage=0.0000, Position=0.0423, Density=0.3339, Context=1.0000
2024-11-08 15:13:22:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 327, Chunk 1: Final Score=0.0852, BM25=0.0000, FAISS=0.2953, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:22:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 253, Chunk 2: Final Score=0.0699, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0286, Coverage=0.0000, Position=0.0900, Density=0.3339, Context=0.2263
2024-11-08 15:13:22:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 483, Chunk 1: Final Score=0.0509, BM25=0.0532, FAISS=0.0000, Importance=0.2811, Semantic=0.0009, Coverage=0.1256, Position=0.0000, Density=0.0000, Context=0.5004
2024-11-08 15:13:22:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 253, Chunk 1: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:22:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:22:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:22:INFO:utils.RAGProcessor:Query Features - Length: 14, Diversity: 0.93
2024-11-08 15:13:22:INFO:__main__:================================================================= QID: 31 =================================================================
2024-11-08 15:13:23:INFO:utils.rag_processor.query_processor:query分詞結果: 被保險人/足歲/滿/保險金/變更/死亡/保險人/十五/會/未滿/身故
2024-11-08 15:13:23:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:23:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 10, Chunk 1, Score: 12.1787, Term Importance: 1.7505, Semantic Similarity: 0.9927, Query Coverage: 0.8264, Position Score: 0.0243, Term Density: 0.5666, Context Similarity: 10.6780, Frequency: [('保險人', 6), ('被保險人', 6), ('保險金', 6), ('十五', 4), ('足歲', 4), ('身故', 2), ('變更', 2), ('未滿', 2), ('死亡', 2), ('滿', 2)]
2024-11-08 15:13:23:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 10, Chunk 2, Score: 9.0956, Term Importance: 0.5158, Semantic Similarity: 0.9912, Query Coverage: 0.6801, Position Score: 0.0207, Term Density: 0.3116, Context Similarity: 4.9074, Frequency: [('保險金', 6), ('保險人', 5), ('被保險人', 5), ('死亡', 1), ('身故', 1), ('變更', 1), ('未滿', 1), ('十五', 1), ('足歲', 1)]
2024-11-08 15:13:23:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 486, Chunk 1, Score: 7.4113, Term Importance: 0.7420, Semantic Similarity: 0.9921, Query Coverage: 0.4136, Position Score: 0.0161, Term Density: 0.2163, Context Similarity: 6.8823, Frequency: [('保險金', 10), ('十五', 4), ('保險人', 4), ('被保險人', 4), ('身故', 2), ('滿', 1), ('足歲', 1)]
2024-11-08 15:13:23:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 486, Chunk 2, Score: 6.5152, Term Importance: 1.8965, Semantic Similarity: 0.9896, Query Coverage: 0.3564, Position Score: 0.0237, Term Density: 0.2163, Context Similarity: 6.2405, Frequency: [('保險人', 6), ('被保險人', 6), ('十五', 2), ('保險金', 2), ('滿', 1), ('足歲', 1)]
2024-11-08 15:13:23:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 10, Chunk 4, Score: 5.8973, Term Importance: 1.6301, Semantic Similarity: 0.9913, Query Coverage: 0.3196, Position Score: 0.0138, Term Density: 0.1411, Context Similarity: 5.7129, Frequency: [('保險金', 12), ('保險人', 4), ('被保險人', 4), ('身故', 3), ('死亡', 1), ('變更', 1)]
2024-11-08 15:13:23:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:23:INFO:utils.RAGProcessor:FAISS Score: [0.5538], PDF: 10, Chunk: 1, metadata: [{}]
2024-11-08 15:13:23:INFO:utils.RAGProcessor:FAISS Score: [0.6338], PDF: 486, Chunk: 2, metadata: [{}]
2024-11-08 15:13:23:INFO:utils.RAGProcessor:FAISS Score: [0.6704], PDF: 10, Chunk: 2, metadata: [{}]
2024-11-08 15:13:23:INFO:utils.RAGProcessor:FAISS Score: [0.7104], PDF: 486, Chunk: 1, metadata: [{}]
2024-11-08 15:13:23:INFO:utils.RAGProcessor:FAISS Score: [0.7281], PDF: 10, Chunk: 4, metadata: [{}]
2024-11-08 15:13:23:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:23:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 10, Chunk 1: Final Score=1.0000, BM25=1.0000, FAISS=1.0000, Importance=0.8943, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=1.0000
2024-11-08 15:13:23:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 10, Chunk 2: Final Score=0.4547, BM25=0.5092, FAISS=0.3310, Importance=0.0000, Semantic=0.5054, Coverage=0.7113, Position=0.6550, Density=0.4007, Context=0.0000
2024-11-08 15:13:23:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 486, Chunk 2: Final Score=0.3139, BM25=0.0984, FAISS=0.5411, Importance=1.0000, Semantic=0.0000, Coverage=0.0727, Position=0.9373, Density=0.1767, Context=0.2310
2024-11-08 15:13:23:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 486, Chunk 1: Final Score=0.2322, BM25=0.2410, FAISS=0.1017, Importance=0.1638, Semantic=0.8179, Coverage=0.1855, Position=0.2180, Density=0.1767, Context=0.3422
2024-11-08 15:13:23:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 10, Chunk 4: Final Score=0.0501, BM25=0.0000, FAISS=0.0000, Importance=0.8071, Semantic=0.5647, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.1396
2024-11-08 15:13:23:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:23:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:23:INFO:utils.RAGProcessor:Query Features - Length: 11, Diversity: 0.92
2024-11-08 15:13:23:INFO:__main__:================================================================= QID: 32 =================================================================
2024-11-08 15:13:24:INFO:utils.rag_processor.query_processor:query分詞結果: 受益/時應/哪些/文件/申領/受益人/保險金/檢具/喪葬費/喪葬/用/身故
2024-11-08 15:13:24:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:24:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 434, Chunk 1, Score: 13.4436, Term Importance: 4.5734, Semantic Similarity: 0.9863, Query Coverage: 1.0067, Position Score: 0.0188, Term Density: 0.9776, Context Similarity: 5.8505, Frequency: [('保險金', 12), ('身故', 3), ('喪葬', 3), ('喪葬費', 3), ('用', 3), ('申領', 2), ('受益', 2), ('受益人', 2), ('時應', 1), ('檢具', 1)]
2024-11-08 15:13:24:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 434, Chunk 0, Score: 13.2664, Term Importance: 5.2581, Semantic Similarity: 0.9859, Query Coverage: 1.0067, Position Score: 0.0112, Term Density: 0.9776, Context Similarity: 11.2783, Frequency: [('保險金', 11), ('喪葬', 8), ('喪葬費', 8), ('用', 8), ('身故', 3), ('申領', 2), ('受益', 1), ('受益人', 1), ('時應', 1), ('檢具', 1)]
2024-11-08 15:13:24:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 434, Chunk 2, Score: 10.9290, Term Importance: 0.9007, Semantic Similarity: 0.9853, Query Coverage: 0.6206, Position Score: 0.0454, Term Density: 0.4836, Context Similarity: 5.2119, Frequency: [('保險金', 7), ('受益', 4), ('受益人', 4), ('申領', 3), ('時應', 1), ('檢具', 1), ('文件', 1)]
2024-11-08 15:13:24:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 357, Chunk 1, Score: 9.7761, Term Importance: 1.1463, Semantic Similarity: 0.9871, Query Coverage: 0.6446, Position Score: 0.0152, Term Density: 0.3298, Context Similarity: 10.7912, Frequency: [('保險金', 12), ('身故', 4), ('喪葬', 4), ('喪葬費', 4), ('用', 4), ('受益', 3), ('受益人', 3), ('文件', 3), ('檢具', 1)]
2024-11-08 15:13:24:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 482, Chunk 1, Score: 9.6922, Term Importance: 1.2535, Semantic Similarity: 0.9846, Query Coverage: 0.6838, Position Score: 0.0218, Term Density: 0.4120, Context Similarity: 4.8468, Frequency: [('保險金', 11), ('受益', 3), ('受益人', 3), ('申領', 2), ('身故', 1), ('喪葬', 1), ('喪葬費', 1), ('用', 1), ('文件', 1)]
2024-11-08 15:13:25:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:25:INFO:utils.RAGProcessor:FAISS Score: [0.6251], PDF: 434, Chunk: 1, metadata: [{}]
2024-11-08 15:13:25:INFO:utils.RAGProcessor:FAISS Score: [0.7246], PDF: 387, Chunk: 2, metadata: [{}]
2024-11-08 15:13:25:INFO:utils.RAGProcessor:FAISS Score: [0.7329], PDF: 434, Chunk: 2, metadata: [{}]
2024-11-08 15:13:25:INFO:utils.RAGProcessor:FAISS Score: [0.7614], PDF: 434, Chunk: 0, metadata: [{}]
2024-11-08 15:13:25:INFO:utils.RAGProcessor:FAISS Score: [0.7701], PDF: 37, Chunk: 1, metadata: [{}]
2024-11-08 15:13:25:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:25:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 434, Chunk 1: Final Score=0.8603, BM25=1.0000, FAISS=1.0000, Importance=0.8429, Semantic=0.6845, Coverage=1.0000, Position=0.2220, Density=1.0000, Context=0.1561
2024-11-08 15:13:25:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 434, Chunk 0: Final Score=0.5826, BM25=0.9528, FAISS=0.0604, Importance=1.0000, Semantic=0.4894, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:13:25:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 434, Chunk 2: Final Score=0.3034, BM25=0.3297, FAISS=0.2565, Importance=0.0000, Semantic=0.2627, Coverage=0.0000, Position=1.0000, Density=0.2374, Context=0.0568
2024-11-08 15:13:25:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 357, Chunk 1: Final Score=0.1449, BM25=0.0224, FAISS=0.0000, Importance=0.0563, Semantic=1.0000, Coverage=0.0622, Position=0.1166, Density=0.0000, Context=0.9243
2024-11-08 15:13:25:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 387, Chunk 2: Final Score=0.0906, BM25=0.0000, FAISS=0.3140, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:25:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 482, Chunk 1: Final Score=0.0669, BM25=0.0000, FAISS=0.0000, Importance=0.0810, Semantic=0.0000, Coverage=0.1636, Position=0.3092, Density=0.1269, Context=0.0000
2024-11-08 15:13:25:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 37, Chunk 1: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:25:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:25:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:25:INFO:utils.RAGProcessor:Query Features - Length: 12, Diversity: 0.92
2024-11-08 15:13:25:INFO:__main__:================================================================= QID: 33 =================================================================
2024-11-08 15:13:25:INFO:utils.rag_processor.query_processor:query分詞結果: 起/被保險人/完全/失能/保險公司/將按/年度/失能保險金/保險金/第四/保單年度/若成/保險人/金額/保單/給付
2024-11-08 15:13:25:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:25:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 434, Chunk 1, Score: 14.2286, Term Importance: 2.7065, Semantic Similarity: 0.9897, Query Coverage: 0.7995, Position Score: 0.0153, Term Density: 0.9397, Context Similarity: 7.6022, Frequency: [('保險金', 12), ('完全', 8), ('失能', 8), ('給付', 5), ('保險人', 4), ('被保險人', 4), ('失能保險金', 4), ('保單', 3), ('年度', 3), ('保單年度', 3)]
2024-11-08 15:13:25:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 434, Chunk 2, Score: 7.1692, Term Importance: 6.3226, Semantic Similarity: 0.9839, Query Coverage: 0.2861, Position Score: 0.0325, Term Density: 0.5644, Context Similarity: 4.6941, Frequency: [('失能', 7), ('保險金', 7), ('完全', 6), ('失能保險金', 5), ('保險人', 3), ('被保險人', 3), ('給付', 2)]
2024-11-08 15:13:25:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 434, Chunk 0, Score: 4.7505, Term Importance: 0.9226, Semantic Similarity: 0.9869, Query Coverage: 0.2281, Position Score: 0.0141, Term Density: 0.2662, Context Similarity: 8.0091, Frequency: [('保險金', 11), ('金額', 8), ('保險公司', 3), ('給付', 2), ('起', 1)]
2024-11-08 15:13:25:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 486, Chunk 1, Score: 4.5280, Term Importance: 0.4645, Semantic Similarity: 0.9866, Query Coverage: 0.1235, Position Score: 0.0159, Term Density: 0.1275, Context Similarity: 11.6679, Frequency: [('保險金', 10), ('給付', 10), ('保險人', 4), ('被保險人', 4), ('保單', 2), ('金額', 1)]
2024-11-08 15:13:25:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 486, Chunk 0, Score: 3.7888, Term Importance: 0.3673, Semantic Similarity: 0.9883, Query Coverage: 0.0548, Position Score: 0.0132, Term Density: 0.0379, Context Similarity: 10.9745, Frequency: [('給付', 10), ('保險金', 9), ('保險人', 4), ('被保險人', 4), ('金額', 1)]
2024-11-08 15:13:26:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:26:INFO:utils.RAGProcessor:FAISS Score: [0.6256], PDF: 434, Chunk: 1, metadata: [{}]
2024-11-08 15:13:26:INFO:utils.RAGProcessor:FAISS Score: [0.6416], PDF: 434, Chunk: 2, metadata: [{}]
2024-11-08 15:13:26:INFO:utils.RAGProcessor:FAISS Score: [0.7759], PDF: 486, Chunk: 1, metadata: [{}]
2024-11-08 15:13:26:INFO:utils.RAGProcessor:FAISS Score: [0.8192], PDF: 486, Chunk: 2, metadata: [{}]
2024-11-08 15:13:26:INFO:utils.RAGProcessor:FAISS Score: [0.8591], PDF: 439, Chunk: 2, metadata: [{}]
2024-11-08 15:13:26:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:26:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 434, Chunk 1: Final Score=0.8865, BM25=1.0000, FAISS=1.0000, Importance=0.3928, Semantic=1.0000, Coverage=1.0000, Position=0.1109, Density=1.0000, Context=0.4170
2024-11-08 15:13:26:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 434, Chunk 2: Final Score=0.5596, BM25=0.3238, FAISS=0.9316, Importance=1.0000, Semantic=0.0000, Coverage=0.3106, Position=1.0000, Density=0.5838, Context=0.0000
2024-11-08 15:13:26:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 486, Chunk 1: Final Score=0.2411, BM25=0.0708, FAISS=0.3564, Importance=0.0163, Semantic=0.4621, Coverage=0.0922, Position=0.1389, Density=0.0993, Context=1.0000
2024-11-08 15:13:26:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 434, Chunk 0: Final Score=0.1518, BM25=0.0921, FAISS=0.0000, Importance=0.0932, Semantic=0.5161, Coverage=0.2327, Position=0.0487, Density=0.2531, Context=0.4753
2024-11-08 15:13:26:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 486, Chunk 0: Final Score=0.1026, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.7704, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.9006
2024-11-08 15:13:26:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 486, Chunk 2: Final Score=0.0492, BM25=0.0000, FAISS=0.1705, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:26:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 439, Chunk 2: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:26:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:26:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:26:INFO:utils.RAGProcessor:Query Features - Length: 16, Diversity: 0.94
2024-11-08 15:13:26:INFO:__main__:================================================================= QID: 34 =================================================================
2024-11-08 15:13:26:INFO:utils.rag_processor.query_processor:query分詞結果: 受益/完全/失能/哪些/文件/申領/受益人/保險金/失能保險金/檢具
2024-11-08 15:13:26:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:26:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 442, Chunk 2, Score: 14.1524, Term Importance: 6.6676, Semantic Similarity: 0.9688, Query Coverage: 0.9780, Position Score: 0.0393, Term Density: 0.8128, Context Similarity: 5.8389, Frequency: [('失能', 7), ('保險金', 7), ('完全', 6), ('失能保險金', 5), ('受益', 4), ('受益人', 4), ('申領', 3), ('檢具', 1), ('文件', 1)]
2024-11-08 15:13:26:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 442, Chunk 1, Score: 12.9519, Term Importance: 2.6546, Semantic Similarity: 0.9697, Query Coverage: 0.9780, Position Score: 0.0133, Term Density: 0.5784, Context Similarity: 5.1417, Frequency: [('保險金', 12), ('完全', 8), ('失能', 8), ('失能保險金', 4), ('申領', 2), ('受益', 2), ('受益人', 2), ('檢具', 1), ('文件', 1)]
2024-11-08 15:13:26:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 639, Chunk 1, Score: 10.6976, Term Importance: 0.7589, Semantic Similarity: 0.9699, Query Coverage: 0.8170, Position Score: 0.0225, Term Density: 0.3760, Context Similarity: 3.7421, Frequency: [('保險金', 11), ('受益', 3), ('受益人', 3), ('申領', 2), ('完全', 1), ('失能', 1), ('失能保險金', 1), ('文件', 1)]
2024-11-08 15:13:26:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 442, Chunk 3, Score: 9.1212, Term Importance: 1.5612, Semantic Similarity: 0.9671, Query Coverage: 0.5041, Position Score: 0.0151, Term Density: 0.3585, Context Similarity: 17.4832, Frequency: [('受益', 12), ('保險金', 11), ('受益人', 8), ('完全', 5), ('失能', 5), ('失能保險金', 2)]
2024-11-08 15:13:26:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 338, Chunk 5, Score: 8.1537, Term Importance: 0.1996, Semantic Similarity: 0.9720, Query Coverage: 0.5041, Position Score: 0.0291, Term Density: 0.2842, Context Similarity: 5.4846, Frequency: [('受益', 5), ('受益人', 5), ('保險金', 3), ('完全', 1), ('失能', 1), ('失能保險金', 1)]
2024-11-08 15:13:27:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:27:INFO:utils.RAGProcessor:FAISS Score: [0.5355], PDF: 442, Chunk: 2, metadata: [{}]
2024-11-08 15:13:27:INFO:utils.RAGProcessor:FAISS Score: [0.6723], PDF: 442, Chunk: 1, metadata: [{}]
2024-11-08 15:13:27:INFO:utils.RAGProcessor:FAISS Score: [0.8782], PDF: 338, Chunk: 5, metadata: [{}]
2024-11-08 15:13:27:INFO:utils.RAGProcessor:FAISS Score: [0.9083], PDF: 115, Chunk: 3, metadata: [{}]
2024-11-08 15:13:27:INFO:utils.RAGProcessor:FAISS Score: [0.9279], PDF: 387, Chunk: 2, metadata: [{}]
2024-11-08 15:13:27:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 442, Chunk 2: Final Score=0.9092, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.3494, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=0.1526
2024-11-08 15:13:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 442, Chunk 1: Final Score=0.6142, BM25=0.7999, FAISS=0.6514, Importance=0.3796, Semantic=0.5357, Coverage=1.0000, Position=0.0000, Density=0.5565, Context=0.1019
2024-11-08 15:13:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 639, Chunk 1: Final Score=0.2763, BM25=0.4241, FAISS=0.0000, Importance=0.0865, Semantic=0.5645, Coverage=0.6604, Position=0.3516, Density=0.1737, Context=0.0000
2024-11-08 15:13:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 338, Chunk 5: Final Score=0.1779, BM25=0.0000, FAISS=0.1268, Importance=0.0000, Semantic=1.0000, Coverage=0.0000, Position=0.6064, Density=0.0000, Context=0.1268
2024-11-08 15:13:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 442, Chunk 3: Final Score=0.1123, BM25=0.1613, FAISS=0.0000, Importance=0.2105, Semantic=0.0000, Coverage=0.0000, Position=0.0695, Density=0.1406, Context=1.0000
2024-11-08 15:13:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 115, Chunk 3: Final Score=0.0144, BM25=0.0000, FAISS=0.0500, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 387, Chunk 2: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:27:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:27:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:27:INFO:utils.RAGProcessor:Query Features - Length: 10, Diversity: 0.91
2024-11-08 15:13:27:INFO:__main__:================================================================= QID: 35 =================================================================
2024-11-08 15:13:28:INFO:utils.rag_processor.query_processor:query分詞結果: 要保人/辦理/保人/本公司/改為/定期/將以/當時/選擇/金額/展期
2024-11-08 15:13:28:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:28:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 319, Chunk 2, Score: 9.6639, Term Importance: 1.8168, Semantic Similarity: 0.9913, Query Coverage: 0.6884, Position Score: 0.0178, Term Density: 0.2116, Context Similarity: 6.2961, Frequency: [('保人', 4), ('要保人', 4), ('金額', 4), ('當時', 3), ('展期', 3), ('定期', 3), ('改為', 2), ('本公司', 2), ('選擇', 1), ('將以', 1)]
2024-11-08 15:13:28:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 319, Chunk 3, Score: 9.4446, Term Importance: 0.8051, Semantic Similarity: 0.9909, Query Coverage: 0.6884, Position Score: 0.0161, Term Density: 0.3799, Context Similarity: 8.0329, Frequency: [('保人', 5), ('要保人', 5), ('展期', 4), ('定期', 4), ('金額', 4), ('本公司', 3), ('當時', 2), ('選擇', 1), ('改為', 1), ('將以', 1)]
2024-11-08 15:13:28:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 62, Chunk 2, Score: 8.0203, Term Importance: 0.2257, Semantic Similarity: 0.9882, Query Coverage: 0.6479, Position Score: 0.0198, Term Density: 0.2485, Context Similarity: 3.4673, Frequency: [('保人', 4), ('要保人', 4), ('當時', 3), ('本公司', 3), ('選擇', 1), ('改為', 1), ('將以', 1), ('辦理', 1), ('展期', 1), ('定期', 1)]
2024-11-08 15:13:28:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 224, Chunk 2, Score: 7.9706, Term Importance: 0.8892, Semantic Similarity: 0.9908, Query Coverage: 0.4798, Position Score: 0.0145, Term Density: 0.3799, Context Similarity: 12.0537, Frequency: [('展期', 6), ('定期', 6), ('保人', 5), ('要保人', 5), ('金額', 5), ('當時', 4), ('改為', 2), ('本公司', 1), ('選擇', 1)]
2024-11-08 15:13:28:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 283, Chunk 2, Score: 7.6872, Term Importance: 0.2231, Semantic Similarity: 0.9879, Query Coverage: 0.5587, Position Score: 0.0184, Term Density: 0.2485, Context Similarity: 4.1294, Frequency: [('保人', 5), ('要保人', 5), ('當時', 3), ('本公司', 3), ('金額', 2), ('定期', 1), ('選擇', 1), ('改為', 1), ('將以', 1), ('辦理', 1)]
2024-11-08 15:13:29:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:29:INFO:utils.RAGProcessor:FAISS Score: [0.4869], PDF: 224, Chunk: 2, metadata: [{}]
2024-11-08 15:13:29:INFO:utils.RAGProcessor:FAISS Score: [0.4957], PDF: 283, Chunk: 3, metadata: [{}]
2024-11-08 15:13:29:INFO:utils.RAGProcessor:FAISS Score: [0.5059], PDF: 502, Chunk: 2, metadata: [{}]
2024-11-08 15:13:29:INFO:utils.RAGProcessor:FAISS Score: [0.5511], PDF: 319, Chunk: 2, metadata: [{}]
2024-11-08 15:13:29:INFO:utils.RAGProcessor:FAISS Score: [0.6885], PDF: 62, Chunk: 2, metadata: [{}]
2024-11-08 15:13:29:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:29:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 319, Chunk 2: Final Score=0.6957, BM25=1.0000, FAISS=0.6811, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.6268, Density=0.0000, Context=0.3295
2024-11-08 15:13:29:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 319, Chunk 3: Final Score=0.5883, BM25=0.8890, FAISS=0.0000, Importance=0.3652, Semantic=0.8981, Coverage=1.0000, Position=0.3006, Density=1.0000, Context=0.5317
2024-11-08 15:13:29:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 224, Chunk 2: Final Score=0.5792, BM25=0.1434, FAISS=1.0000, Importance=0.4180, Semantic=0.8500, Coverage=0.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:13:29:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 283, Chunk 3: Final Score=0.2759, BM25=0.0000, FAISS=0.9563, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:29:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 62, Chunk 2: Final Score=0.2668, BM25=0.1685, FAISS=0.0000, Importance=0.0016, Semantic=0.0926, Coverage=0.8055, Position=1.0000, Density=0.2196, Context=0.0000
2024-11-08 15:13:29:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 502, Chunk 2: Final Score=0.2612, BM25=0.0000, FAISS=0.9054, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:29:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 283, Chunk 2: Final Score=0.1503, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.3781, Position=0.7410, Density=0.2196, Context=0.0771
2024-11-08 15:13:29:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:29:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:29:INFO:utils.RAGProcessor:Query Features - Length: 11, Diversity: 0.92
2024-11-08 15:13:29:INFO:__main__:================================================================= QID: 36 =================================================================
2024-11-08 15:13:29:INFO:utils.rag_processor.query_processor:query分詞結果: 要保人/通知/保人/方式/住/所有/變更/何種/本公司
2024-11-08 15:13:29:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:29:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 148, Chunk 0, Score: 13.7778, Term Importance: 0.8513, Semantic Similarity: 0.9903, Query Coverage: 1.2866, Position Score: 0.0164, Term Density: 0.7329, Context Similarity: 9.5437, Frequency: [('保人', 8), ('要保人', 8), ('本公司', 7), ('變更', 4), ('通知', 3), ('方式', 2), ('住', 1), ('所有', 1)]
2024-11-08 15:13:29:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 63, Chunk 3, Score: 6.0710, Term Importance: 2.5486, Semantic Similarity: 0.9907, Query Coverage: 0.3422, Position Score: 0.0188, Term Density: 0.3305, Context Similarity: 7.2649, Frequency: [('變更', 6), ('保人', 6), ('要保人', 6), ('本公司', 2), ('通知', 1)]
2024-11-08 15:13:29:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 63, Chunk 2, Score: 4.5732, Term Importance: 0.0136, Semantic Similarity: 0.9890, Query Coverage: 0.2062, Position Score: 0.0148, Term Density: 0.0867, Context Similarity: 7.5856, Frequency: [('本公司', 8), ('保人', 2), ('要保人', 2), ('變更', 1)]
2024-11-08 15:13:29:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 63, Chunk 0, Score: 4.5294, Term Importance: 0.2142, Semantic Similarity: 0.9876, Query Coverage: 0.1494, Position Score: 0.0156, Term Density: 0.1957, Context Similarity: 7.0689, Frequency: [('保人', 7), ('要保人', 7), ('本公司', 6), ('通知', 3)]
2024-11-08 15:13:29:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 63, Chunk 1, Score: 4.4454, Term Importance: 0.0907, Semantic Similarity: 0.9899, Query Coverage: 0.1494, Position Score: 0.0185, Term Density: 0.1284, Context Similarity: 13.5936, Frequency: [('本公司', 11), ('保人', 3), ('要保人', 3), ('通知', 3)]
2024-11-08 15:13:30:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:30:INFO:utils.RAGProcessor:FAISS Score: [0.9079], PDF: 148, Chunk: 0, metadata: [{}]
2024-11-08 15:13:30:INFO:utils.RAGProcessor:FAISS Score: [0.9413], PDF: 63, Chunk: 2, metadata: [{}]
2024-11-08 15:13:30:INFO:utils.RAGProcessor:FAISS Score: [0.9457], PDF: 63, Chunk: 3, metadata: [{}]
2024-11-08 15:13:30:INFO:utils.RAGProcessor:FAISS Score: [0.9469], PDF: 63, Chunk: 5, metadata: [{}]
2024-11-08 15:13:30:INFO:utils.RAGProcessor:FAISS Score: [0.9616], PDF: 148, Chunk: 1, metadata: [{}]
2024-11-08 15:13:30:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:30:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 148, Chunk 0: Final Score=0.9022, BM25=1.0000, FAISS=1.0000, Importance=0.3305, Semantic=0.8658, Coverage=1.0000, Position=0.4003, Density=1.0000, Context=0.3793
2024-11-08 15:13:30:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 63, Chunk 3: Final Score=0.3740, BM25=0.1742, FAISS=0.2957, Importance=1.0000, Semantic=1.0000, Coverage=0.1695, Position=1.0000, Density=0.3772, Context=0.0300
2024-11-08 15:13:30:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 63, Chunk 1: Final Score=0.2038, BM25=0.0000, FAISS=0.0000, Importance=0.0304, Semantic=0.7373, Coverage=0.0000, Position=0.9325, Density=0.0645, Context=1.0000
2024-11-08 15:13:30:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 63, Chunk 2: Final Score=0.1570, BM25=0.0137, FAISS=0.3776, Importance=0.0000, Semantic=0.4598, Coverage=0.0499, Position=0.0000, Density=0.0000, Context=0.0792
2024-11-08 15:13:30:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 63, Chunk 5: Final Score=0.0792, BM25=0.0000, FAISS=0.2745, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:30:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 63, Chunk 0: Final Score=0.0459, BM25=0.0090, FAISS=0.0000, Importance=0.0791, Semantic=0.0000, Coverage=0.0000, Position=0.2032, Density=0.1686, Context=0.0000
2024-11-08 15:13:30:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 148, Chunk 1: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:30:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:30:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:30:INFO:utils.RAGProcessor:Query Features - Length: 9, Diversity: 0.90
2024-11-08 15:13:30:INFO:__main__:================================================================= QID: 37 =================================================================
2024-11-08 15:13:30:INFO:utils.rag_processor.query_processor:query分詞結果: 記載/要保人/保人/內容/增刪/本契約/書面/方式/同意/契約/是否/變更/其他/雙方/本公司/約定/事項
2024-11-08 15:13:30:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:31:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 148, Chunk 0, Score: 30.5501, Term Importance: 3.2330, Semantic Similarity: 0.9924, Query Coverage: 1.7170, Position Score: 0.0170, Term Density: 0.9486, Context Similarity: 9.4517, Frequency: [('保人', 8), ('要保人', 8), ('本公司', 7), ('契約', 5), ('本契約', 5), ('變更', 4), ('同意', 3), ('書面', 2), ('其他', 2), ('約定', 2)]
2024-11-08 15:13:31:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 149, Chunk 8, Score: 14.0410, Term Importance: 1.5501, Semantic Similarity: 0.9911, Query Coverage: 0.5693, Position Score: 0.0219, Term Density: 0.4545, Context Similarity: 13.3613, Frequency: [('契約', 9), ('本公司', 8), ('本契約', 7), ('保人', 5), ('要保人', 5), ('同意', 4), ('方式', 3), ('書面', 2), ('其他', 2), ('約定', 2)]
2024-11-08 15:13:31:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 149, Chunk 10, Score: 10.7311, Term Importance: 8.8263, Semantic Similarity: 0.9898, Query Coverage: 0.4528, Position Score: 0.0184, Term Density: 0.3610, Context Similarity: 8.4053, Frequency: [('約定', 8), ('保人', 6), ('要保人', 6), ('契約', 4), ('本公司', 4), ('本契約', 2), ('書面', 1), ('其他', 1), ('方式', 1)]
2024-11-08 15:13:31:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 149, Chunk 9, Score: 8.2183, Term Importance: 2.8909, Semantic Similarity: 0.9892, Query Coverage: 0.2675, Position Score: 0.0160, Term Density: 0.2833, Context Similarity: 8.0513, Frequency: [('保人', 10), ('要保人', 10), ('本公司', 7), ('契約', 4), ('本契約', 3), ('約定', 3), ('同意', 1)]
2024-11-08 15:13:31:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 620, Chunk 6, Score: 7.3866, Term Importance: 0.2168, Semantic Similarity: 0.9879, Query Coverage: 0.2267, Position Score: 0.0185, Term Density: 0.1741, Context Similarity: 7.1736, Frequency: [('契約', 4), ('本契約', 4), ('約定', 4), ('本公司', 4), ('保人', 2), ('要保人', 2), ('方式', 1)]
2024-11-08 15:13:31:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:31:INFO:utils.RAGProcessor:FAISS Score: [0.8217], PDF: 149, Chunk: 1, metadata: [{}]
2024-11-08 15:13:31:INFO:utils.RAGProcessor:FAISS Score: [0.8489], PDF: 178, Chunk: 1, metadata: [{}]
2024-11-08 15:13:31:INFO:utils.RAGProcessor:FAISS Score: [0.8513], PDF: 148, Chunk: 0, metadata: [{}]
2024-11-08 15:13:31:INFO:utils.RAGProcessor:FAISS Score: [0.9001], PDF: 149, Chunk: 8, metadata: [{}]
2024-11-08 15:13:31:INFO:utils.RAGProcessor:FAISS Score: [0.9040], PDF: 149, Chunk: 9, metadata: [{}]
2024-11-08 15:13:31:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:31:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 148, Chunk 0: Final Score=0.7866, BM25=1.0000, FAISS=0.6403, Importance=0.3503, Semantic=1.0000, Coverage=1.0000, Position=0.1755, Density=1.0000, Context=0.3682
2024-11-08 15:13:31:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 149, Chunk 8: Final Score=0.3582, BM25=0.2873, FAISS=0.0473, Importance=0.1549, Semantic=0.7188, Coverage=0.2299, Position=1.0000, Density=0.3621, Context=1.0000
2024-11-08 15:13:31:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 149, Chunk 1: Final Score=0.2885, BM25=0.0000, FAISS=1.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:31:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 178, Chunk 1: Final Score=0.1930, BM25=0.0000, FAISS=0.6692, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:31:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 149, Chunk 10: Final Score=0.1670, BM25=0.1444, FAISS=0.0000, Importance=1.0000, Semantic=0.4299, Coverage=0.1517, Position=0.4029, Density=0.2413, Context=0.1991
2024-11-08 15:13:31:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 149, Chunk 9: Final Score=0.0620, BM25=0.0359, FAISS=0.0000, Importance=0.3106, Semantic=0.3039, Coverage=0.0274, Position=0.0000, Density=0.1410, Context=0.1418
2024-11-08 15:13:31:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 620, Chunk 6: Final Score=0.0406, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.4221, Density=0.0000, Context=0.0000
2024-11-08 15:13:31:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:31:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:31:INFO:utils.RAGProcessor:Query Features - Length: 17, Diversity: 0.94
2024-11-08 15:13:31:INFO:__main__:================================================================= QID: 38 =================================================================
2024-11-08 15:13:32:INFO:utils.rag_processor.query_processor:query分詞結果: 保險費/第二/交付/第二期/到期/二期/以後/分期/分期保險費/處理/本公司
2024-11-08 15:13:32:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:32:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 353, Chunk 1, Score: 15.3988, Term Importance: 4.6785, Semantic Similarity: 0.9915, Query Coverage: 1.2900, Position Score: 0.0236, Term Density: 0.8290, Context Similarity: 17.2287, Frequency: [('本公司', 9), ('交付', 8), ('保險費', 5), ('第二', 4), ('二期', 4), ('第二期', 4), ('以後', 4), ('分期', 3), ('分期保險費', 2), ('到期', 1)]
2024-11-08 15:13:32:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 353, Chunk 2, Score: 10.2224, Term Importance: 0.7263, Semantic Similarity: 0.9882, Query Coverage: 1.0380, Position Score: 0.0167, Term Density: 0.5709, Context Similarity: 8.9281, Frequency: [('保險費', 8), ('本公司', 5), ('交付', 3), ('第二', 1), ('二期', 1), ('第二期', 1), ('以後', 1), ('分期', 1), ('分期保險費', 1)]
2024-11-08 15:13:32:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 524, Chunk 2, Score: 4.1326, Term Importance: 0.2202, Semantic Similarity: 0.9834, Query Coverage: 0.3282, Position Score: 0.0124, Term Density: 0.2231, Context Similarity: 12.5129, Frequency: [('本公司', 10), ('處理', 2), ('保險費', 2), ('分期', 2), ('第二', 1)]
2024-11-08 15:13:32:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 116, Chunk 2, Score: 3.4299, Term Importance: 0.5961, Semantic Similarity: 0.9826, Query Coverage: 0.2391, Position Score: 0.0153, Term Density: 0.0869, Context Similarity: 8.9343, Frequency: [('本公司', 7), ('第二', 2), ('保險費', 2), ('處理', 1)]
2024-11-08 15:13:32:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 256, Chunk 2, Score: 3.4273, Term Importance: 0.5955, Semantic Similarity: 0.9824, Query Coverage: 0.2391, Position Score: 0.0152, Term Density: 0.0869, Context Similarity: 9.4337, Frequency: [('本公司', 7), ('第二', 2), ('保險費', 2), ('處理', 1)]
2024-11-08 15:13:33:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:33:INFO:utils.RAGProcessor:FAISS Score: [0.5268], PDF: 353, Chunk: 1, metadata: [{}]
2024-11-08 15:13:33:INFO:utils.RAGProcessor:FAISS Score: [0.6937], PDF: 353, Chunk: 2, metadata: [{}]
2024-11-08 15:13:33:INFO:utils.RAGProcessor:FAISS Score: [0.7371], PDF: 116, Chunk: 2, metadata: [{}]
2024-11-08 15:13:33:INFO:utils.RAGProcessor:FAISS Score: [0.7426], PDF: 256, Chunk: 2, metadata: [{}]
2024-11-08 15:13:33:INFO:utils.RAGProcessor:FAISS Score: [0.7579], PDF: 524, Chunk: 2, metadata: [{}]
2024-11-08 15:13:33:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:33:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 353, Chunk 1: Final Score=1.0000, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=1.0000
2024-11-08 15:13:33:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 353, Chunk 2: Final Score=0.4794, BM25=0.5676, FAISS=0.2780, Importance=0.1135, Semantic=0.6454, Coverage=0.7602, Position=0.3826, Density=0.6521, Context=0.0000
2024-11-08 15:13:33:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 524, Chunk 2: Final Score=0.0795, BM25=0.0589, FAISS=0.0000, Importance=0.0000, Semantic=0.1154, Coverage=0.0848, Position=0.0000, Density=0.1835, Context=0.4319
2024-11-08 15:13:33:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 116, Chunk 2: Final Score=0.0526, BM25=0.0002, FAISS=0.0902, Importance=0.0843, Semantic=0.0196, Coverage=0.0000, Position=0.2597, Density=0.0000, Context=0.0007
2024-11-08 15:13:33:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 256, Chunk 2: Final Score=0.0461, BM25=0.0000, FAISS=0.0664, Importance=0.0842, Semantic=0.0000, Coverage=0.0000, Position=0.2502, Density=0.0000, Context=0.0609
2024-11-08 15:13:33:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:33:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:33:INFO:utils.RAGProcessor:Query Features - Length: 11, Diversity: 0.92
2024-11-08 15:13:33:INFO:__main__:================================================================= QID: 39 =================================================================
2024-11-08 15:13:33:INFO:utils.rag_processor.query_processor:query分詞結果: 手術/年度/保險人/一項/會/同一/本公司/處置/給付/暨/被保險人/同/特定/治療/接受/醫療/位置/醫療保險/幾次/保單/保單年度/金/以上/二次
2024-11-08 15:13:33:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:33:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 29, Chunk 2, Score: 18.3311, Term Importance: 24.2645, Semantic Similarity: 0.9955, Query Coverage: 0.7629, Position Score: 0.0181, Term Density: 0.8967, Context Similarity: 25.3697, Frequency: [('手術', 17), ('特定', 11), ('處置', 11), ('給付', 9), ('醫療', 6), ('接受', 5), ('治療', 4), ('暨', 4), ('醫療保險', 4), ('金', 4)]
2024-11-08 15:13:34:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 29, Chunk 0, Score: 16.6093, Term Importance: 13.9660, Semantic Similarity: 0.9953, Query Coverage: 0.6642, Position Score: 0.0151, Term Density: 0.8098, Context Similarity: 26.3455, Frequency: [('手術', 13), ('處置', 13), ('特定', 12), ('給付', 8), ('治療', 6), ('本公司', 6), ('醫療', 5), ('接受', 5), ('暨', 4), ('醫療保險', 4)]
2024-11-08 15:13:34:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 29, Chunk 1, Score: 15.3858, Term Importance: 5.7445, Semantic Similarity: 0.9959, Query Coverage: 0.6353, Position Score: 0.0158, Term Density: 0.8176, Context Similarity: 16.2262, Frequency: [('手術', 7), ('特定', 7), ('處置', 7), ('給付', 7), ('本公司', 6), ('保險人', 4), ('被保險人', 4), ('治療', 3), ('保單', 3), ('暨', 3)]
2024-11-08 15:13:34:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 439, Chunk 2, Score: 14.5425, Term Importance: 11.2886, Semantic Similarity: 0.9943, Query Coverage: 0.6114, Position Score: 0.0169, Term Density: 0.8176, Context Similarity: 20.8426, Frequency: [('手術', 10), ('特定', 10), ('處置', 10), ('接受', 6), ('治療', 6), ('給付', 5), ('保險人', 3), ('被保險人', 3), ('暨', 3), ('醫療', 3)]
2024-11-08 15:13:34:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 439, Chunk 1, Score: 7.7331, Term Importance: 0.3864, Semantic Similarity: 0.9934, Query Coverage: 0.2768, Position Score: 0.0153, Term Density: 0.4750, Context Similarity: 10.6277, Frequency: [('一項', 5), ('本公司', 5), ('保單', 3), ('接受', 2), ('手術', 2), ('特定', 2), ('處置', 2), ('治療', 2), ('保險人', 1), ('被保險人', 1)]
2024-11-08 15:13:35:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:35:INFO:utils.RAGProcessor:FAISS Score: [0.4611], PDF: 29, Chunk: 2, metadata: [{}]
2024-11-08 15:13:35:INFO:utils.RAGProcessor:FAISS Score: [0.5342], PDF: 29, Chunk: 0, metadata: [{}]
2024-11-08 15:13:35:INFO:utils.RAGProcessor:FAISS Score: [0.6210], PDF: 439, Chunk: 2, metadata: [{}]
2024-11-08 15:13:35:INFO:utils.RAGProcessor:FAISS Score: [0.6323], PDF: 29, Chunk: 1, metadata: [{}]
2024-11-08 15:13:35:INFO:utils.RAGProcessor:FAISS Score: [0.7671], PDF: 29, Chunk: 6, metadata: [{}]
2024-11-08 15:13:35:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:35:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 29, Chunk 2: Final Score=0.9844, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.8360, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=0.9379
2024-11-08 15:13:35:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 29, Chunk 0: Final Score=0.7250, BM25=0.8375, FAISS=0.7612, Importance=0.5687, Semantic=0.7486, Coverage=0.7971, Position=0.0000, Density=0.7939, Context=1.0000
2024-11-08 15:13:35:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 29, Chunk 1: Final Score=0.6133, BM25=0.7221, FAISS=0.4403, Importance=0.2244, Semantic=1.0000, Coverage=0.7377, Position=0.2430, Density=0.8123, Context=0.3562
2024-11-08 15:13:35:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 439, Chunk 2: Final Score=0.5985, BM25=0.6425, FAISS=0.4773, Importance=0.4566, Semantic=0.3497, Coverage=0.6883, Position=0.6011, Density=0.8123, Context=0.6499
2024-11-08 15:13:35:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 439, Chunk 1: Final Score=0.0056, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0583, Density=0.0000, Context=0.0000
2024-11-08 15:13:35:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 29, Chunk 6: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:35:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:35:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:35:INFO:utils.RAGProcessor:Query Features - Length: 24, Diversity: 0.96
2024-11-08 15:13:35:INFO:__main__:================================================================= QID: 40 =================================================================
2024-11-08 15:13:35:INFO:utils.rag_processor.query_processor:query分詞結果: 期間/被保險人/之未/保險費/繳費/當期/繳付/保險人/滿期/處理/身故
2024-11-08 15:13:35:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:35:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 591, Chunk 0, Score: 5.2677, Term Importance: 0.7385, Semantic Similarity: 0.9838, Query Coverage: 0.5587, Position Score: 0.0127, Term Density: 0.3296, Context Similarity: 11.8501, Frequency: [('保險費', 7), ('期間', 6), ('保險人', 5), ('被保險人', 5), ('繳付', 4), ('身故', 4), ('當期', 3), ('之未', 3), ('滿期', 3), ('繳費', 2)]
2024-11-08 15:13:35:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 591, Chunk 1, Score: 5.1382, Term Importance: 1.2546, Semantic Similarity: 0.9815, Query Coverage: 0.6585, Position Score: 0.0176, Term Density: 0.3073, Context Similarity: 8.6350, Frequency: [('保險人', 8), ('被保險人', 8), ('身故', 5), ('保險費', 4), ('期間', 2), ('繳費', 1), ('當期', 1), ('繳付', 1), ('之未', 1), ('滿期', 1)]
2024-11-08 15:13:35:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 578, Chunk 0, Score: 2.1382, Term Importance: 0.0321, Semantic Similarity: 0.9810, Query Coverage: 0.0962, Position Score: 0.0143, Term Density: 0.0529, Context Similarity: 10.7005, Frequency: [('保險費', 6), ('期間', 6), ('保險人', 2), ('被保險人', 2), ('身故', 1)]
2024-11-08 15:13:35:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 578, Chunk 1, Score: 2.1382, Term Importance: 0.1530, Semantic Similarity: 0.9842, Query Coverage: 0.0962, Position Score: 0.0148, Term Density: 0.0365, Context Similarity: 10.8542, Frequency: [('期間', 6), ('保險費', 6), ('保險人', 2), ('被保險人', 2), ('繳費', 1)]
2024-11-08 15:13:35:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 578, Chunk 2, Score: 2.1020, Term Importance: 0.0161, Semantic Similarity: 0.9832, Query Coverage: 0.0331, Position Score: 0.0211, Term Density: 0.0182, Context Similarity: 7.0075, Frequency: [('保險費', 4), ('保險人', 2), ('被保險人', 2), ('期間', 2)]
2024-11-08 15:13:35:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:35:INFO:utils.RAGProcessor:FAISS Score: [0.5861], PDF: 591, Chunk: 1, metadata: [{}]
2024-11-08 15:13:35:INFO:utils.RAGProcessor:FAISS Score: [0.6455], PDF: 591, Chunk: 2, metadata: [{}]
2024-11-08 15:13:35:INFO:utils.RAGProcessor:FAISS Score: [0.7694], PDF: 591, Chunk: 0, metadata: [{}]
2024-11-08 15:13:35:INFO:utils.RAGProcessor:FAISS Score: [0.7749], PDF: 578, Chunk: 0, metadata: [{}]
2024-11-08 15:13:35:INFO:utils.RAGProcessor:FAISS Score: [0.7791], PDF: 578, Chunk: 1, metadata: [{}]
2024-11-08 15:13:35:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:35:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 591, Chunk 1: Final Score=0.8443, BM25=0.9591, FAISS=1.0000, Importance=1.0000, Semantic=0.1679, Coverage=1.0000, Position=0.5842, Density=0.9283, Context=0.3361
2024-11-08 15:13:35:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 591, Chunk 0: Final Score=0.6026, BM25=1.0000, FAISS=0.0504, Importance=0.5833, Semantic=0.8846, Coverage=0.8403, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:13:35:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 591, Chunk 2: Final Score=0.1998, BM25=0.0000, FAISS=0.6926, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:35:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 578, Chunk 1: Final Score=0.1616, BM25=0.0114, FAISS=0.0000, Importance=0.1106, Semantic=1.0000, Coverage=0.1008, Position=0.2473, Density=0.0586, Context=0.7943
2024-11-08 15:13:35:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 578, Chunk 2: Final Score=0.1497, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.6964, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:35:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 578, Chunk 0: Final Score=0.0924, BM25=0.0114, FAISS=0.0217, Importance=0.0130, Semantic=0.0000, Coverage=0.1008, Position=0.1993, Density=0.1113, Context=0.7626
2024-11-08 15:13:35:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:35:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:35:INFO:utils.RAGProcessor:Query Features - Length: 11, Diversity: 0.92
2024-11-08 15:13:35:INFO:__main__:================================================================= QID: 41 =================================================================
2024-11-08 15:13:36:INFO:utils.rag_processor.query_processor:query分詞結果: 四日/同一/醫院/住院/被保險人/傷害/十四/疾病/保險金/若於/內因/保險人/出院/十四日/再次/計算/給付
2024-11-08 15:13:36:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:36:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 165, Chunk 3, Score: 31.6450, Term Importance: 4.1666, Semantic Similarity: 0.9936, Query Coverage: 1.5614, Position Score: 0.0139, Term Density: 1.4073, Context Similarity: 11.1479, Frequency: [('給付', 10), ('保險金', 9), ('住院', 8), ('保險人', 4), ('被保險人', 4), ('出院', 3), ('同一', 2), ('再次', 2), ('疾病', 1), ('傷害', 1)]
2024-11-08 15:13:36:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 165, Chunk 0, Score: 13.0563, Term Importance: 0.3078, Semantic Similarity: 0.9895, Query Coverage: 0.4631, Position Score: 0.0143, Term Density: 0.2934, Context Similarity: 5.7187, Frequency: [('保險金', 7), ('保險人', 5), ('被保險人', 5), ('給付', 4), ('十四', 2), ('疾病', 1), ('傷害', 1), ('醫院', 1), ('計算', 1)]
2024-11-08 15:13:36:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 165, Chunk 4, Score: 10.3394, Term Importance: 1.4531, Semantic Similarity: 0.9899, Query Coverage: 0.2491, Position Score: 0.0154, Term Density: 0.1296, Context Similarity: 9.8697, Frequency: [('保險金', 10), ('給付', 10), ('保險人', 4), ('被保險人', 4), ('計算', 2), ('住院', 1), ('十四', 1)]
2024-11-08 15:13:36:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 432, Chunk 3, Score: 10.2087, Term Importance: 3.0131, Semantic Similarity: 0.9871, Query Coverage: 0.3145, Position Score: 0.0207, Term Density: 0.1459, Context Similarity: 4.0909, Frequency: [('保險金', 4), ('保險人', 4), ('被保險人', 4), ('給付', 2), ('若於', 1), ('住院', 1)]
2024-11-08 15:13:36:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 165, Chunk 2, Score: 9.4361, Term Importance: 0.2846, Semantic Similarity: 0.9882, Query Coverage: 0.3665, Position Score: 0.0195, Term Density: 0.2198, Context Similarity: 3.4425, Frequency: [('保險金', 3), ('住院', 2), ('同一', 1), ('給付', 1), ('十四', 1), ('計算', 1)]
2024-11-08 15:13:37:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:37:INFO:utils.RAGProcessor:FAISS Score: [0.6941], PDF: 165, Chunk: 4, metadata: [{}]
2024-11-08 15:13:37:INFO:utils.RAGProcessor:FAISS Score: [0.7186], PDF: 165, Chunk: 3, metadata: [{}]
2024-11-08 15:13:37:INFO:utils.RAGProcessor:FAISS Score: [0.7401], PDF: 165, Chunk: 2, metadata: [{}]
2024-11-08 15:13:37:INFO:utils.RAGProcessor:FAISS Score: [0.7903], PDF: 165, Chunk: 5, metadata: [{}]
2024-11-08 15:13:37:INFO:utils.RAGProcessor:FAISS Score: [0.7921], PDF: 455, Chunk: 5, metadata: [{}]
2024-11-08 15:13:37:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:37:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 165, Chunk 3: Final Score=0.8315, BM25=1.0000, FAISS=0.7492, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:13:37:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 165, Chunk 4: Final Score=0.3925, BM25=0.0407, FAISS=1.0000, Importance=0.3010, Semantic=0.4254, Coverage=0.0000, Position=0.2267, Density=0.0000, Context=0.8341
2024-11-08 15:13:37:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 165, Chunk 2: Final Score=0.2655, BM25=0.0000, FAISS=0.5300, Importance=0.0000, Semantic=0.1630, Coverage=0.0895, Position=0.8277, Density=0.0705, Context=0.0000
2024-11-08 15:13:37:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 165, Chunk 0: Final Score=0.1231, BM25=0.1630, FAISS=0.0000, Importance=0.0060, Semantic=0.3706, Coverage=0.1631, Position=0.0565, Density=0.1282, Context=0.2954
2024-11-08 15:13:37:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 432, Chunk 3: Final Score=0.1158, BM25=0.0348, FAISS=0.0000, Importance=0.7029, Semantic=0.0000, Coverage=0.0498, Position=1.0000, Density=0.0127, Context=0.0841
2024-11-08 15:13:37:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 165, Chunk 5: Final Score=0.0052, BM25=0.0000, FAISS=0.0179, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:37:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 455, Chunk 5: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:37:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:37:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:37:INFO:utils.RAGProcessor:Query Features - Length: 17, Diversity: 0.94
2024-11-08 15:13:37:INFO:__main__:================================================================= QID: 42 =================================================================
2024-11-08 15:13:38:INFO:utils.rag_processor.query_processor:query分詞結果: 要保人/要保書/保人/告知/本契約/書面/契約/詢問/訂立/處理/事項
2024-11-08 15:13:38:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:38:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 325, Chunk 0, Score: 16.6264, Term Importance: 0.1985, Semantic Similarity: 0.9859, Query Coverage: 1.2078, Position Score: 0.0282, Term Density: 0.8252, Context Similarity: 5.7292, Frequency: [('契約', 7), ('本契約', 4), ('告知', 2), ('保人', 2), ('要保人', 2), ('訂立', 2), ('要保書', 1), ('詢問', 1), ('事項', 1)]
2024-11-08 15:13:38:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 325, Chunk 1, Score: 7.2938, Term Importance: 0.1878, Semantic Similarity: 0.9819, Query Coverage: 0.3038, Position Score: 0.0149, Term Density: 0.1304, Context Similarity: 7.8089, Frequency: [('契約', 10), ('本契約', 5), ('保人', 4), ('要保人', 4), ('訂立', 1), ('書面', 1)]
2024-11-08 15:13:38:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 568, Chunk 1, Score: 5.8949, Term Importance: 0.4096, Semantic Similarity: 0.9840, Query Coverage: 0.1670, Position Score: 0.0141, Term Density: 0.1062, Context Similarity: 5.1393, Frequency: [('契約', 7), ('本契約', 6), ('保人', 5), ('要保人', 5), ('要保書', 3), ('書面', 2)]
2024-11-08 15:13:38:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 188, Chunk 0, Score: 5.7263, Term Importance: 0.1608, Semantic Similarity: 0.9806, Query Coverage: 0.1003, Position Score: 0.0167, Term Density: 0.1062, Context Similarity: 2.6183, Frequency: [('保人', 6), ('要保人', 6), ('契約', 4), ('本契約', 4), ('要保書', 3)]
2024-11-08 15:13:38:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 188, Chunk 0, Score: 5.7263, Term Importance: 0.1608, Semantic Similarity: 0.9806, Query Coverage: 0.1003, Position Score: 0.0167, Term Density: 0.1062, Context Similarity: 2.6183, Frequency: [('保人', 6), ('要保人', 6), ('契約', 4), ('本契約', 4), ('要保書', 3)]
2024-11-08 15:13:38:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:38:INFO:utils.RAGProcessor:FAISS Score: [0.8475], PDF: 188, Chunk: 1, metadata: [{}]
2024-11-08 15:13:38:INFO:utils.RAGProcessor:FAISS Score: [0.8475], PDF: 188, Chunk: 1, metadata: [{}]
2024-11-08 15:13:38:INFO:utils.RAGProcessor:FAISS Score: [0.8980], PDF: 365, Chunk: 2, metadata: [{}]
2024-11-08 15:13:38:INFO:utils.RAGProcessor:FAISS Score: [0.8997], PDF: 445, Chunk: 6, metadata: [{}]
2024-11-08 15:13:38:INFO:utils.RAGProcessor:FAISS Score: [0.9013], PDF: 568, Chunk: 5, metadata: [{}]
2024-11-08 15:13:38:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:38:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 325, Chunk 0: Final Score=0.6923, BM25=1.0000, FAISS=0.0000, Importance=0.1516, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=0.5993
2024-11-08 15:13:38:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 188, Chunk 1: Final Score=0.2885, BM25=0.0000, FAISS=1.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:38:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 325, Chunk 1: Final Score=0.1314, BM25=0.1438, FAISS=0.0000, Importance=0.1086, Semantic=0.2403, Coverage=0.1837, Position=0.0582, Density=0.0335, Context=1.0000
2024-11-08 15:13:38:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 568, Chunk 1: Final Score=0.0831, BM25=0.0155, FAISS=0.0000, Importance=1.0000, Semantic=0.6403, Coverage=0.0602, Position=0.0000, Density=0.0000, Context=0.4857
2024-11-08 15:13:38:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 365, Chunk 2: Final Score=0.0177, BM25=0.0000, FAISS=0.0615, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:38:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 188, Chunk 0: Final Score=0.0175, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.1820, Density=0.0000, Context=0.0000
2024-11-08 15:13:38:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 445, Chunk 6: Final Score=0.0085, BM25=0.0000, FAISS=0.0293, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:38:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 568, Chunk 5: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:38:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:38:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:38:INFO:utils.RAGProcessor:Query Features - Length: 11, Diversity: 0.92
2024-11-08 15:13:38:INFO:__main__:================================================================= QID: 43 =================================================================
2024-11-08 15:13:39:INFO:utils.rag_processor.query_processor:query分詞結果: 通知/償付/多久/接到/終止/契約/解約/金/本公司/應於
2024-11-08 15:13:39:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:39:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 325, Chunk 1, Score: 16.0261, Term Importance: 1.5916, Semantic Similarity: 0.9902, Query Coverage: 1.3484, Position Score: 0.0177, Term Density: 0.6742, Context Similarity: 15.7873, Frequency: [('契約', 10), ('本公司', 8), ('終止', 7), ('解約', 3), ('通知', 2), ('金', 2), ('應於', 1), ('接到', 1), ('償付', 1)]
2024-11-08 15:13:39:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 441, Chunk 2, Score: 10.3953, Term Importance: 0.6469, Semantic Similarity: 0.9866, Query Coverage: 0.8101, Position Score: 0.0139, Term Density: 0.3453, Context Similarity: 11.3025, Frequency: [('本公司', 7), ('契約', 6), ('通知', 3), ('金', 2), ('解約', 1), ('終止', 1), ('應於', 1)]
2024-11-08 15:13:39:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 322, Chunk 1, Score: 7.3038, Term Importance: 0.5053, Semantic Similarity: 0.9890, Query Coverage: 0.4286, Position Score: 0.0157, Term Density: 0.2831, Context Similarity: 10.2702, Frequency: [('本公司', 5), ('契約', 4), ('償付', 3), ('通知', 2), ('應於', 1)]
2024-11-08 15:13:39:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 322, Chunk 1, Score: 7.3038, Term Importance: 0.5053, Semantic Similarity: 0.9890, Query Coverage: 0.4286, Position Score: 0.0157, Term Density: 0.2831, Context Similarity: 10.2702, Frequency: [('本公司', 5), ('契約', 4), ('償付', 3), ('通知', 2), ('應於', 1)]
2024-11-08 15:13:39:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 282, Chunk 2, Score: 7.1233, Term Importance: 0.1342, Semantic Similarity: 0.9870, Query Coverage: 0.4286, Position Score: 0.0145, Term Density: 0.2831, Context Similarity: 12.6446, Frequency: [('契約', 8), ('本公司', 4), ('償付', 3), ('通知', 1), ('應於', 1)]
2024-11-08 15:13:40:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:40:INFO:utils.RAGProcessor:FAISS Score: [0.7345], PDF: 325, Chunk: 1, metadata: [{}]
2024-11-08 15:13:40:INFO:utils.RAGProcessor:FAISS Score: [0.7663], PDF: 282, Chunk: 5, metadata: [{}]
2024-11-08 15:13:40:INFO:utils.RAGProcessor:FAISS Score: [0.8182], PDF: 180, Chunk: 2, metadata: [{}]
2024-11-08 15:13:40:INFO:utils.RAGProcessor:FAISS Score: [0.8206], PDF: 282, Chunk: 1, metadata: [{}]
2024-11-08 15:13:40:INFO:utils.RAGProcessor:FAISS Score: [0.8274], PDF: 54, Chunk: 6, metadata: [{}]
2024-11-08 15:13:40:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:40:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 325, Chunk 1: Final Score=1.0000, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=1.0000
2024-11-08 15:13:40:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 282, Chunk 5: Final Score=0.1897, BM25=0.0000, FAISS=0.6575, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:40:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 441, Chunk 2: Final Score=0.1646, BM25=0.3675, FAISS=0.0000, Importance=0.3518, Semantic=0.0000, Coverage=0.4147, Position=0.0000, Density=0.1591, Context=0.1871
2024-11-08 15:13:40:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 322, Chunk 1: Final Score=0.1002, BM25=0.0203, FAISS=0.0000, Importance=0.2546, Semantic=0.6561, Coverage=0.0000, Position=0.4684, Density=0.0000, Context=0.0000
2024-11-08 15:13:40:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 282, Chunk 2: Final Score=0.0430, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0929, Coverage=0.0000, Position=0.1573, Density=0.0000, Context=0.4304
2024-11-08 15:13:40:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 180, Chunk 2: Final Score=0.0286, BM25=0.0000, FAISS=0.0990, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:40:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 282, Chunk 1: Final Score=0.0214, BM25=0.0000, FAISS=0.0741, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:40:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 54, Chunk 6: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:40:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:40:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:40:INFO:utils.RAGProcessor:Query Features - Length: 10, Diversity: 0.91
2024-11-08 15:13:40:INFO:__main__:================================================================= QID: 44 =================================================================
2024-11-08 15:13:41:INFO:utils.rag_processor.query_processor:query分詞結果: 豁免/要保人/保險費/保人/哪些/文件/豁免保險費/出具/申請
2024-11-08 15:13:41:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:41:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 440, Chunk 1, Score: 16.0194, Term Importance: 1.1904, Semantic Similarity: 0.9748, Query Coverage: 1.3855, Position Score: 0.0198, Term Density: 0.8360, Context Similarity: 8.2490, Frequency: [('申請', 6), ('豁免', 4), ('保險費', 4), ('保人', 3), ('要保人', 3), ('文件', 3), ('豁免保險費', 3), ('出具', 1)]
2024-11-08 15:13:41:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 440, Chunk 0, Score: 6.6494, Term Importance: 0.3097, Semantic Similarity: 0.9748, Query Coverage: 0.5535, Position Score: 0.0158, Term Density: 0.1912, Context Similarity: 4.9940, Frequency: [('保人', 6), ('要保人', 6), ('申請', 4), ('文件', 2), ('出具', 1)]
2024-11-08 15:13:41:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 172, Chunk 1, Score: 5.1172, Term Importance: 0.2190, Semantic Similarity: 0.9747, Query Coverage: 0.2774, Position Score: 0.0128, Term Density: 0.1549, Context Similarity: 3.5832, Frequency: [('保人', 5), ('要保人', 5), ('申請', 2), ('文件', 2), ('保險費', 1)]
2024-11-08 15:13:41:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 357, Chunk 1, Score: 5.0465, Term Importance: 0.2564, Semantic Similarity: 0.9742, Query Coverage: 0.2774, Position Score: 0.0138, Term Density: 0.1549, Context Similarity: 4.6480, Frequency: [('保人', 4), ('要保人', 4), ('文件', 3), ('申請', 2), ('保險費', 1)]
2024-11-08 15:13:41:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 188, Chunk 0, Score: 5.0405, Term Importance: 0.0970, Semantic Similarity: 0.9734, Query Coverage: 0.1904, Position Score: 0.0200, Term Density: 0.0579, Context Similarity: 2.7178, Frequency: [('保人', 6), ('要保人', 6), ('保險費', 2), ('文件', 1)]
2024-11-08 15:13:41:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:41:INFO:utils.RAGProcessor:FAISS Score: [0.6130], PDF: 440, Chunk: 1, metadata: [{}]
2024-11-08 15:13:41:INFO:utils.RAGProcessor:FAISS Score: [0.6643], PDF: 440, Chunk: 2, metadata: [{}]
2024-11-08 15:13:41:INFO:utils.RAGProcessor:FAISS Score: [0.9184], PDF: 188, Chunk: 1, metadata: [{}]
2024-11-08 15:13:41:INFO:utils.RAGProcessor:FAISS Score: [0.9190], PDF: 365, Chunk: 2, metadata: [{}]
2024-11-08 15:13:41:INFO:utils.RAGProcessor:FAISS Score: [0.9220], PDF: 172, Chunk: 2, metadata: [{}]
2024-11-08 15:13:41:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:41:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 440, Chunk 1: Final Score=0.9947, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.9766, Coverage=1.0000, Position=0.9637, Density=1.0000, Context=1.0000
2024-11-08 15:13:41:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 440, Chunk 2: Final Score=0.2406, BM25=0.0000, FAISS=0.8340, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:41:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 440, Chunk 0: Final Score=0.2303, BM25=0.1466, FAISS=0.0000, Importance=0.1945, Semantic=1.0000, Coverage=0.3038, Position=0.4160, Density=0.1713, Context=0.4115
2024-11-08 15:13:41:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 172, Chunk 1: Final Score=0.1041, BM25=0.0070, FAISS=0.0000, Importance=0.1116, Semantic=0.8916, Coverage=0.0728, Position=0.0000, Density=0.1247, Context=0.1565
2024-11-08 15:13:41:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 357, Chunk 1: Final Score=0.0975, BM25=0.0006, FAISS=0.0000, Importance=0.1458, Semantic=0.5285, Coverage=0.0728, Position=0.1412, Density=0.1247, Context=0.3490
2024-11-08 15:13:41:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 188, Chunk 0: Final Score=0.0962, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:41:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 188, Chunk 1: Final Score=0.0033, BM25=0.0000, FAISS=0.0114, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:41:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 365, Chunk 2: Final Score=0.0028, BM25=0.0000, FAISS=0.0096, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:41:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 172, Chunk 2: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:41:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:41:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:41:INFO:utils.RAGProcessor:Query Features - Length: 9, Diversity: 0.90
2024-11-08 15:13:41:INFO:__main__:================================================================= QID: 45 =================================================================
2024-11-08 15:13:42:INFO:utils.rag_processor.query_processor:query分詞結果: 應檢具/受益/哪些/文件/申領/受益人/保險金/喪葬費/喪葬/用/身故
2024-11-08 15:13:42:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:42:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 537, Chunk 2, Score: 15.5743, Term Importance: 2.7165, Semantic Similarity: 0.9872, Query Coverage: 1.0674, Position Score: 0.0567, Term Density: 0.8683, Context Similarity: 5.6034, Frequency: [('保險金', 7), ('申領', 4), ('受益', 3), ('受益人', 3), ('文件', 2), ('身故', 2), ('喪葬', 2), ('喪葬費', 2), ('用', 2), ('應檢具', 1)]
2024-11-08 15:13:42:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 537, Chunk 1, Score: 10.7104, Term Importance: 1.8571, Semantic Similarity: 0.9848, Query Coverage: 0.6125, Position Score: 0.0136, Term Density: 0.5168, Context Similarity: 11.9747, Frequency: [('保險金', 9), ('受益', 7), ('受益人', 7), ('申領', 5), ('文件', 3), ('應檢具', 2)]
2024-11-08 15:13:42:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 537, Chunk 0, Score: 10.3672, Term Importance: 1.4532, Semantic Similarity: 0.9866, Query Coverage: 0.7033, Position Score: 0.0167, Term Density: 0.4139, Context Similarity: 13.1015, Frequency: [('受益', 10), ('受益人', 10), ('保險金', 5), ('文件', 2), ('申領', 2), ('身故', 1), ('應檢具', 1)]
2024-11-08 15:13:42:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 51, Chunk 2, Score: 9.8000, Term Importance: 1.6645, Semantic Similarity: 0.9890, Query Coverage: 0.6319, Position Score: 0.0179, Term Density: 0.4671, Context Similarity: 17.6115, Frequency: [('保險金', 13), ('受益', 8), ('受益人', 8), ('身故', 4), ('喪葬', 4), ('喪葬費', 4), ('用', 4), ('文件', 2)]
2024-11-08 15:13:42:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 431, Chunk 1, Score: 9.7846, Term Importance: 1.6701, Semantic Similarity: 0.9890, Query Coverage: 0.6319, Position Score: 0.0172, Term Density: 0.4671, Context Similarity: 17.6115, Frequency: [('保險金', 13), ('受益', 8), ('受益人', 8), ('身故', 4), ('喪葬', 4), ('喪葬費', 4), ('用', 4), ('文件', 2)]
2024-11-08 15:13:43:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:43:INFO:utils.RAGProcessor:FAISS Score: [0.4717], PDF: 537, Chunk: 2, metadata: [{}]
2024-11-08 15:13:43:INFO:utils.RAGProcessor:FAISS Score: [0.6496], PDF: 537, Chunk: 1, metadata: [{}]
2024-11-08 15:13:43:INFO:utils.RAGProcessor:FAISS Score: [0.7317], PDF: 172, Chunk: 2, metadata: [{}]
2024-11-08 15:13:43:INFO:utils.RAGProcessor:FAISS Score: [0.7626], PDF: 35, Chunk: 2, metadata: [{}]
2024-11-08 15:13:43:INFO:utils.RAGProcessor:FAISS Score: [0.7679], PDF: 528, Chunk: 2, metadata: [{}]
2024-11-08 15:13:43:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:43:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 537, Chunk 2: Final Score=0.9189, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.5705, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=0.0000
2024-11-08 15:13:43:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 537, Chunk 1: Final Score=0.2102, BM25=0.1599, FAISS=0.3993, Importance=0.3197, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.2265, Context=0.5306
2024-11-08 15:13:43:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 51, Chunk 2: Final Score=0.1565, BM25=0.0027, FAISS=0.0000, Importance=0.1673, Semantic=0.9942, Coverage=0.0426, Position=0.0991, Density=0.1171, Context=1.0000
2024-11-08 15:13:43:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 431, Chunk 1: Final Score=0.1548, BM25=0.0000, FAISS=0.0000, Importance=0.1717, Semantic=1.0000, Coverage=0.0426, Position=0.0828, Density=0.1171, Context=1.0000
2024-11-08 15:13:43:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 537, Chunk 0: Final Score=0.1161, BM25=0.1006, FAISS=0.0000, Importance=0.0000, Semantic=0.4291, Coverage=0.1996, Position=0.0712, Density=0.0000, Context=0.6244
2024-11-08 15:13:43:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 172, Chunk 2: Final Score=0.0353, BM25=0.0000, FAISS=0.1224, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:43:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 35, Chunk 2: Final Score=0.0051, BM25=0.0000, FAISS=0.0178, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:43:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 528, Chunk 2: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:43:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:43:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:43:INFO:utils.RAGProcessor:Query Features - Length: 11, Diversity: 0.92
2024-11-08 15:13:43:INFO:__main__:================================================================= QID: 46 =================================================================
2024-11-08 15:13:44:INFO:utils.rag_processor.query_processor:query分詞結果: 要保人/通知/保人/時應/變更/住所/本公司
2024-11-08 15:13:44:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:44:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 66, Chunk 0, Score: 7.3782, Term Importance: 0.2200, Semantic Similarity: 0.9809, Query Coverage: 0.7717, Position Score: 0.0188, Term Density: 0.4550, Context Similarity: 9.8786, Frequency: [('保人', 7), ('要保人', 7), ('本公司', 7), ('變更', 3), ('通知', 3), ('住所', 2)]
2024-11-08 15:13:44:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 66, Chunk 1, Score: 4.8981, Term Importance: 0.2273, Semantic Similarity: 0.9777, Query Coverage: 0.4291, Position Score: 0.0456, Term Density: 0.1705, Context Similarity: 4.8507, Frequency: [('保人', 3), ('要保人', 3), ('本公司', 3), ('住所', 2), ('變更', 1)]
2024-11-08 15:13:44:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 32, Chunk 1, Score: 3.0962, Term Importance: 0.0073, Semantic Similarity: 0.9763, Query Coverage: 0.1856, Position Score: 0.0167, Term Density: 0.0650, Context Similarity: 5.1561, Frequency: [('保人', 6), ('要保人', 6), ('本公司', 5), ('變更', 1)]
2024-11-08 15:13:44:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 502, Chunk 1, Score: 2.2158, Term Importance: 0.0000, Semantic Similarity: 0.9757, Query Coverage: 0.0000, Position Score: 0.0176, Term Density: 0.0000, Context Similarity: 4.2743, Frequency: [('保人', 5), ('要保人', 5), ('本公司', 4)]
2024-11-08 15:13:44:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 625, Chunk 2, Score: 2.1891, Term Importance: 0.0000, Semantic Similarity: 0.9757, Query Coverage: 0.0000, Position Score: 0.0258, Term Density: 0.0000, Context Similarity: 3.4159, Frequency: [('保人', 4), ('要保人', 4), ('本公司', 3)]
2024-11-08 15:13:44:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:44:INFO:utils.RAGProcessor:FAISS Score: [0.6846], PDF: 66, Chunk: 1, metadata: [{}]
2024-11-08 15:13:44:INFO:utils.RAGProcessor:FAISS Score: [0.9377], PDF: 32, Chunk: 1, metadata: [{}]
2024-11-08 15:13:44:INFO:utils.RAGProcessor:FAISS Score: [0.9482], PDF: 502, Chunk: 1, metadata: [{}]
2024-11-08 15:13:44:INFO:utils.RAGProcessor:FAISS Score: [0.9722], PDF: 502, Chunk: 2, metadata: [{}]
2024-11-08 15:13:44:INFO:utils.RAGProcessor:FAISS Score: [0.9900], PDF: 625, Chunk: 2, metadata: [{}]
2024-11-08 15:13:44:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:44:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 66, Chunk 1: Final Score=0.6632, BM25=0.5221, FAISS=1.0000, Importance=1.0000, Semantic=0.3801, Coverage=0.5561, Position=1.0000, Density=0.3747, Context=0.2220
2024-11-08 15:13:44:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 66, Chunk 0: Final Score=0.6223, BM25=1.0000, FAISS=0.0000, Importance=0.9675, Semantic=1.0000, Coverage=1.0000, Position=0.0715, Density=1.0000, Context=1.0000
2024-11-08 15:13:44:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 32, Chunk 1: Final Score=0.1597, BM25=0.1748, FAISS=0.1712, Importance=0.0319, Semantic=0.1132, Coverage=0.2405, Position=0.0000, Density=0.1428, Context=0.2693
2024-11-08 15:13:44:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 502, Chunk 1: Final Score=0.0506, BM25=0.0051, FAISS=0.1366, Importance=0.0000, Semantic=0.0107, Coverage=0.0000, Position=0.0289, Density=0.0000, Context=0.1328
2024-11-08 15:13:44:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 625, Chunk 2: Final Score=0.0304, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.3158, Density=0.0000, Context=0.0000
2024-11-08 15:13:44:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 502, Chunk 2: Final Score=0.0168, BM25=0.0000, FAISS=0.0581, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:44:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:44:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:44:INFO:utils.RAGProcessor:Query Features - Length: 7, Diversity: 0.88
2024-11-08 15:13:44:INFO:__main__:================================================================= QID: 47 =================================================================
2024-11-08 15:13:45:INFO:utils.rag_processor.query_processor:query分詞結果: 年度/數是/保單年度/計算/保單
2024-11-08 15:13:45:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:45:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 620, Chunk 3, Score: 5.2356, Term Importance: 1.7651, Semantic Similarity: 0.9774, Query Coverage: 1.1206, Position Score: 0.0144, Term Density: 0.4869, Context Similarity: 16.0880, Frequency: [('保單', 10), ('年度', 6), ('保單年度', 5), ('計算', 1)]
2024-11-08 15:13:45:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 620, Chunk 1, Score: 4.7865, Term Importance: 0.2042, Semantic Similarity: 0.9792, Query Coverage: 1.1206, Position Score: 0.0345, Term Density: 0.2435, Context Similarity: 4.2617, Frequency: [('計算', 2), ('保單', 2), ('年度', 2), ('保單年度', 2)]
2024-11-08 15:13:45:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 620, Chunk 2, Score: 4.4344, Term Importance: 0.4231, Semantic Similarity: 0.9757, Query Coverage: 0.9738, Position Score: 0.0520, Term Density: 0.2435, Context Similarity: 4.3760, Frequency: [('保單', 2), ('年度', 2), ('保單年度', 2)]
2024-11-08 15:13:45:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 620, Chunk 5, Score: 1.6410, Term Importance: 0.0770, Semantic Similarity: 0.9746, Query Coverage: 0.5133, Position Score: 0.0143, Term Density: 0.1283, Context Similarity: 4.8255, Frequency: [('計算', 2), ('年度', 1)]
2024-11-08 15:13:45:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 243, Chunk 2, Score: 0.6020, Term Importance: 0.1381, Semantic Similarity: 0.9724, Query Coverage: 0.3301, Position Score: 0.1124, Term Density: 0.1283, Context Similarity: 4.3538, Frequency: [('保單', 2), ('計算', 1)]
2024-11-08 15:13:45:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:45:INFO:utils.RAGProcessor:FAISS Score: [0.6904], PDF: 243, Chunk: 1, metadata: [{}]
2024-11-08 15:13:45:INFO:utils.RAGProcessor:FAISS Score: [0.7610], PDF: 620, Chunk: 2, metadata: [{}]
2024-11-08 15:13:45:INFO:utils.RAGProcessor:FAISS Score: [0.7715], PDF: 243, Chunk: 2, metadata: [{}]
2024-11-08 15:13:45:INFO:utils.RAGProcessor:FAISS Score: [0.7952], PDF: 596, Chunk: 1, metadata: [{}]
2024-11-08 15:13:45:INFO:utils.RAGProcessor:FAISS Score: [0.7955], PDF: 620, Chunk: 1, metadata: [{}]
2024-11-08 15:13:45:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:45:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 620, Chunk 3: Final Score=0.5957, BM25=1.0000, FAISS=0.0000, Importance=1.0000, Semantic=0.7427, Coverage=1.0000, Position=0.0013, Density=1.0000, Context=1.0000
2024-11-08 15:13:45:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 620, Chunk 2: Final Score=0.5008, BM25=0.8271, FAISS=0.3279, Importance=0.2050, Semantic=0.4899, Coverage=0.8143, Position=0.3844, Density=0.3211, Context=0.0097
2024-11-08 15:13:45:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 620, Chunk 1: Final Score=0.4669, BM25=0.9031, FAISS=0.0000, Importance=0.0754, Semantic=1.0000, Coverage=1.0000, Position=0.2066, Density=0.3211, Context=0.0000
2024-11-08 15:13:45:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 243, Chunk 1: Final Score=0.2885, BM25=0.0000, FAISS=1.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:45:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 243, Chunk 2: Final Score=0.1623, BM25=0.0000, FAISS=0.2281, Importance=0.0362, Semantic=0.0000, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0078
2024-11-08 15:13:45:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 620, Chunk 5: Final Score=0.1057, BM25=0.2242, FAISS=0.0000, Importance=0.0000, Semantic=0.3242, Coverage=0.2318, Position=0.0000, Density=0.0000, Context=0.0477
2024-11-08 15:13:45:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 596, Chunk 1: Final Score=0.0007, BM25=0.0000, FAISS=0.0025, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:45:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:45:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:45:INFO:utils.RAGProcessor:Query Features - Length: 5, Diversity: 0.83
2024-11-08 15:13:45:INFO:__main__:================================================================= QID: 48 =================================================================
2024-11-08 15:13:46:INFO:utils.rag_processor.query_processor:query分詞結果: 貨幣單位/收付/保險費/退還/支付/本契約/單位/問題/契約/返還/貨幣/款項/收取/借款/保險單
2024-11-08 15:13:46:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:46:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 8, Chunk 2, Score: 33.6700, Term Importance: 1.4889, Semantic Similarity: 0.9935, Query Coverage: 2.0394, Position Score: 0.0386, Term Density: 1.6650, Context Similarity: 6.0364, Frequency: [('款項', 3), ('契約', 2), ('本契約', 2), ('保險單', 2), ('貨幣', 2), ('單位', 2), ('貨幣單位', 2), ('保險費', 2), ('收取', 2), ('退還', 1)]
2024-11-08 15:13:46:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 8, Chunk 0, Score: 8.6924, Term Importance: 0.3119, Semantic Similarity: 0.9905, Query Coverage: 0.3989, Position Score: 0.0370, Term Density: 0.2708, Context Similarity: 5.3818, Frequency: [('收取', 3), ('保險單', 1), ('契約', 1), ('本契約', 1), ('款項', 1)]
2024-11-08 15:13:46:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 528, Chunk 1, Score: 4.9160, Term Importance: 0.0211, Semantic Similarity: 0.9851, Query Coverage: 0.1535, Position Score: 0.0274, Term Density: 0.1151, Context Similarity: 6.4195, Frequency: [('契約', 5), ('本契約', 4), ('借款', 1)]
2024-11-08 15:13:46:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 431, Chunk 0, Score: 4.8210, Term Importance: 0.0593, Semantic Similarity: 0.9885, Query Coverage: 0.1997, Position Score: 0.0219, Term Density: 0.1151, Context Similarity: 6.7293, Frequency: [('契約', 6), ('本契約', 4), ('保險費', 1), ('借款', 1)]
2024-11-08 15:13:46:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 434, Chunk 1, Score: 4.3446, Term Importance: 0.0391, Semantic Similarity: 0.9821, Query Coverage: 0.1643, Position Score: 0.0126, Term Density: 0.0949, Context Similarity: 4.5347, Frequency: [('契約', 3), ('本契約', 3), ('保險費', 2), ('保險單', 1), ('退還', 1)]
2024-11-08 15:13:47:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:47:INFO:utils.RAGProcessor:FAISS Score: [0.6495], PDF: 8, Chunk: 2, metadata: [{}]
2024-11-08 15:13:47:INFO:utils.RAGProcessor:FAISS Score: [0.8093], PDF: 8, Chunk: 1, metadata: [{}]
2024-11-08 15:13:47:INFO:utils.RAGProcessor:FAISS Score: [0.8763], PDF: 8, Chunk: 0, metadata: [{}]
2024-11-08 15:13:47:INFO:utils.RAGProcessor:FAISS Score: [0.9039], PDF: 379, Chunk: 2, metadata: [{}]
2024-11-08 15:13:47:INFO:utils.RAGProcessor:FAISS Score: [0.9202], PDF: 528, Chunk: 1, metadata: [{}]
2024-11-08 15:13:47:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 8, Chunk 2: Final Score=0.9848, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=0.6843
2024-11-08 15:13:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 8, Chunk 0: Final Score=0.2781, BM25=0.1483, FAISS=0.1619, Importance=0.1981, Semantic=0.7427, Coverage=0.1301, Position=0.9392, Density=0.1121, Context=0.3860
2024-11-08 15:13:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 431, Chunk 0: Final Score=0.1346, BM25=0.0162, FAISS=0.0000, Importance=0.0260, Semantic=0.5674, Coverage=0.0245, Position=0.3583, Density=0.0129, Context=1.0000
2024-11-08 15:13:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 528, Chunk 1: Final Score=0.1228, BM25=0.0195, FAISS=0.0000, Importance=0.0000, Semantic=0.2659, Coverage=0.0000, Position=0.5691, Density=0.0129, Context=0.8588
2024-11-08 15:13:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 8, Chunk 1: Final Score=0.1181, BM25=0.0000, FAISS=0.4095, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 379, Chunk 2: Final Score=0.0173, BM25=0.0000, FAISS=0.0601, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 434, Chunk 1: Final Score=0.0007, BM25=0.0000, FAISS=0.0000, Importance=0.0122, Semantic=0.0000, Coverage=0.0057, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:47:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:47:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:47:INFO:utils.RAGProcessor:Query Features - Length: 15, Diversity: 0.94
2024-11-08 15:13:47:INFO:__main__:================================================================= QID: 49 =================================================================
2024-11-08 15:13:47:INFO:utils.rag_processor.query_processor:query分詞結果: 要保人/受益/保人/交付/方式/受益人/何種/各/款項
2024-11-08 15:13:47:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:47:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 482, Chunk 2, Score: 14.9067, Term Importance: 0.7992, Semantic Similarity: 0.9910, Query Coverage: 0.9083, Position Score: 0.0290, Term Density: 0.7758, Context Similarity: 9.5044, Frequency: [('保人', 6), ('要保人', 6), ('受益', 5), ('受益人', 5), ('方式', 3), ('款項', 3), ('各', 2), ('交付', 2)]
2024-11-08 15:13:47:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 482, Chunk 0, Score: 8.8213, Term Importance: 0.0689, Semantic Similarity: 0.9886, Query Coverage: 0.6069, Position Score: 0.0226, Term Density: 0.2731, Context Similarity: 2.8521, Frequency: [('保人', 2), ('要保人', 2), ('受益', 1), ('受益人', 1), ('交付', 1), ('款項', 1)]
2024-11-08 15:13:47:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 482, Chunk 3, Score: 8.3584, Term Importance: 0.3539, Semantic Similarity: 0.9898, Query Coverage: 0.3691, Position Score: 0.0161, Term Density: 0.1345, Context Similarity: 4.8191, Frequency: [('保人', 6), ('要保人', 6), ('受益', 2), ('受益人', 2), ('方式', 2), ('交付', 1)]
2024-11-08 15:13:47:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 482, Chunk 1, Score: 8.1314, Term Importance: 0.1366, Semantic Similarity: 0.9881, Query Coverage: 0.3939, Position Score: 0.0173, Term Density: 0.1287, Context Similarity: 5.4616, Frequency: [('受益', 3), ('受益人', 3), ('保人', 2), ('要保人', 2), ('各', 1), ('方式', 1)]
2024-11-08 15:13:47:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 580, Chunk 0, Score: 6.6905, Term Importance: 0.1788, Semantic Similarity: 0.9899, Query Coverage: 0.1629, Position Score: 0.0173, Term Density: 0.0494, Context Similarity: 7.6954, Frequency: [('受益', 4), ('受益人', 4), ('保人', 3), ('要保人', 3), ('方式', 1)]
2024-11-08 15:13:48:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:48:INFO:utils.RAGProcessor:FAISS Score: [0.8015], PDF: 580, Chunk: 4, metadata: [{}]
2024-11-08 15:13:48:INFO:utils.RAGProcessor:FAISS Score: [0.8385], PDF: 482, Chunk: 2, metadata: [{}]
2024-11-08 15:13:48:INFO:utils.RAGProcessor:FAISS Score: [0.8447], PDF: 546, Chunk: 1, metadata: [{}]
2024-11-08 15:13:48:INFO:utils.RAGProcessor:FAISS Score: [0.8449], PDF: 357, Chunk: 2, metadata: [{}]
2024-11-08 15:13:48:INFO:utils.RAGProcessor:FAISS Score: [0.8452], PDF: 37, Chunk: 1, metadata: [{}]
2024-11-08 15:13:48:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:48:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 482, Chunk 2: Final Score=0.7552, BM25=1.0000, FAISS=0.1514, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=1.0000
2024-11-08 15:13:48:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 580, Chunk 4: Final Score=0.2885, BM25=0.0000, FAISS=1.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:48:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 482, Chunk 0: Final Score=0.2362, BM25=0.2593, FAISS=0.0000, Importance=0.0000, Semantic=0.1983, Coverage=0.5957, Position=0.4986, Density=0.3080, Context=0.0000
2024-11-08 15:13:48:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 482, Chunk 3: Final Score=0.1565, BM25=0.2030, FAISS=0.0000, Importance=0.3903, Semantic=0.6060, Coverage=0.2767, Position=0.0000, Density=0.1172, Context=0.2957
2024-11-08 15:13:48:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 482, Chunk 1: Final Score=0.1198, BM25=0.1754, FAISS=0.0000, Importance=0.0927, Semantic=0.0000, Coverage=0.3100, Position=0.0927, Density=0.1092, Context=0.3923
2024-11-08 15:13:48:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 580, Chunk 0: Final Score=0.0929, BM25=0.0000, FAISS=0.0000, Importance=0.1505, Semantic=0.6390, Coverage=0.0000, Position=0.0913, Density=0.0000, Context=0.7281
2024-11-08 15:13:48:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 546, Chunk 1: Final Score=0.0033, BM25=0.0000, FAISS=0.0113, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:48:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 357, Chunk 2: Final Score=0.0017, BM25=0.0000, FAISS=0.0058, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:48:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 37, Chunk 1: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:48:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:48:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:48:INFO:utils.RAGProcessor:Query Features - Length: 9, Diversity: 0.90
2024-11-08 15:13:48:INFO:__main__:================================================================= QID: 50 =================================================================
2024-11-08 15:13:49:INFO:utils.rag_processor.query_processor:query分詞結果: 效力/要保人/六個/從/保人/之日/提出/六個月/契約/若於/之日起/恢復/何時/復效/停止/申請
2024-11-08 15:13:49:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:49:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 78, Chunk 0, Score: 21.1595, Term Importance: 2.2541, Semantic Similarity: 0.9927, Query Coverage: 1.0365, Position Score: 0.0206, Term Density: 0.9444, Context Similarity: 8.0491, Frequency: [('保人', 10), ('要保人', 10), ('復效', 8), ('效力', 7), ('申請', 6), ('契約', 4), ('停止', 4), ('恢復', 3), ('之日', 3), ('之日起', 3)]
2024-11-08 15:13:49:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 78, Chunk 1, Score: 10.9061, Term Importance: 1.5837, Semantic Similarity: 0.9922, Query Coverage: 0.4377, Position Score: 0.0156, Term Density: 0.2925, Context Similarity: 9.2338, Frequency: [('保人', 8), ('要保人', 8), ('復效', 6), ('效力', 6), ('申請', 4), ('恢復', 3), ('契約', 3), ('停止', 2), ('提出', 1)]
2024-11-08 15:13:49:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 555, Chunk 0, Score: 10.8233, Term Importance: 1.7119, Semantic Similarity: 0.9921, Query Coverage: 0.4377, Position Score: 0.0152, Term Density: 0.2925, Context Similarity: 9.2367, Frequency: [('保人', 8), ('要保人', 8), ('復效', 7), ('效力', 6), ('申請', 4), ('恢復', 3), ('契約', 3), ('停止', 2), ('提出', 1)]
2024-11-08 15:13:49:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 341, Chunk 2, Score: 7.9385, Term Importance: 0.3028, Semantic Similarity: 0.9914, Query Coverage: 0.3369, Position Score: 0.0148, Term Density: 0.1846, Context Similarity: 8.3174, Frequency: [('契約', 8), ('保人', 4), ('要保人', 4), ('停止', 3), ('效力', 2), ('之日', 1), ('之日起', 1)]
2024-11-08 15:13:49:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 365, Chunk 0, Score: 6.0767, Term Importance: 0.0375, Semantic Similarity: 0.9887, Query Coverage: 0.2307, Position Score: 0.0308, Term Density: 0.1846, Context Similarity: 1.8584, Frequency: [('契約', 3), ('保人', 2), ('要保人', 2), ('之日', 1), ('之日起', 1)]
2024-11-08 15:13:49:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:49:INFO:utils.RAGProcessor:FAISS Score: [0.4790], PDF: 78, Chunk: 1, metadata: [{}]
2024-11-08 15:13:49:INFO:utils.RAGProcessor:FAISS Score: [0.6694], PDF: 555, Chunk: 0, metadata: [{}]
2024-11-08 15:13:49:INFO:utils.RAGProcessor:FAISS Score: [0.6967], PDF: 78, Chunk: 0, metadata: [{}]
2024-11-08 15:13:49:INFO:utils.RAGProcessor:FAISS Score: [0.7083], PDF: 78, Chunk: 2, metadata: [{}]
2024-11-08 15:13:49:INFO:utils.RAGProcessor:FAISS Score: [0.7414], PDF: 78, Chunk: 3, metadata: [{}]
2024-11-08 15:13:49:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 78, Chunk 0: Final Score=0.6917, BM25=1.0000, FAISS=0.1707, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.3622, Density=1.0000, Context=0.8390
2024-11-08 15:13:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 78, Chunk 1: Final Score=0.5322, BM25=0.3202, FAISS=1.0000, Importance=0.6976, Semantic=0.8678, Coverage=0.2569, Position=0.0508, Density=0.1420, Context=0.9996
2024-11-08 15:13:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 555, Chunk 0: Final Score=0.3181, BM25=0.3147, FAISS=0.2745, Importance=0.7554, Semantic=0.8529, Coverage=0.2569, Position=0.0256, Density=0.1420, Context=1.0000
2024-11-08 15:13:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 341, Chunk 2: Final Score=0.1367, BM25=0.1234, FAISS=0.0000, Importance=0.1197, Semantic=0.6619, Coverage=0.1318, Position=0.0000, Density=0.0000, Context=0.8754
2024-11-08 15:13:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 365, Chunk 0: Final Score=0.0962, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 78, Chunk 2: Final Score=0.0364, BM25=0.0000, FAISS=0.1261, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 78, Chunk 3: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:49:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:49:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:49:INFO:utils.RAGProcessor:Query Features - Length: 16, Diversity: 0.94
2024-11-08 15:13:49:INFO:__main__:================================================================= QID: 51 =================================================================
2024-11-08 15:13:50:INFO:utils.rag_processor.query_processor:query分詞結果: 多少/季/利益/聯電/2023/營業
2024-11-08 15:13:50:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:50:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 653, Chunk 0, Score: 1.8593, Term Importance: 0.5195, Semantic Similarity: 0.9798, Query Coverage: 0.3945, Position Score: 0.0123, Term Density: 0.1386, Context Similarity: 12.0070, Frequency: [('利益', 7), ('營業', 3)]
2024-11-08 15:13:50:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 162, Chunk 0, Score: 1.7572, Term Importance: 0.6052, Semantic Similarity: 0.9837, Query Coverage: 0.3945, Position Score: 0.0140, Term Density: 0.1674, Context Similarity: 12.3403, Frequency: [('營業', 8), ('利益', 4)]
2024-11-08 15:13:50:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 61, Chunk 3, Score: 0.6238, Term Importance: 0.3142, Semantic Similarity: 0.9816, Query Coverage: 0.1635, Position Score: 0.0175, Term Density: 0.0981, Context Similarity: 15.1564, Frequency: [('營業', 5)]
2024-11-08 15:13:50:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 61, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9819, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:13:50:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 61, Chunk 1, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9812, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:13:51:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:51:INFO:utils.RAGProcessor:FAISS Score: [0.8064], PDF: 653, Chunk: 0, metadata: [{}]
2024-11-08 15:13:51:INFO:utils.RAGProcessor:FAISS Score: [0.8695], PDF: 162, Chunk: 0, metadata: [{}]
2024-11-08 15:13:51:INFO:utils.RAGProcessor:FAISS Score: [1.0446], PDF: 899, Chunk: 0, metadata: [{}]
2024-11-08 15:13:51:INFO:utils.RAGProcessor:FAISS Score: [1.0702], PDF: 61, Chunk: 2, metadata: [{}]
2024-11-08 15:13:51:INFO:utils.RAGProcessor:FAISS Score: [1.0782], PDF: 61, Chunk: 0, metadata: [{}]
2024-11-08 15:13:51:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 162, Chunk 0: Final Score=0.8923, BM25=0.9451, FAISS=0.7680, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.8011, Density=1.0000, Context=0.8142
2024-11-08 15:13:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 653, Chunk 0: Final Score=0.8599, BM25=1.0000, FAISS=1.0000, Importance=0.8584, Semantic=0.0000, Coverage=1.0000, Position=0.7045, Density=0.8281, Context=0.7922
2024-11-08 15:13:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 61, Chunk 3: Final Score=0.3911, BM25=0.3355, FAISS=0.0000, Importance=0.5192, Semantic=0.4823, Coverage=0.4144, Position=1.0000, Density=0.5859, Context=1.0000
2024-11-08 15:13:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 61, Chunk 0: Final Score=0.0427, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.5555, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 899, Chunk 0: Final Score=0.0356, BM25=0.0000, FAISS=0.1235, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 61, Chunk 1: Final Score=0.0277, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.3604, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 61, Chunk 2: Final Score=0.0085, BM25=0.0000, FAISS=0.0294, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:51:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:51:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:51:INFO:utils.RAGProcessor:Query Features - Length: 6, Diversity: 0.86
2024-11-08 15:13:51:INFO:__main__:================================================================= QID: 52 =================================================================
2024-11-08 15:13:52:INFO:utils.rag_processor.query_processor:query分詞結果: 會計/子公司/資產/部分/會計師/股份/科技股/重要/總額/科技/百分比/報告/核閱/季/科技股份/光寶/2023/財務報告/占/未經/百分/非/合併/財務/有限/多少
2024-11-08 15:13:52:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:52:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 918, Chunk 1, Score: 22.3688, Term Importance: 4.5458, Semantic Similarity: 0.9928, Query Coverage: 0.6826, Position Score: 0.0287, Term Density: 0.6577, Context Similarity: 9.0122, Frequency: [('合併', 6), ('總額', 6), ('財務', 3), ('報告', 3), ('財務報告', 3), ('占', 3), ('核閱', 2), ('會計', 2), ('會計師', 2), ('資產', 2)]
2024-11-08 15:13:52:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 918, Chunk 0, Score: 20.1230, Term Importance: 17.1605, Semantic Similarity: 0.9899, Query Coverage: 0.5855, Position Score: 0.0170, Term Density: 1.1202, Context Similarity: 11.8322, Frequency: [('核閱', 9), ('合併', 8), ('財務', 8), ('會計', 7), ('報告', 6), ('會計師', 5), ('財務報告', 5), ('光寶', 3), ('科技', 2), ('股份', 2)]
2024-11-08 15:13:52:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 918, Chunk 2, Score: 17.7238, Term Importance: 5.8277, Semantic Similarity: 0.9906, Query Coverage: 0.5202, Position Score: 0.0239, Term Density: 0.5871, Context Similarity: 11.2785, Frequency: [('財務', 10), ('報告', 7), ('財務報告', 7), ('合併', 6), ('會計', 4), ('會計師', 3), ('核閱', 3), ('未經', 1), ('部分', 1), ('非', 1)]
2024-11-08 15:13:52:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 1018, Chunk 1, Score: 16.2750, Term Importance: 4.4729, Semantic Similarity: 0.9894, Query Coverage: 0.4329, Position Score: 0.0232, Term Density: 1.0901, Context Similarity: 11.3021, Frequency: [('合併', 8), ('股份', 7), ('有限', 7), ('科技', 6), ('子公司', 3), ('科技股', 3), ('科技股份', 3), ('財務', 3), ('報告', 3), ('財務報告', 3)]
2024-11-08 15:13:53:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 1018, Chunk 0, Score: 15.5737, Term Importance: 16.8062, Semantic Similarity: 0.9890, Query Coverage: 0.4819, Position Score: 0.0156, Term Density: 0.6783, Context Similarity: 6.8266, Frequency: [('合併', 7), ('股份', 6), ('有限', 6), ('光寶', 5), ('科技', 2), ('科技股', 2), ('科技股份', 2), ('子公司', 2), ('財務', 1), ('報告', 1)]
2024-11-08 15:13:55:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:55:INFO:utils.RAGProcessor:FAISS Score: [0.6188], PDF: 918, Chunk: 1, metadata: [{}]
2024-11-08 15:13:55:INFO:utils.RAGProcessor:FAISS Score: [0.6322], PDF: 918, Chunk: 0, metadata: [{}]
2024-11-08 15:13:55:INFO:utils.RAGProcessor:FAISS Score: [0.6490], PDF: 293, Chunk: 0, metadata: [{}]
2024-11-08 15:13:55:INFO:utils.RAGProcessor:FAISS Score: [0.6974], PDF: 918, Chunk: 2, metadata: [{}]
2024-11-08 15:13:55:INFO:utils.RAGProcessor:FAISS Score: [0.7468], PDF: 1028, Chunk: 0, metadata: [{}]
2024-11-08 15:13:55:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 918, Chunk 1: Final Score=0.8478, BM25=1.0000, FAISS=1.0000, Importance=0.0057, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=0.1324, Context=0.4366
2024-11-08 15:13:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 918, Chunk 0: Final Score=0.7040, BM25=0.6695, FAISS=0.8954, Importance=1.0000, Semantic=0.2326, Coverage=0.6110, Position=0.1091, Density=1.0000, Context=1.0000
2024-11-08 15:13:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 918, Chunk 2: Final Score=0.3602, BM25=0.3164, FAISS=0.3858, Importance=0.1068, Semantic=0.4168, Coverage=0.3497, Position=0.6318, Density=0.0000, Context=0.8894
2024-11-08 15:13:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 1018, Chunk 1: Final Score=0.2664, BM25=0.1032, FAISS=0.0000, Importance=0.0000, Semantic=0.0982, Coverage=0.0000, Position=0.5819, Density=0.9436, Context=0.8941
2024-11-08 15:13:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 293, Chunk 0: Final Score=0.2203, BM25=0.0000, FAISS=0.7637, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 1018, Chunk 0: Final Score=0.0473, BM25=0.0000, FAISS=0.0000, Importance=0.9721, Semantic=0.0000, Coverage=0.1960, Position=0.0000, Density=0.1710, Context=0.0000
2024-11-08 15:13:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 1028, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:55:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:55:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:55:INFO:utils.RAGProcessor:Query Features - Length: 26, Diversity: 0.96
2024-11-08 15:13:55:INFO:__main__:================================================================= QID: 53 =================================================================
2024-11-08 15:13:57:INFO:utils.rag_processor.query_processor:query分詞結果: 變動/綜合/長榮/總額/變動表/綜合損益/新台幣/歸屬於/季/元/仟/屬於/歸屬/2022/權益/業主/損益/合併/母公司/本期/多少
2024-11-08 15:13:57:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:13:57:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 145, Chunk 1, Score: 28.3089, Term Importance: 11.5949, Semantic Similarity: 0.9966, Query Coverage: 1.4765, Position Score: 0.0076, Term Density: 0.8468, Context Similarity: 11.9013, Frequency: [('損益', 13), ('綜合', 8), ('權益', 5), ('綜合損益', 4), ('合併', 3), ('總額', 3), ('本期', 2), ('歸屬', 2), ('屬於', 2), ('歸屬於', 2)]
2024-11-08 15:13:57:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 351, Chunk 0, Score: 27.2230, Term Importance: 9.1432, Semantic Similarity: 0.9960, Query Coverage: 1.7268, Position Score: 0.0054, Term Density: 1.1541, Context Similarity: 11.1913, Frequency: [('權益', 9), ('變動', 7), ('損益', 6), ('本期', 6), ('綜合', 5), ('綜合損益', 4), ('合併', 3), ('總額', 3), ('長榮', 1), ('變動表', 1)]
2024-11-08 15:13:57:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 145, Chunk 0, Score: 9.9269, Term Importance: 2.4410, Semantic Similarity: 0.9936, Query Coverage: 0.6812, Position Score: 0.0060, Term Density: 0.2864, Context Similarity: 4.7284, Frequency: [('損益', 2), ('長榮', 1), ('合併', 1), ('綜合', 1), ('新台幣', 1), ('仟', 1), ('元', 1), ('權益', 1), ('本期', 1)]
2024-11-08 15:13:57:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 344, Chunk 4, Score: 6.1041, Term Importance: 0.4495, Semantic Similarity: 0.9946, Query Coverage: 0.2453, Position Score: 0.0224, Term Density: 0.1589, Context Similarity: 6.1730, Frequency: [('長榮', 3), ('合併', 2), ('總額', 1), ('元', 1)]
2024-11-08 15:13:57:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 694, Chunk 0, Score: 4.6335, Term Importance: 0.1385, Semantic Similarity: 0.9935, Query Coverage: 0.1824, Position Score: 0.0159, Term Density: 0.1824, Context Similarity: 9.2129, Frequency: [('合併', 4), ('變動', 1), ('權益', 1)]
2024-11-08 15:13:59:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:59:INFO:utils.RAGProcessor:FAISS Score: [0.5112], PDF: 145, Chunk: 1, metadata: [{}]
2024-11-08 15:13:59:INFO:utils.RAGProcessor:FAISS Score: [0.5685], PDF: 351, Chunk: 0, metadata: [{}]
2024-11-08 15:13:59:INFO:utils.RAGProcessor:FAISS Score: [0.5717], PDF: 145, Chunk: 0, metadata: [{}]
2024-11-08 15:13:59:INFO:utils.RAGProcessor:FAISS Score: [0.7921], PDF: 344, Chunk: 4, metadata: [{}]
2024-11-08 15:13:59:INFO:utils.RAGProcessor:FAISS Score: [0.8499], PDF: 694, Chunk: 2, metadata: [{}]
2024-11-08 15:13:59:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:13:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 145, Chunk 1: Final Score=0.8532, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=0.8379, Position=0.1306, Density=0.6912, Context=1.0000
2024-11-08 15:13:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 351, Chunk 0: Final Score=0.8250, BM25=0.9541, FAISS=0.8309, Importance=0.7860, Semantic=0.8091, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=0.9010
2024-11-08 15:13:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 145, Chunk 0: Final Score=0.3512, BM25=0.2236, FAISS=0.8214, Importance=0.2010, Semantic=0.0466, Coverage=0.3229, Position=0.0351, Density=0.1281, Context=0.0000
2024-11-08 15:13:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 344, Chunk 4: Final Score=0.2012, BM25=0.0621, FAISS=0.1704, Importance=0.0271, Semantic=0.3533, Coverage=0.0408, Position=1.0000, Density=0.0000, Context=0.2014
2024-11-08 15:13:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 694, Chunk 0: Final Score=0.0929, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.6179, Density=0.0236, Context=0.6252
2024-11-08 15:13:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 694, Chunk 2: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:13:59:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:13:59:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:13:59:INFO:utils.RAGProcessor:Query Features - Length: 21, Diversity: 0.95
2024-11-08 15:13:59:INFO:__main__:================================================================= QID: 54 =================================================================
2024-11-08 15:14:00:INFO:utils.rag_processor.query_processor:query分詞結果: 2022/亞德客/KY/金流/亞德/現金流/現金/現金流出/淨/流出/投資/季/活動/多少
2024-11-08 15:14:00:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:14:00:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 612, Chunk 1, Score: 12.4727, Term Importance: 3.9771, Semantic Similarity: 0.9901, Query Coverage: 0.9005, Position Score: 0.0131, Term Density: 0.8533, Context Similarity: 9.9441, Frequency: [('現金', 12), ('活動', 4), ('金流', 4), ('現金流', 4), ('投資', 2), ('淨', 1)]
2024-11-08 15:14:00:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 612, Chunk 0, Score: 9.6109, Term Importance: 2.9721, Semantic Similarity: 0.9881, Query Coverage: 0.7696, Position Score: 0.0087, Term Density: 0.3819, Context Similarity: 2.7635, Frequency: [('現金', 3), ('金流', 3), ('現金流', 3), ('活動', 2), ('亞德', 1), ('亞德客', 1)]
2024-11-08 15:14:00:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 969, Chunk 0, Score: 7.0369, Term Importance: 0.2691, Semantic Similarity: 0.9866, Query Coverage: 0.5921, Position Score: 0.0317, Term Density: 0.3137, Context Similarity: 0.7551, Frequency: [('亞德', 2), ('亞德客', 2), ('現金', 1), ('金流', 1), ('現金流', 1)]
2024-11-08 15:14:00:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 969, Chunk 1, Score: 6.1779, Term Importance: 0.0413, Semantic Similarity: 0.9877, Query Coverage: 0.5921, Position Score: 0.0419, Term Density: 0.2576, Context Similarity: 0.7631, Frequency: [('亞德', 1), ('亞德客', 1), ('現金', 1), ('金流', 1), ('現金流', 1)]
2024-11-08 15:14:00:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 520, Chunk 0, Score: 4.5355, Term Importance: 7.3911, Semantic Similarity: 0.9868, Query Coverage: 0.3521, Position Score: 0.0206, Term Density: 0.2464, Context Similarity: 0.9457, Frequency: [('亞德', 3), ('亞德客', 3), ('投資', 1)]
2024-11-08 15:14:01:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:01:INFO:utils.RAGProcessor:FAISS Score: [0.7410], PDF: 612, Chunk: 0, metadata: [{}]
2024-11-08 15:14:01:INFO:utils.RAGProcessor:FAISS Score: [0.9442], PDF: 520, Chunk: 0, metadata: [{}]
2024-11-08 15:14:01:INFO:utils.RAGProcessor:FAISS Score: [0.9442], PDF: 520, Chunk: 0, metadata: [{}]
2024-11-08 15:14:01:INFO:utils.RAGProcessor:FAISS Score: [0.9557], PDF: 612, Chunk: 1, metadata: [{}]
2024-11-08 15:14:01:INFO:utils.RAGProcessor:FAISS Score: [1.0650], PDF: 969, Chunk: 0, metadata: [{}]
2024-11-08 15:14:01:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:14:01:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 612, Chunk 1: Final Score=0.7256, BM25=1.0000, FAISS=0.3374, Importance=0.5355, Semantic=1.0000, Coverage=1.0000, Position=0.1341, Density=1.0000, Context=1.0000
2024-11-08 15:14:01:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 612, Chunk 0: Final Score=0.5997, BM25=0.6394, FAISS=1.0000, Importance=0.3988, Semantic=0.4307, Coverage=0.7613, Position=0.0000, Density=0.2231, Context=0.2186
2024-11-08 15:14:01:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 969, Chunk 1: Final Score=0.2209, BM25=0.2069, FAISS=0.0000, Importance=0.0000, Semantic=0.3099, Coverage=0.4377, Position=1.0000, Density=0.0184, Context=0.0009
2024-11-08 15:14:01:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 969, Chunk 0: Final Score=0.2058, BM25=0.3151, FAISS=0.0000, Importance=0.0310, Semantic=0.0000, Coverage=0.4377, Position=0.6925, Density=0.1109, Context=0.0000
2024-11-08 15:14:01:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 520, Chunk 0: Final Score=0.1469, BM25=0.0000, FAISS=0.3729, Importance=1.0000, Semantic=0.0481, Coverage=0.0000, Position=0.3601, Density=0.0000, Context=0.0207
2024-11-08 15:14:01:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:01:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:14:01:INFO:utils.RAGProcessor:Query Features - Length: 14, Diversity: 0.93
2024-11-08 15:14:01:INFO:__main__:================================================================= QID: 55 =================================================================
2024-11-08 15:14:01:INFO:utils.rag_processor.query_processor:query分詞結果: 2022/信用狀/進口/信用/機器/子公司/開立/機器設備/設備/使用/季/億元/聯電/多少
2024-11-08 15:14:01:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:14:01:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 166, Chunk 0, Score: 10.1419, Term Importance: 1.0227, Semantic Similarity: 0.9927, Query Coverage: 0.9129, Position Score: 0.0293, Term Density: 0.6390, Context Similarity: 6.0333, Frequency: [('子公司', 6), ('億元', 6), ('開立', 2), ('進口', 1), ('機器', 1), ('設備', 1), ('機器設備', 1), ('使用', 1), ('信用', 1), ('信用狀', 1)]
2024-11-08 15:14:01:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 116, Chunk 0, Score: 5.4192, Term Importance: 0.1508, Semantic Similarity: 0.9901, Query Coverage: 0.5457, Position Score: 0.0090, Term Density: 0.1877, Context Similarity: 4.5003, Frequency: [('設備', 3), ('子公司', 2), ('信用', 2), ('信用狀', 2), ('機器', 1), ('機器設備', 1), ('使用', 1)]
2024-11-08 15:14:01:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 166, Chunk 2, Score: 1.5305, Term Importance: 0.2588, Semantic Similarity: 0.9927, Query Coverage: 0.0796, Position Score: 0.0361, Term Density: 0.1048, Context Similarity: 8.5715, Frequency: [('億元', 5), ('子公司', 3)]
2024-11-08 15:14:01:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 635, Chunk 0, Score: 1.3029, Term Importance: 0.0376, Semantic Similarity: 0.9921, Query Coverage: 0.1497, Position Score: 0.0051, Term Density: 0.0981, Context Similarity: 2.5622, Frequency: [('設備', 2), ('子公司', 1), ('使用', 1)]
2024-11-08 15:14:01:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 166, Chunk 1, Score: 1.2401, Term Importance: 0.0205, Semantic Similarity: 0.9925, Query Coverage: 0.0796, Position Score: 0.0595, Term Density: 0.0490, Context Similarity: 1.5116, Frequency: [('子公司', 1), ('億元', 1)]
2024-11-08 15:14:02:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:02:INFO:utils.RAGProcessor:FAISS Score: [0.7165], PDF: 166, Chunk: 0, metadata: [{}]
2024-11-08 15:14:02:INFO:utils.RAGProcessor:FAISS Score: [0.7805], PDF: 1019, Chunk: 0, metadata: [{}]
2024-11-08 15:14:02:INFO:utils.RAGProcessor:FAISS Score: [0.8015], PDF: 635, Chunk: 0, metadata: [{}]
2024-11-08 15:14:02:INFO:utils.RAGProcessor:FAISS Score: [0.8376], PDF: 116, Chunk: 0, metadata: [{}]
2024-11-08 15:14:02:INFO:utils.RAGProcessor:FAISS Score: [0.8990], PDF: 166, Chunk: 2, metadata: [{}]
2024-11-08 15:14:02:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:14:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 166, Chunk 0: Final Score=0.9293, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.4445, Density=1.0000, Context=0.6405
2024-11-08 15:14:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 116, Chunk 0: Final Score=0.3312, BM25=0.4695, FAISS=0.3367, Importance=0.1300, Semantic=0.0000, Coverage=0.5594, Position=0.0722, Density=0.2350, Context=0.4233
2024-11-08 15:14:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 635, Chunk 0: Final Score=0.2448, BM25=0.0071, FAISS=0.5340, Importance=0.0170, Semantic=0.7844, Coverage=0.0841, Position=0.0000, Density=0.0831, Context=0.1488
2024-11-08 15:14:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 166, Chunk 2: Final Score=0.2006, BM25=0.0326, FAISS=0.0000, Importance=0.2378, Semantic=0.9951, Coverage=0.0000, Position=0.5707, Density=0.0944, Context=1.0000
2024-11-08 15:14:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 1019, Chunk 0: Final Score=0.1873, BM25=0.0000, FAISS=0.6493, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 166, Chunk 1: Final Score=0.1676, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.9288, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:02:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:02:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:14:02:INFO:utils.RAGProcessor:Query Features - Length: 14, Diversity: 0.93
2024-11-08 15:14:02:INFO:__main__:================================================================= QID: 56 =================================================================
2024-11-08 15:14:02:INFO:utils.rag_processor.query_processor:query分詞結果: 2022/關聯/第三/企業/多少/關聯企業/相關/銷貨收入/收入/第三季/關係/銷貨/交易/關係人/國巨
2024-11-08 15:14:02:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:14:02:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 171, Chunk 1, Score: 9.1326, Term Importance: 38.4907, Semantic Similarity: 0.9914, Query Coverage: 0.8270, Position Score: 0.0133, Term Density: 0.7242, Context Similarity: 17.8703, Frequency: [('關聯', 16), ('企業', 16), ('關聯企業', 16), ('關係', 14), ('關係人', 12), ('國巨', 2), ('收入', 2), ('銷貨', 1), ('銷貨收入', 1)]
2024-11-08 15:14:02:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 171, Chunk 0, Score: 1.5639, Term Importance: 3.1901, Semantic Similarity: 0.9906, Query Coverage: 0.1562, Position Score: 0.0775, Term Density: 0.2343, Context Similarity: 6.7830, Frequency: [('關係', 3), ('交易', 3), ('關係人', 2)]
2024-11-08 15:14:02:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 1003, Chunk 0, Score: 0.8898, Term Importance: 0.5373, Semantic Similarity: 0.9921, Query Coverage: 0.0951, Position Score: 0.0167, Term Density: 0.0458, Context Similarity: 4.8803, Frequency: [('交易', 2), ('收入', 1)]
2024-11-08 15:14:02:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 760, Chunk 1, Score: 0.8754, Term Importance: 0.0391, Semantic Similarity: 0.9899, Query Coverage: 0.0951, Position Score: 0.0179, Term Density: 0.0511, Context Similarity: 4.0108, Frequency: [('交易', 2), ('相關', 1)]
2024-11-08 15:14:02:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 760, Chunk 0, Score: 0.4477, Term Importance: 0.5520, Semantic Similarity: 0.9889, Query Coverage: 0.0611, Position Score: 0.0173, Term Density: 0.0458, Context Similarity: 7.9652, Frequency: [('相關', 4)]
2024-11-08 15:14:02:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:02:INFO:utils.RAGProcessor:FAISS Score: [0.7862], PDF: 171, Chunk: 1, metadata: [{}]
2024-11-08 15:14:02:INFO:utils.RAGProcessor:FAISS Score: [0.9647], PDF: 171, Chunk: 0, metadata: [{}]
2024-11-08 15:14:02:INFO:utils.RAGProcessor:FAISS Score: [1.0666], PDF: 760, Chunk: 1, metadata: [{}]
2024-11-08 15:14:02:INFO:utils.RAGProcessor:FAISS Score: [1.1509], PDF: 760, Chunk: 0, metadata: [{}]
2024-11-08 15:14:02:INFO:utils.RAGProcessor:FAISS Score: [1.1657], PDF: 1003, Chunk: 0, metadata: [{}]
2024-11-08 15:14:02:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:14:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 171, Chunk 1: Final Score=0.8870, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.7815, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:14:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 171, Chunk 0: Final Score=0.3842, BM25=0.1285, FAISS=0.5297, Importance=0.0819, Semantic=0.5401, Coverage=0.1242, Position=1.0000, Density=0.2779, Context=0.2000
2024-11-08 15:14:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 760, Chunk 1: Final Score=0.1231, BM25=0.0492, FAISS=0.2610, Importance=0.0000, Semantic=0.3020, Coverage=0.0445, Position=0.0723, Density=0.0078, Context=0.0000
2024-11-08 15:14:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 1003, Chunk 0: Final Score=0.1020, BM25=0.0509, FAISS=0.0000, Importance=0.0130, Semantic=1.0000, Coverage=0.0445, Position=0.0538, Density=0.0000, Context=0.0627
2024-11-08 15:14:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 760, Chunk 0: Final Score=0.0310, BM25=0.0000, FAISS=0.0389, Importance=0.0133, Semantic=0.0000, Coverage=0.0000, Position=0.0633, Density=0.0000, Context=0.2853
2024-11-08 15:14:02:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:02:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:14:02:INFO:utils.RAGProcessor:Query Features - Length: 15, Diversity: 0.94
2024-11-08 15:14:02:INFO:__main__:================================================================= QID: 57 =================================================================
2024-11-08 15:14:04:INFO:utils.rag_processor.query_processor:query分詞結果: 截至/進出/保證/函予/多少/出口/海關/進出口/智邦/出具/貨物/銀行/金額/季/2023
2024-11-08 15:14:04:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:14:04:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 668, Chunk 0, Score: 34.1564, Term Importance: 5.6582, Semantic Similarity: 0.9953, Query Coverage: 2.0917, Position Score: 0.0500, Term Density: 1.6237, Context Similarity: 7.0081, Frequency: [('金額', 4), ('海關', 3), ('截至', 2), ('智邦', 2), ('進出', 2), ('出口', 2), ('進出口', 2), ('貨物', 2), ('銀行', 2), ('出具', 2)]
2024-11-08 15:14:04:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 960, Chunk 2, Score: 5.4301, Term Importance: 0.2662, Semantic Similarity: 0.9863, Query Coverage: 0.3505, Position Score: 0.0264, Term Density: 0.4767, Context Similarity: 2.1304, Frequency: [('2023', 3), ('截至', 1)]
2024-11-08 15:14:04:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 796, Chunk 0, Score: 3.1492, Term Importance: 1.9283, Semantic Similarity: 0.9900, Query Coverage: 0.3043, Position Score: 0.0039, Term Density: 0.5375, Context Similarity: 12.2520, Frequency: [('金額', 6), ('保證', 2), ('智邦', 1)]
2024-11-08 15:14:04:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 919, Chunk 1, Score: 2.8559, Term Importance: 0.2553, Semantic Similarity: 0.9893, Query Coverage: 0.1657, Position Score: 0.0296, Term Density: 0.1242, Context Similarity: 6.9065, Frequency: [('銀行', 3)]
2024-11-08 15:14:04:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 960, Chunk 0, Score: 2.2125, Term Importance: 5.3237, Semantic Similarity: 0.9867, Query Coverage: 0.1848, Position Score: 0.0188, Term Density: 0.1877, Context Similarity: 1.8590, Frequency: [('智邦', 5), ('金額', 1)]
2024-11-08 15:14:07:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:07:INFO:utils.RAGProcessor:FAISS Score: [0.6542], PDF: 668, Chunk: 0, metadata: [{}]
2024-11-08 15:14:07:INFO:utils.RAGProcessor:FAISS Score: [0.7982], PDF: 887, Chunk: 0, metadata: [{}]
2024-11-08 15:14:07:INFO:utils.RAGProcessor:FAISS Score: [0.8476], PDF: 796, Chunk: 0, metadata: [{}]
2024-11-08 15:14:07:INFO:utils.RAGProcessor:FAISS Score: [0.8983], PDF: 642, Chunk: 0, metadata: [{}]
2024-11-08 15:14:07:INFO:utils.RAGProcessor:FAISS Score: [0.9521], PDF: 578, Chunk: 2, metadata: [{}]
2024-11-08 15:14:07:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:14:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 668, Chunk 0: Final Score=0.9757, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=0.4954
2024-11-08 15:14:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 796, Chunk 0: Final Score=0.2353, BM25=0.0293, FAISS=0.3506, Importance=0.3096, Semantic=0.4063, Coverage=0.0720, Position=0.0000, Density=0.2756, Context=1.0000
2024-11-08 15:14:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 887, Chunk 0: Final Score=0.1490, BM25=0.0000, FAISS=0.5167, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 960, Chunk 2: Final Score=0.1164, BM25=0.1007, FAISS=0.0000, Importance=0.0020, Semantic=0.0000, Coverage=0.0960, Position=0.4878, Density=0.2351, Context=0.0261
2024-11-08 15:14:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 919, Chunk 1: Final Score=0.1068, BM25=0.0201, FAISS=0.0000, Importance=0.0000, Semantic=0.3262, Coverage=0.0000, Position=0.5590, Density=0.0000, Context=0.4857
2024-11-08 15:14:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 642, Chunk 0: Final Score=0.0520, BM25=0.0000, FAISS=0.1804, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 960, Chunk 0: Final Score=0.0416, BM25=0.0000, FAISS=0.0000, Importance=0.9381, Semantic=0.0416, Coverage=0.0100, Position=0.3236, Density=0.0423, Context=0.0000
2024-11-08 15:14:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 578, Chunk 2: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:07:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:07:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:14:07:INFO:utils.RAGProcessor:Query Features - Length: 15, Diversity: 0.94
2024-11-08 15:14:07:INFO:__main__:================================================================= QID: 58 =================================================================
2024-11-08 15:14:08:INFO:utils.rag_processor.query_processor:query分詞結果: 總額/權益/多少/合併/季/聯電/2023
2024-11-08 15:14:08:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:14:08:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 209, Chunk 0, Score: 3.5315, Term Importance: 4.3166, Semantic Similarity: 0.9903, Query Coverage: 0.6550, Position Score: 0.0043, Term Density: 0.2572, Context Similarity: 20.3163, Frequency: [('權益', 13), ('總額', 3), ('合併', 2)]
2024-11-08 15:14:08:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 256, Chunk 1, Score: 1.1350, Term Importance: 0.0899, Semantic Similarity: 0.9878, Query Coverage: 0.1790, Position Score: 0.0724, Term Density: 0.1253, Context Similarity: 6.0560, Frequency: [('權益', 3)]
2024-11-08 15:14:08:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 256, Chunk 2, Score: 1.1314, Term Importance: 0.4187, Semantic Similarity: 0.9892, Query Coverage: 0.1790, Position Score: 0.0762, Term Density: 0.1253, Context Similarity: 7.3617, Frequency: [('權益', 3)]
2024-11-08 15:14:08:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 112, Chunk 0, Score: 0.9251, Term Importance: 0.1489, Semantic Similarity: 0.9877, Query Coverage: 0.2780, Position Score: 0.0141, Term Density: 0.0626, Context Similarity: 4.2978, Frequency: [('權益', 2), ('合併', 1)]
2024-11-08 15:14:08:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 328, Chunk 0, Score: 0.0000, Term Importance: 0.1155, Semantic Similarity: 0.9900, Query Coverage: 0.0990, Position Score: 0.9708, Term Density: 0.0347, Context Similarity: 2.2590, Frequency: [('合併', 1)]
2024-11-08 15:14:09:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:09:INFO:utils.RAGProcessor:FAISS Score: [0.8787], PDF: 328, Chunk: 0, metadata: [{}]
2024-11-08 15:14:09:INFO:utils.RAGProcessor:FAISS Score: [0.9093], PDF: 112, Chunk: 0, metadata: [{}]
2024-11-08 15:14:09:INFO:utils.RAGProcessor:FAISS Score: [0.9164], PDF: 209, Chunk: 0, metadata: [{}]
2024-11-08 15:14:09:INFO:utils.RAGProcessor:FAISS Score: [1.0146], PDF: 256, Chunk: 0, metadata: [{}]
2024-11-08 15:14:09:INFO:utils.RAGProcessor:FAISS Score: [1.0247], PDF: 256, Chunk: 2, metadata: [{}]
2024-11-08 15:14:09:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:14:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 209, Chunk 0: Final Score=0.8293, BM25=1.0000, FAISS=0.7417, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:14:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 328, Chunk 0: Final Score=0.4520, BM25=0.0000, FAISS=1.0000, Importance=0.0061, Semantic=0.8761, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 112, Chunk 0: Final Score=0.3501, BM25=0.2620, FAISS=0.7902, Importance=0.0140, Semantic=0.0000, Coverage=0.3219, Position=0.0102, Density=0.1257, Context=0.1129
2024-11-08 15:14:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 256, Chunk 2: Final Score=0.2147, BM25=0.3204, FAISS=0.0000, Importance=0.0778, Semantic=0.5812, Coverage=0.1438, Position=0.0744, Density=0.4071, Context=0.2826
2024-11-08 15:14:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 256, Chunk 1: Final Score=0.1705, BM25=0.3214, FAISS=0.0000, Importance=0.0000, Semantic=0.0541, Coverage=0.1438, Position=0.0704, Density=0.4071, Context=0.2103
2024-11-08 15:14:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 256, Chunk 0: Final Score=0.0200, BM25=0.0000, FAISS=0.0693, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:09:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:09:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:14:09:INFO:utils.RAGProcessor:Query Features - Length: 7, Diversity: 0.88
2024-11-08 15:14:09:INFO:__main__:================================================================= QID: 59 =================================================================
2024-11-08 15:14:11:INFO:utils.rag_processor.query_processor:query分詞結果: 總額/綜合損益/多少/損益/綜合/其他/本期/季/台化/2023
2024-11-08 15:14:11:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:14:11:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 632, Chunk 0, Score: 8.4244, Term Importance: 1.6761, Semantic Similarity: 0.9886, Query Coverage: 0.9386, Position Score: 0.0096, Term Density: 0.5319, Context Similarity: 16.0831, Frequency: [('損益', 7), ('綜合', 6), ('本期', 6), ('其他', 5), ('綜合損益', 5), ('總額', 3)]
2024-11-08 15:14:11:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 639, Chunk 11, Score: 8.1558, Term Importance: 5.8349, Semantic Similarity: 0.9873, Query Coverage: 0.9386, Position Score: 0.0311, Term Density: 0.6351, Context Similarity: 4.6281, Frequency: [('綜合', 3), ('損益', 3), ('本期', 3), ('綜合損益', 2), ('其他', 1), ('總額', 1)]
2024-11-08 15:14:11:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 639, Chunk 2, Score: 4.1156, Term Importance: 0.3005, Semantic Similarity: 0.9835, Query Coverage: 0.5360, Position Score: 0.0287, Term Density: 0.4329, Context Similarity: 8.1172, Frequency: [('損益', 5), ('綜合', 2), ('綜合損益', 2), ('總額', 1)]
2024-11-08 15:14:11:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 639, Chunk 5, Score: 3.8977, Term Importance: 7.2942, Semantic Similarity: 0.9826, Query Coverage: 0.2909, Position Score: 0.0169, Term Density: 0.4363, Context Similarity: 0.0000, Frequency: [('台化', 14)]
2024-11-08 15:14:11:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 639, Chunk 4, Score: 3.8575, Term Importance: 2.8098, Semantic Similarity: 0.9822, Query Coverage: 0.2909, Position Score: 0.0503, Term Density: 0.5817, Context Similarity: 0.0000, Frequency: [('台化', 7)]
2024-11-08 15:14:14:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:14:INFO:utils.RAGProcessor:FAISS Score: [0.8154], PDF: 632, Chunk: 0, metadata: [{}]
2024-11-08 15:14:14:INFO:utils.RAGProcessor:FAISS Score: [0.9088], PDF: 771, Chunk: 2, metadata: [{}]
2024-11-08 15:14:14:INFO:utils.RAGProcessor:FAISS Score: [0.9422], PDF: 148, Chunk: 8, metadata: [{}]
2024-11-08 15:14:14:INFO:utils.RAGProcessor:FAISS Score: [0.9494], PDF: 639, Chunk: 4, metadata: [{}]
2024-11-08 15:14:14:INFO:utils.RAGProcessor:FAISS Score: [0.9648], PDF: 639, Chunk: 11, metadata: [{}]
2024-11-08 15:14:14:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:14:14:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 632, Chunk 0: Final Score=0.8302, BM25=1.0000, FAISS=1.0000, Importance=0.1967, Semantic=1.0000, Coverage=1.0000, Position=0.0000, Density=0.4896, Context=1.0000
2024-11-08 15:14:14:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 639, Chunk 11: Final Score=0.6025, BM25=0.9412, FAISS=0.0000, Importance=0.7913, Semantic=0.7929, Coverage=1.0000, Position=0.5291, Density=1.0000, Context=0.2878
2024-11-08 15:14:14:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 639, Chunk 4: Final Score=0.2322, BM25=0.0000, FAISS=0.1036, Importance=0.3588, Semantic=0.0000, Coverage=0.0000, Position=1.0000, Density=0.7359, Context=0.0000
2024-11-08 15:14:14:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 639, Chunk 2: Final Score=0.1420, BM25=0.0565, FAISS=0.0000, Importance=0.0000, Semantic=0.2065, Coverage=0.3785, Position=0.4690, Density=0.0000, Context=0.5047
2024-11-08 15:14:14:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 771, Chunk 2: Final Score=0.1082, BM25=0.0000, FAISS=0.3751, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:14:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 148, Chunk 8: Final Score=0.0437, BM25=0.0000, FAISS=0.1513, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:14:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 639, Chunk 5: Final Score=0.0264, BM25=0.0088, FAISS=0.0000, Importance=1.0000, Semantic=0.0611, Coverage=0.0000, Position=0.1801, Density=0.0166, Context=0.0000
2024-11-08 15:14:14:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:14:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:14:14:INFO:utils.RAGProcessor:Query Features - Length: 10, Diversity: 0.91
2024-11-08 15:14:14:INFO:__main__:================================================================= QID: 60 =================================================================
2024-11-08 15:14:15:INFO:utils.rag_processor.query_processor:query分詞結果: 發生/支出/研華/第三/資本支出/多少/資本/季為/工程/尚未/興建/園區/第三期/簽約/三期/總計/2023/林口
2024-11-08 15:14:15:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:14:15:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 726, Chunk 0, Score: 35.6349, Term Importance: 1.4839, Semantic Similarity: 0.9961, Query Coverage: 2.1655, Position Score: 0.0181, Term Density: 1.9489, Context Similarity: 5.1379, Frequency: [('工程', 3), ('興建', 2), ('林口', 2), ('園區', 2), ('第三', 1), ('三期', 1), ('第三期', 1), ('簽約', 1), ('尚未', 1), ('發生', 1)]
2024-11-08 15:14:15:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 726, Chunk 1, Score: 5.8637, Term Importance: 0.5539, Semantic Similarity: 0.9936, Query Coverage: 0.3045, Position Score: 0.1498, Term Density: 0.4111, Context Similarity: 5.4982, Frequency: [('工程', 2), ('興建', 1)]
2024-11-08 15:14:15:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 916, Chunk 1, Score: 5.7650, Term Importance: 1.5850, Semantic Similarity: 0.9925, Query Coverage: 0.3872, Position Score: 0.0065, Term Density: 0.2741, Context Similarity: 3.0267, Frequency: [('總計', 3), ('資本', 2), ('研華', 1)]
2024-11-08 15:14:15:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 415, Chunk 0, Score: 5.6621, Term Importance: 4.9013, Semantic Similarity: 0.9920, Query Coverage: 0.3422, Position Score: 0.0209, Term Density: 0.1912, Context Similarity: 2.4877, Frequency: [('研華', 3), ('第三', 1), ('園區', 1)]
2024-11-08 15:14:15:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 415, Chunk 0, Score: 5.6621, Term Importance: 4.9013, Semantic Similarity: 0.9920, Query Coverage: 0.3422, Position Score: 0.0209, Term Density: 0.1912, Context Similarity: 2.4877, Frequency: [('研華', 3), ('第三', 1), ('園區', 1)]
2024-11-08 15:14:17:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:17:INFO:utils.RAGProcessor:FAISS Score: [0.6913], PDF: 726, Chunk: 0, metadata: [{}]
2024-11-08 15:14:17:INFO:utils.RAGProcessor:FAISS Score: [0.7331], PDF: 726, Chunk: 1, metadata: [{}]
2024-11-08 15:14:17:INFO:utils.RAGProcessor:FAISS Score: [0.7736], PDF: 916, Chunk: 0, metadata: [{}]
2024-11-08 15:14:17:INFO:utils.RAGProcessor:FAISS Score: [0.7914], PDF: 916, Chunk: 1, metadata: [{}]
2024-11-08 15:14:17:INFO:utils.RAGProcessor:FAISS Score: [0.9085], PDF: 864, Chunk: 6, metadata: [{}]
2024-11-08 15:14:17:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:14:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 726, Chunk 0: Final Score=0.9059, BM25=1.0000, FAISS=1.0000, Importance=0.2139, Semantic=1.0000, Coverage=1.0000, Position=0.0815, Density=1.0000, Context=0.8803
2024-11-08 15:14:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 726, Chunk 1: Final Score=0.4270, BM25=0.0067, FAISS=0.8077, Importance=0.0000, Semantic=0.3925, Coverage=0.0000, Position=1.0000, Density=0.1251, Context=1.0000
2024-11-08 15:14:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 916, Chunk 1: Final Score=0.1852, BM25=0.0034, FAISS=0.5391, Importance=0.2372, Semantic=0.1093, Coverage=0.0444, Position=0.0000, Density=0.0472, Context=0.1791
2024-11-08 15:14:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 916, Chunk 0: Final Score=0.1792, BM25=0.0000, FAISS=0.6213, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 415, Chunk 0: Final Score=0.0120, BM25=0.0000, FAISS=0.0000, Importance=1.0000, Semantic=0.0000, Coverage=0.0202, Position=0.1007, Density=0.0000, Context=0.0000
2024-11-08 15:14:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 864, Chunk 6: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:17:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:17:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:14:17:INFO:utils.RAGProcessor:Query Features - Length: 18, Diversity: 0.95
2024-11-08 15:14:17:INFO:__main__:================================================================= QID: 61 =================================================================
2024-11-08 15:14:19:INFO:utils.rag_processor.query_processor:query分詞結果: 多少/季度/集團/鴻海/帳面/存貨/金額/2023/帳面金額
2024-11-08 15:14:19:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:14:19:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 900, Chunk 3, Score: 8.6894, Term Importance: 1.7067, Semantic Similarity: 0.9861, Query Coverage: 0.8285, Position Score: 0.0192, Term Density: 0.3728, Context Similarity: 7.4103, Frequency: [('集團', 4), ('存貨', 3), ('金額', 2), ('帳面', 1), ('帳面金額', 1)]
2024-11-08 15:14:19:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 900, Chunk 1, Score: 8.2964, Term Importance: 3.2737, Semantic Similarity: 0.9820, Query Coverage: 0.8285, Position Score: 0.0139, Term Density: 0.2395, Context Similarity: 8.8961, Frequency: [('集團', 5), ('金額', 3), ('存貨', 2), ('帳面', 1), ('帳面金額', 1)]
2024-11-08 15:14:19:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 359, Chunk 30, Score: 5.9042, Term Importance: 0.3585, Semantic Similarity: 0.9836, Query Coverage: 0.5321, Position Score: 0.0487, Term Density: 0.4297, Context Similarity: 5.7469, Frequency: [('集團', 2), ('帳面', 2), ('金額', 2), ('帳面金額', 2)]
2024-11-08 15:14:19:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 900, Chunk 2, Score: 5.7699, Term Importance: 1.3797, Semantic Similarity: 0.9828, Query Coverage: 0.3511, Position Score: 0.0541, Term Density: 0.2913, Context Similarity: 9.8628, Frequency: [('存貨', 4), ('集團', 3)]
2024-11-08 15:14:19:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 359, Chunk 33, Score: 5.5130, Term Importance: 0.3910, Semantic Similarity: 0.9823, Query Coverage: 0.5321, Position Score: 0.0298, Term Density: 0.4297, Context Similarity: 11.9876, Frequency: [('金額', 7), ('帳面', 4), ('帳面金額', 2), ('集團', 1)]
2024-11-08 15:14:22:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:22:INFO:utils.RAGProcessor:FAISS Score: [0.7824], PDF: 870, Chunk: 0, metadata: [{}]
2024-11-08 15:14:22:INFO:utils.RAGProcessor:FAISS Score: [0.7907], PDF: 900, Chunk: 3, metadata: [{}]
2024-11-08 15:14:22:INFO:utils.RAGProcessor:FAISS Score: [0.7992], PDF: 41, Chunk: 0, metadata: [{}]
2024-11-08 15:14:22:INFO:utils.RAGProcessor:FAISS Score: [0.8065], PDF: 41, Chunk: 1, metadata: [{}]
2024-11-08 15:14:22:INFO:utils.RAGProcessor:FAISS Score: [0.9035], PDF: 70, Chunk: 0, metadata: [{}]
2024-11-08 15:14:22:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:14:22:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 900, Chunk 3: Final Score=0.8184, BM25=1.0000, FAISS=0.9317, Importance=0.4625, Semantic=1.0000, Coverage=1.0000, Position=0.1316, Density=0.7012, Context=0.2665
2024-11-08 15:14:22:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 900, Chunk 1: Final Score=0.3419, BM25=0.8763, FAISS=0.0000, Importance=1.0000, Semantic=0.0000, Coverage=1.0000, Position=0.0000, Density=0.0000, Context=0.5046
2024-11-08 15:14:22:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 359, Chunk 30: Final Score=0.3291, BM25=0.1232, FAISS=0.0000, Importance=0.0000, Semantic=0.3842, Coverage=0.3792, Position=0.8651, Density=1.0000, Context=0.0000
2024-11-08 15:14:22:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 870, Chunk 0: Final Score=0.2885, BM25=0.0000, FAISS=1.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:22:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 359, Chunk 33: Final Score=0.2808, BM25=0.0000, FAISS=0.0000, Importance=0.0111, Semantic=0.0873, Coverage=0.3792, Position=0.3952, Density=1.0000, Context=1.0000
2024-11-08 15:14:22:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 41, Chunk 0: Final Score=0.2486, BM25=0.0000, FAISS=0.8617, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:22:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 41, Chunk 1: Final Score=0.2312, BM25=0.0000, FAISS=0.8014, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:22:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 900, Chunk 2: Final Score=0.2011, BM25=0.0809, FAISS=0.0000, Importance=0.3503, Semantic=0.1979, Coverage=0.0000, Position=1.0000, Density=0.2728, Context=0.6595
2024-11-08 15:14:22:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 70, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:22:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:22:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:14:22:INFO:utils.RAGProcessor:Query Features - Length: 9, Diversity: 0.90
2024-11-08 15:14:22:INFO:__main__:================================================================= QID: 62 =================================================================
2024-11-08 15:14:23:INFO:utils.rag_processor.query_processor:query分詞結果: 2022/發科/現金/季聯/金額/約當現金/多少
2024-11-08 15:14:23:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:14:23:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 591, Chunk 0, Score: 3.0002, Term Importance: 0.0983, Semantic Similarity: 0.9756, Query Coverage: 0.4877, Position Score: 0.0714, Term Density: 0.2374, Context Similarity: 8.6988, Frequency: [('金額', 4), ('現金', 2), ('約當現金', 1)]
2024-11-08 15:14:23:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 56, Chunk 1, Score: 2.1787, Term Importance: 0.3131, Semantic Similarity: 0.9756, Query Coverage: 0.2317, Position Score: 0.0306, Term Density: 0.0811, Context Similarity: 1.2553, Frequency: [('發科', 2), ('金額', 1)]
2024-11-08 15:14:23:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 56, Chunk 0, Score: 2.0929, Term Importance: 0.0214, Semantic Similarity: 0.9730, Query Coverage: 0.2317, Position Score: 0.0191, Term Density: 0.0752, Context Similarity: 1.5391, Frequency: [('金額', 1), ('發科', 1)]
2024-11-08 15:14:23:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 89, Chunk 0, Score: 1.6925, Term Importance: 0.0353, Semantic Similarity: 0.9737, Query Coverage: 0.1738, Position Score: 0.0363, Term Density: 0.0608, Context Similarity: 4.2640, Frequency: [('金額', 2), ('現金', 1)]
2024-11-08 15:14:23:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 721, Chunk 0, Score: 1.2893, Term Importance: 0.0703, Semantic Similarity: 0.9762, Query Coverage: 0.1738, Position Score: 0.0054, Term Density: 0.0549, Context Similarity: 6.5393, Frequency: [('現金', 4), ('金額', 1)]
2024-11-08 15:14:24:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:24:INFO:utils.RAGProcessor:FAISS Score: [0.9170], PDF: 89, Chunk: 1, metadata: [{}]
2024-11-08 15:14:24:INFO:utils.RAGProcessor:FAISS Score: [0.9366], PDF: 89, Chunk: 0, metadata: [{}]
2024-11-08 15:14:24:INFO:utils.RAGProcessor:FAISS Score: [0.9667], PDF: 721, Chunk: 0, metadata: [{}]
2024-11-08 15:14:24:INFO:utils.RAGProcessor:FAISS Score: [0.9703], PDF: 1024, Chunk: 0, metadata: [{}]
2024-11-08 15:14:24:INFO:utils.RAGProcessor:FAISS Score: [1.0088], PDF: 591, Chunk: 0, metadata: [{}]
2024-11-08 15:14:24:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:14:24:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 591, Chunk 0: Final Score=0.6985, BM25=1.0000, FAISS=0.0000, Importance=0.2638, Semantic=0.8311, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=1.0000
2024-11-08 15:14:24:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 89, Chunk 0: Final Score=0.3672, BM25=0.2357, FAISS=0.7872, Importance=0.0479, Semantic=0.2168, Coverage=0.0000, Position=0.4679, Density=0.0323, Context=0.4042
2024-11-08 15:14:24:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 89, Chunk 1: Final Score=0.2885, BM25=0.0000, FAISS=1.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:24:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 56, Chunk 1: Final Score=0.2606, BM25=0.5198, FAISS=0.0000, Importance=1.0000, Semantic=0.8054, Coverage=0.1845, Position=0.3820, Density=0.1434, Context=0.0000
2024-11-08 15:14:24:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 721, Chunk 0: Final Score=0.2432, BM25=0.0000, FAISS=0.4583, Importance=0.1676, Semantic=1.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.7099
2024-11-08 15:14:24:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 56, Chunk 0: Final Score=0.1674, BM25=0.4697, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.1845, Position=0.2068, Density=0.1111, Context=0.0381
2024-11-08 15:14:24:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 1024, Chunk 0: Final Score=0.1209, BM25=0.0000, FAISS=0.4192, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:24:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:24:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:14:24:INFO:utils.RAGProcessor:Query Features - Length: 7, Diversity: 0.88
2024-11-08 15:14:24:INFO:__main__:================================================================= QID: 63 =================================================================
2024-11-08 15:14:25:INFO:utils.rag_processor.query_processor:query分詞結果: 金流/現金流/多少/現金/聯發科/現金流入/之淨/流入/季/活動/2023/營業
2024-11-08 15:14:25:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:14:25:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 306, Chunk 0, Score: 14.3739, Term Importance: 9.1685, Semantic Similarity: 0.9873, Query Coverage: 1.2817, Position Score: 0.0044, Term Density: 1.1535, Context Similarity: 12.5226, Frequency: [('現金', 18), ('金流', 9), ('現金流', 9), ('活動', 7), ('營業', 4), ('之淨', 4), ('流入', 2), ('現金流入', 2)]
2024-11-08 15:14:25:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 284, Chunk 1, Score: 2.0074, Term Importance: 0.0268, Semantic Similarity: 0.9866, Query Coverage: 0.1831, Position Score: 0.6250, Term Density: 0.1099, Context Similarity: 0.0000, Frequency: [('2023', 1)]
2024-11-08 15:14:25:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 284, Chunk 0, Score: 1.8484, Term Importance: 0.0366, Semantic Similarity: 0.9847, Query Coverage: 0.1831, Position Score: 0.8013, Term Density: 0.1099, Context Similarity: 0.0000, Frequency: [('聯發科', 1)]
2024-11-08 15:14:25:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 959, Chunk 0, Score: 1.3876, Term Importance: 0.0333, Semantic Similarity: 0.9887, Query Coverage: 0.1831, Position Score: 0.0365, Term Density: 0.0549, Context Similarity: 3.3101, Frequency: [('營業', 1), ('現金', 1)]
2024-11-08 15:14:25:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 742, Chunk 0, Score: 0.8514, Term Importance: 0.6196, Semantic Similarity: 0.9890, Query Coverage: 0.0916, Position Score: 0.0181, Term Density: 0.1099, Context Similarity: 11.5522, Frequency: [('營業', 8)]
2024-11-08 15:14:26:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:26:INFO:utils.RAGProcessor:FAISS Score: [0.6774], PDF: 306, Chunk: 0, metadata: [{}]
2024-11-08 15:14:26:INFO:utils.RAGProcessor:FAISS Score: [0.7786], PDF: 742, Chunk: 0, metadata: [{}]
2024-11-08 15:14:26:INFO:utils.RAGProcessor:FAISS Score: [0.7952], PDF: 385, Chunk: 0, metadata: [{}]
2024-11-08 15:14:26:INFO:utils.RAGProcessor:FAISS Score: [0.8510], PDF: 959, Chunk: 0, metadata: [{}]
2024-11-08 15:14:26:INFO:utils.RAGProcessor:FAISS Score: [0.9238], PDF: 284, Chunk: 0, metadata: [{}]
2024-11-08 15:14:26:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:14:26:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 306, Chunk 0: Final Score=0.8733, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.6029, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:14:26:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 742, Chunk 0: Final Score=0.3001, BM25=0.0000, FAISS=0.5892, Importance=0.0648, Semantic=1.0000, Coverage=0.0000, Position=0.0171, Density=0.0500, Context=0.9225
2024-11-08 15:14:26:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 959, Chunk 0: Final Score=0.1920, BM25=0.0397, FAISS=0.2955, Importance=0.0007, Semantic=0.9380, Coverage=0.0769, Position=0.0402, Density=0.0000, Context=0.2643
2024-11-08 15:14:26:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 385, Chunk 0: Final Score=0.1505, BM25=0.0000, FAISS=0.5219, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:26:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 284, Chunk 1: Final Score=0.1450, BM25=0.0855, FAISS=0.0000, Importance=0.0000, Semantic=0.4454, Coverage=0.0769, Position=0.7787, Density=0.0500, Context=0.0000
2024-11-08 15:14:26:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 284, Chunk 0: Final Score=0.1293, BM25=0.0737, FAISS=0.0000, Importance=0.0011, Semantic=0.0000, Coverage=0.0769, Position=1.0000, Density=0.0500, Context=0.0000
2024-11-08 15:14:26:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:26:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:14:26:INFO:utils.RAGProcessor:Query Features - Length: 12, Diversity: 0.92
2024-11-08 15:14:26:INFO:__main__:================================================================= QID: 64 =================================================================
2024-11-08 15:14:26:INFO:utils.rag_processor.query_processor:query分詞結果: 2022/侵權/合併財務報表/涉及/號碼/哪些/幾項/提及/合併/訴訟/聯發科/哪/財務/報表/季/專利
2024-11-08 15:14:26:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:14:26:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 706, Chunk 0, Score: 7.2788, Term Importance: 0.4565, Semantic Similarity: 0.9856, Query Coverage: 0.4112, Position Score: 0.0183, Term Density: 0.2580, Context Similarity: 6.3231, Frequency: [('專利', 6), ('訴訟', 2), ('號碼', 2), ('合併', 1), ('財務', 1), ('報表', 1), ('合併財務報表', 1), ('聯發科', 1), ('侵權', 1)]
2024-11-08 15:14:26:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 872, Chunk 0, Score: 5.9601, Term Importance: 0.5567, Semantic Similarity: 0.9865, Query Coverage: 0.2470, Position Score: 0.0123, Term Density: 0.0896, Context Similarity: 7.4363, Frequency: [('財務', 6), ('合併', 2), ('報表', 1), ('合併財務報表', 1), ('聯發科', 1), ('專利', 1)]
2024-11-08 15:14:26:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 124, Chunk 0, Score: 5.8544, Term Importance: 0.2901, Semantic Similarity: 0.9883, Query Coverage: 0.2992, Position Score: 0.0226, Term Density: 0.2122, Context Similarity: 4.7356, Frequency: [('專利', 3), ('訴訟', 2), ('合併', 1), ('財務', 1), ('報表', 1), ('合併財務報表', 1), ('侵權', 1), ('號碼', 1)]
2024-11-08 15:14:26:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 150, Chunk 0, Score: 4.5324, Term Importance: 0.1800, Semantic Similarity: 0.9860, Query Coverage: 0.1351, Position Score: 0.0345, Term Density: 0.0811, Context Similarity: 2.9245, Frequency: [('合併', 1), ('財務', 1), ('報表', 1), ('合併財務報表', 1), ('專利', 1)]
2024-11-08 15:14:26:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 128, Chunk 0, Score: 4.4748, Term Importance: 1.4514, Semantic Similarity: 0.9877, Query Coverage: 0.1014, Position Score: 0.0176, Term Density: 0.1014, Context Similarity: 14.8963, Frequency: [('財務', 9), ('合併', 3), ('報表', 3), ('合併財務報表', 3)]
2024-11-08 15:14:27:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:27:INFO:utils.RAGProcessor:FAISS Score: [0.6456], PDF: 706, Chunk: 0, metadata: [{}]
2024-11-08 15:14:27:INFO:utils.RAGProcessor:FAISS Score: [0.7004], PDF: 124, Chunk: 0, metadata: [{}]
2024-11-08 15:14:27:INFO:utils.RAGProcessor:FAISS Score: [0.7864], PDF: 124, Chunk: 1, metadata: [{}]
2024-11-08 15:14:27:INFO:utils.RAGProcessor:FAISS Score: [0.8189], PDF: 706, Chunk: 1, metadata: [{}]
2024-11-08 15:14:27:INFO:utils.RAGProcessor:FAISS Score: [0.8569], PDF: 150, Chunk: 0, metadata: [{}]
2024-11-08 15:14:27:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:14:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 706, Chunk 0: Final Score=0.8184, BM25=1.0000, FAISS=1.0000, Importance=0.2175, Semantic=0.0000, Coverage=1.0000, Position=0.2691, Density=1.0000, Context=0.2839
2024-11-08 15:14:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 124, Chunk 0: Final Score=0.6364, BM25=0.4920, FAISS=0.7408, Importance=0.0866, Semantic=1.0000, Coverage=0.6386, Position=0.4621, Density=0.7410, Context=0.1513
2024-11-08 15:14:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 872, Chunk 0: Final Score=0.2286, BM25=0.5297, FAISS=0.0000, Importance=0.2963, Semantic=0.3518, Coverage=0.4702, Position=0.0000, Density=0.0480, Context=0.3769
2024-11-08 15:14:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 128, Chunk 0: Final Score=0.1463, BM25=0.0000, FAISS=0.0000, Importance=1.0000, Semantic=0.7649, Coverage=0.0000, Position=0.2380, Density=0.1146, Context=1.0000
2024-11-08 15:14:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 150, Chunk 0: Final Score=0.1240, BM25=0.0205, FAISS=0.0000, Importance=0.0000, Semantic=0.1377, Coverage=0.1087, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 124, Chunk 1: Final Score=0.0963, BM25=0.0000, FAISS=0.3337, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 706, Chunk 1: Final Score=0.0519, BM25=0.0000, FAISS=0.1798, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:27:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:27:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:14:27:INFO:utils.RAGProcessor:Query Features - Length: 16, Diversity: 0.94
2024-11-08 15:14:27:INFO:__main__:================================================================= QID: 65 =================================================================
2024-11-08 15:14:29:INFO:utils.rag_processor.query_processor:query分詞結果: 報導/哪些/文件/提到/辨認/季/部門/2023/在鴻海
2024-11-08 15:14:29:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:14:29:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 255, Chunk 3, Score: 9.4816, Term Importance: 27.0602, Semantic Similarity: 0.9876, Query Coverage: 0.8748, Position Score: 0.0232, Term Density: 0.7691, Context Similarity: 24.1264, Frequency: [('部門', 13), ('報導', 4), ('辨認', 1)]
2024-11-08 15:14:29:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 359, Chunk 49, Score: 9.2353, Term Importance: 0.6851, Semantic Similarity: 0.9841, Query Coverage: 0.8748, Position Score: 0.0327, Term Density: 0.3845, Context Similarity: 7.5769, Frequency: [('部門', 3), ('辨認', 2), ('報導', 1)]
2024-11-08 15:14:29:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 359, Chunk 39, Score: 7.5589, Term Importance: 0.6613, Semantic Similarity: 0.9897, Query Coverage: 0.8004, Position Score: 0.0796, Term Density: 0.4407, Context Similarity: 5.9036, Frequency: [('文件', 2), ('辨認', 1)]
2024-11-08 15:14:29:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 255, Chunk 2, Score: 6.2022, Term Importance: 0.8900, Semantic Similarity: 0.9861, Query Coverage: 0.5640, Position Score: 0.1325, Term Density: 0.5153, Context Similarity: 7.9170, Frequency: [('部門', 3), ('報導', 1)]
2024-11-08 15:14:29:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 255, Chunk 5, Score: 5.4279, Term Importance: 1.3180, Semantic Similarity: 0.9863, Query Coverage: 0.5640, Position Score: 0.0148, Term Density: 0.2538, Context Similarity: 5.2199, Frequency: [('部門', 3), ('報導', 1)]
2024-11-08 15:14:32:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:32:INFO:utils.RAGProcessor:FAISS Score: [0.7364], PDF: 255, Chunk: 3, metadata: [{}]
2024-11-08 15:14:32:INFO:utils.RAGProcessor:FAISS Score: [0.9141], PDF: 255, Chunk: 5, metadata: [{}]
2024-11-08 15:14:32:INFO:utils.RAGProcessor:FAISS Score: [0.9443], PDF: 359, Chunk: 10, metadata: [{}]
2024-11-08 15:14:32:INFO:utils.RAGProcessor:FAISS Score: [0.9502], PDF: 951, Chunk: 0, metadata: [{}]
2024-11-08 15:14:32:INFO:utils.RAGProcessor:FAISS Score: [0.9810], PDF: 255, Chunk: 2, metadata: [{}]
2024-11-08 15:14:32:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:14:32:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 255, Chunk 3: Final Score=0.8818, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.6234, Coverage=1.0000, Position=0.0719, Density=1.0000, Context=1.0000
2024-11-08 15:14:32:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 359, Chunk 39: Final Score=0.3930, BM25=0.5257, FAISS=0.0000, Importance=0.0000, Semantic=1.0000, Coverage=0.7608, Position=0.5509, Density=0.3627, Context=0.0362
2024-11-08 15:14:32:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 359, Chunk 49: Final Score=0.3893, BM25=0.9392, FAISS=0.0000, Importance=0.0009, Semantic=0.0000, Coverage=1.0000, Position=0.1518, Density=0.2537, Context=0.1247
2024-11-08 15:14:32:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 255, Chunk 2: Final Score=0.2474, BM25=0.1910, FAISS=0.0000, Importance=0.0087, Semantic=0.3521, Coverage=0.0000, Position=1.0000, Density=0.5075, Context=0.1427
2024-11-08 15:14:32:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 255, Chunk 5: Final Score=0.1085, BM25=0.0000, FAISS=0.2736, Importance=0.0249, Semantic=0.3840, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:32:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 359, Chunk 10: Final Score=0.0433, BM25=0.0000, FAISS=0.1501, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:32:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 951, Chunk 0: Final Score=0.0364, BM25=0.0000, FAISS=0.1261, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:32:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:32:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:14:32:INFO:utils.RAGProcessor:Query Features - Length: 9, Diversity: 0.90
2024-11-08 15:14:32:INFO:__main__:================================================================= QID: 66 =================================================================
2024-11-08 15:14:33:INFO:utils.rag_processor.query_processor:query分詞結果: 2022/控告/地區/利權/BANDSPEED/侵害/專利權/瑞昱/一/提到/LLC/哪/季/法院/財報/專利
2024-11-08 15:14:33:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:14:33:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 192, Chunk 0, Score: 17.4424, Term Importance: 5.8668, Semantic Similarity: 0.9921, Query Coverage: 1.1305, Position Score: 0.0497, Term Density: 0.8477, Context Similarity: 4.2956, Frequency: [('BANDSPEED', 1), ('LLC', 1), ('法院', 1), ('控告', 1), ('侵害', 1), ('專利', 1), ('利權', 1), ('專利權', 1), ('一', 1)]
2024-11-08 15:14:33:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 396, Chunk 4, Score: 15.2649, Term Importance: 0.6225, Semantic Similarity: 0.9926, Query Coverage: 0.9223, Position Score: 0.0390, Term Density: 0.6811, Context Similarity: 8.0993, Frequency: [('LLC', 3), ('控告', 3), ('法院', 2), ('侵害', 2), ('專利', 2), ('利權', 2), ('專利權', 2), ('一', 1)]
2024-11-08 15:14:33:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 396, Chunk 5, Score: 15.1871, Term Importance: 1.8339, Semantic Similarity: 0.9916, Query Coverage: 0.8513, Position Score: 0.0391, Term Density: 0.6811, Context Similarity: 9.1008, Frequency: [('LLC', 2), ('法院', 2), ('控告', 2), ('侵害', 2), ('專利', 2), ('利權', 2), ('專利權', 2)]
2024-11-08 15:14:33:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 396, Chunk 6, Score: 12.6408, Term Importance: 1.1383, Semantic Similarity: 0.9939, Query Coverage: 0.8513, Position Score: 0.1548, Term Density: 0.6811, Context Similarity: 4.5536, Frequency: [('LLC', 1), ('法院', 1), ('控告', 1), ('侵害', 1), ('專利', 1), ('利權', 1), ('專利權', 1)]
2024-11-08 15:14:33:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 978, Chunk 0, Score: 1.8625, Term Importance: 2.6545, Semantic Similarity: 0.9895, Query Coverage: 0.1492, Position Score: 0.0211, Term Density: 0.1194, Context Similarity: 4.3230, Frequency: [('瑞昱', 2), ('一', 2)]
2024-11-08 15:14:34:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:34:INFO:utils.RAGProcessor:FAISS Score: [0.7642], PDF: 192, Chunk: 0, metadata: [{}]
2024-11-08 15:14:34:INFO:utils.RAGProcessor:FAISS Score: [0.9942], PDF: 396, Chunk: 6, metadata: [{}]
2024-11-08 15:14:34:INFO:utils.RAGProcessor:FAISS Score: [0.9959], PDF: 396, Chunk: 5, metadata: [{}]
2024-11-08 15:14:34:INFO:utils.RAGProcessor:FAISS Score: [1.0462], PDF: 978, Chunk: 0, metadata: [{}]
2024-11-08 15:14:34:INFO:utils.RAGProcessor:FAISS Score: [1.0600], PDF: 545, Chunk: 0, metadata: [{}]
2024-11-08 15:14:34:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:14:34:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 192, Chunk 0: Final Score=0.8440, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.5791, Coverage=1.0000, Position=0.2141, Density=1.0000, Context=0.0000
2024-11-08 15:14:34:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 396, Chunk 6: Final Score=0.5933, BM25=0.6918, FAISS=0.2225, Importance=0.0984, Semantic=1.0000, Coverage=0.7155, Position=1.0000, Density=0.7712, Context=0.0537
2024-11-08 15:14:34:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 396, Chunk 5: Final Score=0.5518, BM25=0.8552, FAISS=0.2165, Importance=0.2310, Semantic=0.4835, Coverage=0.7155, Position=0.1347, Density=0.7712, Context=1.0000
2024-11-08 15:14:34:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 396, Chunk 4: Final Score=0.5062, BM25=0.8602, FAISS=0.0000, Importance=0.0000, Semantic=0.7088, Coverage=0.7878, Position=0.1345, Density=0.7712, Context=0.7916
2024-11-08 15:14:34:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 978, Chunk 0: Final Score=0.0137, BM25=0.0000, FAISS=0.0464, Importance=0.3875, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0057
2024-11-08 15:14:34:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 545, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:34:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:34:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:14:34:INFO:utils.RAGProcessor:Query Features - Length: 16, Diversity: 0.94
2024-11-08 15:14:34:INFO:__main__:================================================================= QID: 67 =================================================================
2024-11-08 15:14:35:INFO:utils.rag_processor.query_processor:query分詞結果: 2022/季度/哪些/瑞昱/目前/訴訟/案件/正在/處理/專利/提起
2024-11-08 15:14:35:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:14:36:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 1021, Chunk 1, Score: 10.7383, Term Importance: 21.5702, Semantic Similarity: 0.9921, Query Coverage: 0.8550, Position Score: 0.0436, Term Density: 0.8230, Context Similarity: 13.4610, Frequency: [('專利', 4), ('案件', 4), ('訴訟', 3), ('目前', 2)]
2024-11-08 15:14:36:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 1021, Chunk 0, Score: 10.2958, Term Importance: 1.5081, Semantic Similarity: 0.9900, Query Coverage: 0.8550, Position Score: 0.0274, Term Density: 0.9406, Context Similarity: 15.5381, Frequency: [('專利', 6), ('訴訟', 4), ('案件', 3), ('目前', 1)]
2024-11-08 15:14:36:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 386, Chunk 6, Score: 2.9689, Term Importance: 0.0499, Semantic Similarity: 0.9886, Query Coverage: 0.2768, Position Score: 0.5775, Term Density: 0.1522, Context Similarity: 1.8842, Frequency: [('處理', 1)]
2024-11-08 15:14:36:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 386, Chunk 3, Score: 1.2355, Term Importance: 1.5572, Semantic Similarity: 0.9755, Query Coverage: 0.1139, Position Score: 0.0225, Term Density: 0.1253, Context Similarity: 0.0000, Frequency: [('瑞昱', 10)]
2024-11-08 15:14:36:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 386, Chunk 4, Score: 1.1039, Term Importance: 0.2344, Semantic Similarity: 0.9837, Query Coverage: 0.1139, Position Score: 0.0241, Term Density: 0.0626, Context Similarity: 0.0000, Frequency: [('瑞昱', 3)]
2024-11-08 15:14:37:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:37:INFO:utils.RAGProcessor:FAISS Score: [0.8852], PDF: 837, Chunk: 0, metadata: [{}]
2024-11-08 15:14:37:INFO:utils.RAGProcessor:FAISS Score: [0.9156], PDF: 386, Chunk: 4, metadata: [{}]
2024-11-08 15:14:37:INFO:utils.RAGProcessor:FAISS Score: [0.9326], PDF: 213, Chunk: 0, metadata: [{}]
2024-11-08 15:14:37:INFO:utils.RAGProcessor:FAISS Score: [0.9348], PDF: 213, Chunk: 1, metadata: [{}]
2024-11-08 15:14:37:INFO:utils.RAGProcessor:FAISS Score: [0.9886], PDF: 1021, Chunk: 1, metadata: [{}]
2024-11-08 15:14:37:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:14:37:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 1021, Chunk 0: Final Score=0.5961, BM25=0.9541, FAISS=0.0000, Importance=0.0678, Semantic=0.8766, Coverage=1.0000, Position=0.0087, Density=1.0000, Context=1.0000
2024-11-08 15:14:37:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 1021, Chunk 1: Final Score=0.5933, BM25=1.0000, FAISS=0.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0380, Density=0.8661, Context=0.8663
2024-11-08 15:14:37:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 837, Chunk 0: Final Score=0.2885, BM25=0.0000, FAISS=1.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:37:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 386, Chunk 6: Final Score=0.2476, BM25=0.1936, FAISS=0.0000, Importance=0.0000, Semantic=0.7916, Coverage=0.2198, Position=1.0000, Density=0.1020, Context=0.1213
2024-11-08 15:14:37:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 386, Chunk 4: Final Score=0.2422, BM25=0.0000, FAISS=0.7066, Importance=0.0086, Semantic=0.4949, Coverage=0.0000, Position=0.0029, Density=0.0000, Context=0.0000
2024-11-08 15:14:37:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 213, Chunk 0: Final Score=0.1563, BM25=0.0000, FAISS=0.5419, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:37:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 213, Chunk 1: Final Score=0.1502, BM25=0.0000, FAISS=0.5207, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:37:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 386, Chunk 3: Final Score=0.0134, BM25=0.0137, FAISS=0.0000, Importance=0.0700, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0713, Context=0.0000
2024-11-08 15:14:37:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:37:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:14:37:INFO:utils.RAGProcessor:Query Features - Length: 11, Diversity: 0.92
2024-11-08 15:14:37:INFO:__main__:================================================================= QID: 68 =================================================================
2024-11-08 15:14:38:INFO:utils.rag_processor.query_processor:query分詞結果: 負債/多少/請問/科在/負債表/資產/合併/合併資產負債表/總資產/金額/季/光寶/2023
2024-11-08 15:14:38:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:14:38:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 955, Chunk 0, Score: 9.3435, Term Importance: 1.6997, Semantic Similarity: 0.9887, Query Coverage: 0.7703, Position Score: 0.0201, Term Density: 0.5007, Context Similarity: 6.4174, Frequency: [('合併', 8), ('光寶', 3), ('資產', 1), ('負債', 1), ('負債表', 1), ('合併資產負債表', 1)]
2024-11-08 15:14:38:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 942, Chunk 0, Score: 8.4257, Term Importance: 11.9614, Semantic Similarity: 0.9915, Query Coverage: 0.9143, Position Score: 0.0038, Term Density: 0.5007, Context Similarity: 21.6697, Frequency: [('資產', 19), ('負債', 16), ('金額', 3), ('合併', 2), ('光寶', 1), ('負債表', 1), ('合併資產負債表', 1)]
2024-11-08 15:14:38:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 37, Chunk 1, Score: 6.4106, Term Importance: 0.3335, Semantic Similarity: 0.9882, Query Coverage: 0.3917, Position Score: 0.0284, Term Density: 0.4887, Context Similarity: 4.1000, Frequency: [('2023', 3), ('合併', 2), ('資產', 1)]
2024-11-08 15:14:38:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 955, Chunk 1, Score: 5.0995, Term Importance: 0.2855, Semantic Similarity: 0.9915, Query Coverage: 0.2851, Position Score: 0.0387, Term Density: 0.2056, Context Similarity: 9.6853, Frequency: [('合併', 4), ('資產', 2), ('負債', 2)]
2024-11-08 15:14:38:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 37, Chunk 0, Score: 3.5564, Term Importance: 0.2561, Semantic Similarity: 0.9875, Query Coverage: 0.1723, Position Score: 0.0239, Term Density: 0.1872, Context Similarity: 6.9612, Frequency: [('負債', 3), ('合併', 2)]
2024-11-08 15:14:41:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:41:INFO:utils.RAGProcessor:FAISS Score: [0.6178], PDF: 942, Chunk: 0, metadata: [{}]
2024-11-08 15:14:41:INFO:utils.RAGProcessor:FAISS Score: [0.8000], PDF: 955, Chunk: 0, metadata: [{}]
2024-11-08 15:14:41:INFO:utils.RAGProcessor:FAISS Score: [0.8512], PDF: 955, Chunk: 1, metadata: [{}]
2024-11-08 15:14:41:INFO:utils.RAGProcessor:FAISS Score: [0.8676], PDF: 955, Chunk: 3, metadata: [{}]
2024-11-08 15:14:41:INFO:utils.RAGProcessor:FAISS Score: [0.8938], PDF: 341, Chunk: 0, metadata: [{}]
2024-11-08 15:14:41:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:14:41:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 942, Chunk 0: Final Score=0.8666, BM25=0.8414, FAISS=1.0000, Importance=1.0000, Semantic=0.9915, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:14:41:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 955, Chunk 0: Final Score=0.6410, BM25=1.0000, FAISS=0.3398, Importance=0.1233, Semantic=0.3074, Coverage=0.8060, Position=0.4677, Density=1.0000, Context=0.1319
2024-11-08 15:14:41:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 37, Chunk 1: Final Score=0.3672, BM25=0.4932, FAISS=0.0000, Importance=0.0066, Semantic=0.1648, Coverage=0.2957, Position=0.7061, Density=0.9617, Context=0.0000
2024-11-08 15:14:41:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 955, Chunk 1: Final Score=0.3204, BM25=0.2667, FAISS=0.1543, Importance=0.0025, Semantic=1.0000, Coverage=0.1520, Position=1.0000, Density=0.0586, Context=0.3179
2024-11-08 15:14:41:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 37, Chunk 0: Final Score=0.0632, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.5758, Density=0.0000, Context=0.1629
2024-11-08 15:14:41:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 955, Chunk 3: Final Score=0.0274, BM25=0.0000, FAISS=0.0949, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:41:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 341, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:41:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:41:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:14:41:INFO:utils.RAGProcessor:Query Features - Length: 13, Diversity: 0.93
2024-11-08 15:14:41:INFO:__main__:================================================================= QID: 69 =================================================================
2024-11-08 15:14:42:INFO:utils.rag_processor.query_processor:query分詞結果: 2022/合併財務報表/本期/淨利/瑞昱/合併/提到/財務/報表/季/多少
2024-11-08 15:14:42:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:14:42:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 981, Chunk 0, Score: 8.0308, Term Importance: 2.1419, Semantic Similarity: 0.9886, Query Coverage: 0.8661, Position Score: 0.0084, Term Density: 0.2805, Context Similarity: 7.3592, Frequency: [('本期', 6), ('合併', 3), ('財務', 3), ('報表', 2), ('淨利', 2), ('瑞昱', 1), ('合併財務報表', 1)]
2024-11-08 15:14:42:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 978, Chunk 0, Score: 4.9112, Term Importance: 4.0807, Semantic Similarity: 0.9860, Query Coverage: 0.4928, Position Score: 0.0142, Term Density: 0.2710, Context Similarity: 9.4689, Frequency: [('財務', 8), ('瑞昱', 2), ('合併', 2), ('報表', 1), ('合併財務報表', 1)]
2024-11-08 15:14:42:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 545, Chunk 1, Score: 4.8203, Term Importance: 1.6923, Semantic Similarity: 0.9874, Query Coverage: 0.6295, Position Score: 0.0079, Term Density: 0.2769, Context Similarity: 4.0454, Frequency: [('合併', 3), ('財務', 2), ('瑞昱', 1), ('本期', 1), ('報表', 1), ('合併財務報表', 1)]
2024-11-08 15:14:42:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 182, Chunk 7, Score: 4.3449, Term Importance: 0.0583, Semantic Similarity: 0.9896, Query Coverage: 0.5068, Position Score: 0.1712, Term Density: 0.2787, Context Similarity: 3.3283, Frequency: [('本期', 1), ('合併', 1), ('財務', 1), ('報表', 1), ('合併財務報表', 1)]
2024-11-08 15:14:42:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 545, Chunk 0, Score: 3.8034, Term Importance: 1.5256, Semantic Similarity: 0.9882, Query Coverage: 0.5698, Position Score: 0.0378, Term Density: 0.2053, Context Similarity: 1.8240, Frequency: [('瑞昱', 1), ('合併', 1), ('本期', 1), ('淨利', 1)]
2024-11-08 15:14:43:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:43:INFO:utils.RAGProcessor:FAISS Score: [0.5864], PDF: 545, Chunk: 0, metadata: [{}]
2024-11-08 15:14:43:INFO:utils.RAGProcessor:FAISS Score: [0.6011], PDF: 981, Chunk: 0, metadata: [{}]
2024-11-08 15:14:43:INFO:utils.RAGProcessor:FAISS Score: [0.6150], PDF: 545, Chunk: 1, metadata: [{}]
2024-11-08 15:14:43:INFO:utils.RAGProcessor:FAISS Score: [0.7836], PDF: 978, Chunk: 0, metadata: [{}]
2024-11-08 15:14:43:INFO:utils.RAGProcessor:FAISS Score: [0.8975], PDF: 182, Chunk: 3, metadata: [{}]
2024-11-08 15:14:43:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:14:43:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 981, Chunk 0: Final Score=0.8567, BM25=1.0000, FAISS=0.9528, Importance=0.5180, Semantic=0.7332, Coverage=1.0000, Position=0.0031, Density=1.0000, Context=0.7240
2024-11-08 15:14:43:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 545, Chunk 1: Final Score=0.5418, BM25=0.2405, FAISS=0.9080, Importance=0.4062, Semantic=0.4019, Coverage=0.3662, Position=0.0000, Density=0.9516, Context=0.2906
2024-11-08 15:14:43:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 545, Chunk 0: Final Score=0.3778, BM25=0.0000, FAISS=1.0000, Importance=0.3648, Semantic=0.6233, Coverage=0.2063, Position=0.1829, Density=0.0000, Context=0.0000
2024-11-08 15:14:43:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 182, Chunk 7: Final Score=0.3572, BM25=0.1281, FAISS=0.0000, Importance=0.0000, Semantic=1.0000, Coverage=0.0375, Position=1.0000, Density=0.9758, Context=0.1968
2024-11-08 15:14:43:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 978, Chunk 0: Final Score=0.3438, BM25=0.2620, FAISS=0.3661, Importance=1.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0383, Density=0.8733, Context=1.0000
2024-11-08 15:14:43:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 182, Chunk 3: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:43:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:43:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:14:43:INFO:utils.RAGProcessor:Query Features - Length: 11, Diversity: 0.92
2024-11-08 15:14:43:INFO:__main__:================================================================= QID: 70 =================================================================
2024-11-08 15:14:45:INFO:utils.rag_processor.query_processor:query分詞結果: 總額/綜合損益/科技/多少/季/損益/綜合/智邦/股份/科技股份/有限/科技股/2023
2024-11-08 15:14:45:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:14:45:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 490, Chunk 0, Score: 6.5707, Term Importance: 2.3451, Semantic Similarity: 0.9841, Query Coverage: 0.5717, Position Score: 0.0103, Term Density: 0.2971, Context Similarity: 7.4647, Frequency: [('損益', 7), ('綜合', 6), ('綜合損益', 5), ('股份', 3), ('總額', 2), ('智邦', 1), ('科技', 1), ('科技股', 1), ('科技股份', 1), ('有限', 1)]
2024-11-08 15:14:45:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 272, Chunk 0, Score: 4.6029, Term Importance: 1.5039, Semantic Similarity: 0.9859, Query Coverage: 0.3627, Position Score: 0.0791, Term Density: 0.3608, Context Similarity: 3.6810, Frequency: [('智邦', 2), ('科技', 2), ('股份', 2), ('科技股', 2), ('科技股份', 2), ('有限', 2), ('綜合', 1), ('損益', 1)]
2024-11-08 15:14:45:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 272, Chunk 2, Score: 3.8207, Term Importance: 0.0378, Semantic Similarity: 0.9856, Query Coverage: 0.3021, Position Score: 0.0260, Term Density: 0.1804, Context Similarity: 1.7327, Frequency: [('損益', 1), ('智邦', 1), ('科技', 1), ('股份', 1), ('科技股', 1), ('科技股份', 1), ('有限', 1)]
2024-11-08 15:14:45:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 272, Chunk 1, Score: 3.7832, Term Importance: 0.7834, Semantic Similarity: 0.9892, Query Coverage: 0.2941, Position Score: 0.0495, Term Density: 0.3823, Context Similarity: 8.8693, Frequency: [('總額', 6), ('綜合', 2), ('損益', 2), ('綜合損益', 2)]
2024-11-08 15:14:45:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 298, Chunk 0, Score: 3.4119, Term Importance: 1.5181, Semantic Similarity: 0.9852, Query Coverage: 0.3021, Position Score: 0.0330, Term Density: 0.1804, Context Similarity: 1.6350, Frequency: [('智邦', 1), ('科技', 1), ('股份', 1), ('科技股', 1), ('科技股份', 1), ('有限', 1), ('損益', 1)]
2024-11-08 15:14:47:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:47:INFO:utils.RAGProcessor:FAISS Score: [0.5793], PDF: 298, Chunk: 0, metadata: [{}]
2024-11-08 15:14:47:INFO:utils.RAGProcessor:FAISS Score: [0.6025], PDF: 490, Chunk: 0, metadata: [{}]
2024-11-08 15:14:47:INFO:utils.RAGProcessor:FAISS Score: [0.6894], PDF: 147, Chunk: 0, metadata: [{}]
2024-11-08 15:14:47:INFO:utils.RAGProcessor:FAISS Score: [0.8296], PDF: 272, Chunk: 2, metadata: [{}]
2024-11-08 15:14:47:INFO:utils.RAGProcessor:FAISS Score: [0.9150], PDF: 272, Chunk: 0, metadata: [{}]
2024-11-08 15:14:47:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:14:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 490, Chunk 0: Final Score=0.7368, BM25=1.0000, FAISS=0.9309, Importance=1.0000, Semantic=0.0000, Coverage=1.0000, Position=0.0000, Density=0.5778, Context=0.8058
2024-11-08 15:14:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 272, Chunk 0: Final Score=0.3818, BM25=0.3770, FAISS=0.0000, Importance=0.6354, Semantic=0.3596, Coverage=0.2472, Position=1.0000, Density=0.8936, Context=0.2828
2024-11-08 15:14:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 272, Chunk 1: Final Score=0.3511, BM25=0.1175, FAISS=0.0000, Importance=0.3231, Semantic=1.0000, Coverage=0.0000, Position=0.5692, Density=1.0000, Context=1.0000
2024-11-08 15:14:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 298, Chunk 0: Final Score=0.3399, BM25=0.0000, FAISS=1.0000, Importance=0.6415, Semantic=0.2141, Coverage=0.0287, Position=0.3296, Density=0.0000, Context=0.0000
2024-11-08 15:14:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 147, Chunk 0: Final Score=0.1938, BM25=0.0000, FAISS=0.6719, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 272, Chunk 2: Final Score=0.1511, BM25=0.1294, FAISS=0.2543, Importance=0.0000, Semantic=0.2871, Coverage=0.0287, Position=0.2273, Density=0.0000, Context=0.0135
2024-11-08 15:14:47:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:47:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:14:47:INFO:utils.RAGProcessor:Query Features - Length: 13, Diversity: 0.93
2024-11-08 15:14:47:INFO:__main__:================================================================= QID: 71 =================================================================
2024-11-08 15:14:47:INFO:utils.rag_processor.query_processor:query分詞結果: 2022/鋼鐵/鋼/來自/收入/其他/季/外部/部門/多少
2024-11-08 15:14:47:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:14:47:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 920, Chunk 1, Score: 11.8823, Term Importance: 9.7302, Semantic Similarity: 0.9919, Query Coverage: 1.1292, Position Score: 0.0362, Term Density: 0.6674, Context Similarity: 12.8110, Frequency: [('部門', 9), ('收入', 6), ('鋼鐵', 3), ('鋼', 1), ('其他', 1), ('來自', 1), ('外部', 1)]
2024-11-08 15:14:48:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 920, Chunk 2, Score: 9.9780, Term Importance: 11.6345, Semantic Similarity: 0.9849, Query Coverage: 0.9682, Position Score: 0.0169, Term Density: 0.4715, Context Similarity: 9.6689, Frequency: [('部門', 6), ('收入', 6), ('其他', 3), ('鋼鐵', 1), ('來自', 1), ('外部', 1)]
2024-11-08 15:14:48:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 920, Chunk 0, Score: 5.6836, Term Importance: 0.4257, Semantic Similarity: 0.9898, Query Coverage: 0.4967, Position Score: 0.0390, Term Density: 0.4693, Context Similarity: 9.8705, Frequency: [('部門', 5), ('鋼鐵', 2), ('其他', 1), ('鋼', 1)]
2024-11-08 15:14:48:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 115, Chunk 3, Score: 4.7227, Term Importance: 0.3216, Semantic Similarity: 0.9891, Query Coverage: 0.3605, Position Score: 0.0528, Term Density: 0.1609, Context Similarity: 2.1805, Frequency: [('2022', 2), ('其他', 1)]
2024-11-08 15:14:48:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 920, Chunk 3, Score: 4.6727, Term Importance: 25.0848, Semantic Similarity: 0.9878, Query Coverage: 0.3358, Position Score: 0.0275, Term Density: 0.3511, Context Similarity: 12.7472, Frequency: [('部門', 10), ('鋼鐵', 2), ('其他', 2)]
2024-11-08 15:14:52:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:52:INFO:utils.RAGProcessor:FAISS Score: [0.6438], PDF: 920, Chunk: 1, metadata: [{}]
2024-11-08 15:14:52:INFO:utils.RAGProcessor:FAISS Score: [0.6759], PDF: 920, Chunk: 2, metadata: [{}]
2024-11-08 15:14:52:INFO:utils.RAGProcessor:FAISS Score: [0.8338], PDF: 21, Chunk: 0, metadata: [{}]
2024-11-08 15:14:52:INFO:utils.RAGProcessor:FAISS Score: [0.8509], PDF: 321, Chunk: 4, metadata: [{}]
2024-11-08 15:14:52:INFO:utils.RAGProcessor:FAISS Score: [0.8541], PDF: 321, Chunk: 6, metadata: [{}]
2024-11-08 15:14:52:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:14:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 920, Chunk 1: Final Score=0.9555, BM25=1.0000, FAISS=1.0000, Importance=0.3799, Semantic=1.0000, Coverage=1.0000, Position=0.5371, Density=1.0000, Context=1.0000
2024-11-08 15:14:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 920, Chunk 2: Final Score=0.6285, BM25=0.7359, FAISS=0.8473, Importance=0.4568, Semantic=0.0000, Coverage=0.7971, Position=0.0000, Density=0.6132, Context=0.7044
2024-11-08 15:14:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 920, Chunk 0: Final Score=0.2914, BM25=0.1402, FAISS=0.0000, Importance=0.0042, Semantic=0.7006, Coverage=0.2029, Position=0.6155, Density=0.6089, Context=0.7234
2024-11-08 15:14:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 920, Chunk 3: Final Score=0.1627, BM25=0.0000, FAISS=0.0000, Importance=1.0000, Semantic=0.4207, Coverage=0.0000, Position=0.2956, Density=0.3756, Context=0.9940
2024-11-08 15:14:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 115, Chunk 3: Final Score=0.1477, BM25=0.0069, FAISS=0.0000, Importance=0.0000, Semantic=0.6021, Coverage=0.0311, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 21, Chunk 0: Final Score=0.0279, BM25=0.0000, FAISS=0.0967, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 321, Chunk 4: Final Score=0.0044, BM25=0.0000, FAISS=0.0152, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 321, Chunk 6: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:52:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:52:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:14:52:INFO:utils.RAGProcessor:Query Features - Length: 10, Diversity: 0.91
2024-11-08 15:14:52:INFO:__main__:================================================================= QID: 72 =================================================================
2024-11-08 15:14:52:INFO:utils.rag_processor.query_processor:query分詞結果: 2022/財務報告/董事會/通過/科在/合併/報告/何/董事/財務/時經/季/並發布/光寶
2024-11-08 15:14:52:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:14:52:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 204, Chunk 1, Score: 8.6467, Term Importance: 2.2319, Semantic Similarity: 0.9864, Query Coverage: 0.7485, Position Score: 0.0182, Term Density: 0.6626, Context Similarity: 8.9595, Frequency: [('合併', 8), ('財務', 3), ('報告', 3), ('財務報告', 3), ('光寶', 2), ('通過', 2), ('董事', 1), ('董事會', 1)]
2024-11-08 15:14:52:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 497, Chunk 2, Score: 6.4459, Term Importance: 0.4255, Semantic Similarity: 0.9852, Query Coverage: 0.5420, Position Score: 0.0726, Term Density: 0.4064, Context Similarity: 5.4190, Frequency: [('財務', 3), ('2022', 2), ('合併', 2), ('報告', 1), ('財務報告', 1), ('通過', 1)]
2024-11-08 15:14:52:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 92, Chunk 3, Score: 5.5280, Term Importance: 0.4336, Semantic Similarity: 0.9894, Query Coverage: 0.4335, Position Score: 0.0606, Term Density: 0.3034, Context Similarity: 6.1670, Frequency: [('董事', 2), ('董事會', 2), ('通過', 1), ('報告', 1)]
2024-11-08 15:14:53:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 204, Chunk 0, Score: 4.5161, Term Importance: 10.3376, Semantic Similarity: 0.9848, Query Coverage: 0.3935, Position Score: 0.0155, Term Density: 0.2957, Context Similarity: 6.7725, Frequency: [('合併', 7), ('光寶', 5), ('財務', 1), ('報告', 1), ('財務報告', 1)]
2024-11-08 15:14:53:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 497, Chunk 0, Score: 2.8462, Term Importance: 0.2899, Semantic Similarity: 0.9857, Query Coverage: 0.2160, Position Score: 0.0700, Term Density: 0.1242, Context Similarity: 2.2767, Frequency: [('並發布', 2), ('財務', 1), ('合併', 1)]
2024-11-08 15:14:53:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:53:INFO:utils.RAGProcessor:FAISS Score: [0.8166], PDF: 497, Chunk: 2, metadata: [{}]
2024-11-08 15:14:53:INFO:utils.RAGProcessor:FAISS Score: [0.8257], PDF: 204, Chunk: 0, metadata: [{}]
2024-11-08 15:14:53:INFO:utils.RAGProcessor:FAISS Score: [0.8795], PDF: 204, Chunk: 1, metadata: [{}]
2024-11-08 15:14:53:INFO:utils.RAGProcessor:FAISS Score: [0.9546], PDF: 92, Chunk: 1, metadata: [{}]
2024-11-08 15:14:53:INFO:utils.RAGProcessor:FAISS Score: [0.9562], PDF: 92, Chunk: 3, metadata: [{}]
2024-11-08 15:14:53:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:14:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 204, Chunk 1: Final Score=0.7281, BM25=1.0000, FAISS=0.5495, Importance=0.1933, Semantic=0.3445, Coverage=1.0000, Position=0.0481, Density=1.0000, Context=1.0000
2024-11-08 15:14:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 497, Chunk 2: Final Score=0.7027, BM25=0.6206, FAISS=1.0000, Importance=0.0135, Semantic=0.0785, Coverage=0.6123, Position=1.0000, Density=0.5241, Context=0.4702
2024-11-08 15:14:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 204, Chunk 0: Final Score=0.4529, BM25=0.2879, FAISS=0.9349, Importance=1.0000, Semantic=0.0000, Coverage=0.3333, Position=0.0000, Density=0.3185, Context=0.6727
2024-11-08 15:14:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 92, Chunk 3: Final Score=0.3826, BM25=0.4623, FAISS=0.0000, Importance=0.0143, Semantic=1.0000, Coverage=0.4084, Position=0.7894, Density=0.3328, Context=0.5821
2024-11-08 15:14:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 497, Chunk 0: Final Score=0.1068, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.1969, Coverage=0.0000, Position=0.9537, Density=0.0000, Context=0.0000
2024-11-08 15:14:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 92, Chunk 1: Final Score=0.0032, BM25=0.0000, FAISS=0.0113, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:53:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:53:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:14:53:INFO:utils.RAGProcessor:Query Features - Length: 14, Diversity: 0.93
2024-11-08 15:14:53:INFO:__main__:================================================================= QID: 73 =================================================================
2024-11-08 15:14:55:INFO:utils.rag_processor.query_processor:query分詞結果: 2022/控制/權益/季度/華碩/非/權益餘額/餘額/多少
2024-11-08 15:14:55:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:14:55:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 235, Chunk 0, Score: 8.0112, Term Importance: 6.4270, Semantic Similarity: 0.9884, Query Coverage: 0.9707, Position Score: 0.0080, Term Density: 0.3848, Context Similarity: 15.2675, Frequency: [('權益', 12), ('餘額', 4), ('非', 3), ('控制', 3), ('華碩', 1)]
2024-11-08 15:14:55:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 503, Chunk 10, Score: 6.2833, Term Importance: 0.5061, Semantic Similarity: 0.9884, Query Coverage: 0.7130, Position Score: 0.0195, Term Density: 0.3333, Context Similarity: 9.6986, Frequency: [('餘額', 3), ('非', 2), ('控制', 2), ('權益', 2)]
2024-11-08 15:14:55:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 503, Chunk 2, Score: 6.2801, Term Importance: 2.6247, Semantic Similarity: 0.9865, Query Coverage: 0.7130, Position Score: 0.0224, Term Density: 0.4707, Context Similarity: 16.1061, Frequency: [('控制', 6), ('權益', 6), ('非', 2), ('餘額', 1)]
2024-11-08 15:14:55:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 295, Chunk 0, Score: 5.2825, Term Importance: 2.3948, Semantic Similarity: 0.9868, Query Coverage: 0.8072, Position Score: 0.0056, Term Density: 0.2501, Context Similarity: 4.3008, Frequency: [('權益', 3), ('餘額', 2), ('華碩', 1), ('非', 1)]
2024-11-08 15:14:55:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 503, Chunk 16, Score: 4.6329, Term Importance: 0.0920, Semantic Similarity: 0.9875, Query Coverage: 0.5834, Position Score: 0.0213, Term Density: 0.2625, Context Similarity: 6.6312, Frequency: [('控制', 2), ('權益', 2), ('餘額', 1)]
2024-11-08 15:14:58:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:58:INFO:utils.RAGProcessor:FAISS Score: [0.6197], PDF: 235, Chunk: 0, metadata: [{}]
2024-11-08 15:14:58:INFO:utils.RAGProcessor:FAISS Score: [0.7057], PDF: 295, Chunk: 0, metadata: [{}]
2024-11-08 15:14:58:INFO:utils.RAGProcessor:FAISS Score: [0.8141], PDF: 503, Chunk: 3, metadata: [{}]
2024-11-08 15:14:58:INFO:utils.RAGProcessor:FAISS Score: [0.8592], PDF: 503, Chunk: 4, metadata: [{}]
2024-11-08 15:14:58:INFO:utils.RAGProcessor:FAISS Score: [0.9566], PDF: 336, Chunk: 3, metadata: [{}]
2024-11-08 15:14:58:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:14:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 235, Chunk 0: Final Score=0.8577, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.1408, Density=0.6102, Context=0.9290
2024-11-08 15:14:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 503, Chunk 2: Final Score=0.4396, BM25=0.4876, FAISS=0.0000, Importance=0.3998, Semantic=0.0000, Coverage=0.3346, Position=1.0000, Density=1.0000, Context=1.0000
2024-11-08 15:14:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 503, Chunk 10: Final Score=0.3818, BM25=0.4885, FAISS=0.0000, Importance=0.0654, Semantic=0.9730, Coverage=0.3346, Position=0.8241, Density=0.3768, Context=0.4572
2024-11-08 15:14:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 295, Chunk 0: Final Score=0.3385, BM25=0.1923, FAISS=0.7448, Importance=0.3635, Semantic=0.1645, Coverage=0.5777, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 503, Chunk 16: Final Score=0.1454, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.4961, Coverage=0.0000, Position=0.9319, Density=0.0562, Context=0.1974
2024-11-08 15:14:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 503, Chunk 3: Final Score=0.1221, BM25=0.0000, FAISS=0.4232, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 503, Chunk 4: Final Score=0.0834, BM25=0.0000, FAISS=0.2891, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 336, Chunk 3: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:14:58:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:14:58:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:14:58:INFO:utils.RAGProcessor:Query Features - Length: 9, Diversity: 0.90
2024-11-08 15:14:58:INFO:__main__:================================================================= QID: 74 =================================================================
2024-11-08 15:15:00:INFO:utils.rag_processor.query_processor:query分詞結果: 2022/虧損/每股/多少/季度/泰車/盈餘/基本每股盈餘/基本
2024-11-08 15:15:00:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:15:00:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 569, Chunk 1, Score: 16.2627, Term Importance: 1.7880, Semantic Similarity: 0.9866, Query Coverage: 1.7943, Position Score: 0.0072, Term Density: 1.6148, Context Similarity: 13.6285, Frequency: [('每股', 5), ('虧損', 5), ('盈餘', 5), ('基本', 2), ('基本每股盈餘', 2)]
2024-11-08 15:15:00:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 569, Chunk 0, Score: 4.5209, Term Importance: 0.2595, Semantic Similarity: 0.9870, Query Coverage: 0.9533, Position Score: 0.5371, Term Density: 0.4290, Context Similarity: 4.1825, Frequency: [('每股', 1), ('虧損', 1), ('盈餘', 1)]
2024-11-08 15:15:00:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 714, Chunk 3, Score: 2.1271, Term Importance: 0.0320, Semantic Similarity: 0.9858, Query Coverage: 0.2664, Position Score: 0.7228, Term Density: 0.1199, Context Similarity: 1.4038, Frequency: [('每股', 1)]
2024-11-08 15:15:00:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 714, Chunk 3, Score: 2.1271, Term Importance: 0.0320, Semantic Similarity: 0.9858, Query Coverage: 0.2664, Position Score: 0.7228, Term Density: 0.1199, Context Similarity: 1.4038, Frequency: [('每股', 1)]
2024-11-08 15:15:00:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 714, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9855, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:15:04:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:04:INFO:utils.RAGProcessor:FAISS Score: [0.6494], PDF: 569, Chunk: 0, metadata: [{}]
2024-11-08 15:15:04:INFO:utils.RAGProcessor:FAISS Score: [0.6688], PDF: 569, Chunk: 1, metadata: [{}]
2024-11-08 15:15:04:INFO:utils.RAGProcessor:FAISS Score: [0.8128], PDF: 947, Chunk: 3, metadata: [{}]
2024-11-08 15:15:04:INFO:utils.RAGProcessor:FAISS Score: [0.8553], PDF: 912, Chunk: 0, metadata: [{}]
2024-11-08 15:15:04:INFO:utils.RAGProcessor:FAISS Score: [0.8688], PDF: 550, Chunk: 0, metadata: [{}]
2024-11-08 15:15:04:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:15:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 569, Chunk 1: Final Score=0.8581, BM25=1.0000, FAISS=0.9119, Importance=1.0000, Semantic=0.7233, Coverage=1.0000, Position=0.0099, Density=1.0000, Context=1.0000
2024-11-08 15:15:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 569, Chunk 0: Final Score=0.6154, BM25=0.2780, FAISS=1.0000, Importance=0.1451, Semantic=1.0000, Coverage=0.5313, Position=0.7430, Density=0.2657, Context=0.3069
2024-11-08 15:15:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 714, Chunk 3: Final Score=0.1745, BM25=0.1308, FAISS=0.0000, Importance=0.0179, Semantic=0.1995, Coverage=0.1485, Position=1.0000, Density=0.0742, Context=0.1030
2024-11-08 15:15:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 947, Chunk 3: Final Score=0.0736, BM25=0.0000, FAISS=0.2551, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 912, Chunk 0: Final Score=0.0178, BM25=0.0000, FAISS=0.0617, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 550, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 714, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:04:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:04:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:15:04:INFO:utils.RAGProcessor:Query Features - Length: 9, Diversity: 0.90
2024-11-08 15:15:04:INFO:__main__:================================================================= QID: 75 =================================================================
2024-11-08 15:15:06:INFO:utils.rag_processor.query_processor:query分詞結果: 2022/衍生/工具/交易/有無/長榮/季/情事/從事
2024-11-08 15:15:06:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:15:06:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 71, Chunk 0, Score: 8.0994, Term Importance: 0.7849, Semantic Similarity: 0.9906, Query Coverage: 1.1148, Position Score: 0.0164, Term Density: 0.5584, Context Similarity: 7.8705, Frequency: [('交易', 4), ('從事', 1), ('衍生', 1), ('工具', 1)]
2024-11-08 15:15:06:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 145, Chunk 1, Score: 2.8343, Term Importance: 1.6114, Semantic Similarity: 0.9902, Query Coverage: 0.4193, Position Score: 0.0122, Term Density: 0.1117, Context Similarity: 4.2881, Frequency: [('工具', 2), ('長榮', 1)]
2024-11-08 15:15:06:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 344, Chunk 4, Score: 2.5361, Term Importance: 0.2097, Semantic Similarity: 0.9885, Query Coverage: 0.2973, Position Score: 0.0536, Term Density: 0.2108, Context Similarity: 8.7209, Frequency: [('長榮', 3), ('交易', 2)]
2024-11-08 15:15:06:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 178, Chunk 0, Score: 2.2437, Term Importance: 3.1805, Semantic Similarity: 0.9880, Query Coverage: 0.2973, Position Score: 0.0184, Term Density: 0.0770, Context Similarity: 5.4176, Frequency: [('長榮', 2), ('交易', 1)]
2024-11-08 15:15:06:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 178, Chunk 0, Score: 2.2437, Term Importance: 3.1805, Semantic Similarity: 0.9880, Query Coverage: 0.2973, Position Score: 0.0184, Term Density: 0.0770, Context Similarity: 5.4176, Frequency: [('長榮', 2), ('交易', 1)]
2024-11-08 15:15:08:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:08:INFO:utils.RAGProcessor:FAISS Score: [0.9442], PDF: 178, Chunk: 0, metadata: [{}]
2024-11-08 15:15:08:INFO:utils.RAGProcessor:FAISS Score: [0.9442], PDF: 178, Chunk: 0, metadata: [{}]
2024-11-08 15:15:08:INFO:utils.RAGProcessor:FAISS Score: [0.9476], PDF: 351, Chunk: 0, metadata: [{}]
2024-11-08 15:15:08:INFO:utils.RAGProcessor:FAISS Score: [0.9807], PDF: 145, Chunk: 1, metadata: [{}]
2024-11-08 15:15:08:INFO:utils.RAGProcessor:FAISS Score: [0.9928], PDF: 145, Chunk: 0, metadata: [{}]
2024-11-08 15:15:08:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:15:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 71, Chunk 0: Final Score=0.6160, BM25=1.0000, FAISS=0.0000, Importance=0.1936, Semantic=1.0000, Coverage=1.0000, Position=0.1024, Density=1.0000, Context=0.8082
2024-11-08 15:15:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 178, Chunk 0: Final Score=0.3153, BM25=0.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.0000, Coverage=0.0000, Position=0.1513, Density=0.0000, Context=0.2548
2024-11-08 15:15:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 351, Chunk 0: Final Score=0.2684, BM25=0.0000, FAISS=0.9305, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 344, Chunk 4: Final Score=0.2107, BM25=0.0499, FAISS=0.0000, Importance=0.0000, Semantic=0.1937, Coverage=0.0000, Position=1.0000, Density=0.2779, Context=1.0000
2024-11-08 15:15:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 145, Chunk 1: Final Score=0.1855, BM25=0.1009, FAISS=0.2478, Importance=0.4718, Semantic=0.8204, Coverage=0.1493, Position=0.0000, Density=0.0720, Context=0.0000
2024-11-08 15:15:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 145, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:08:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:08:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:15:08:INFO:utils.RAGProcessor:Query Features - Length: 9, Diversity: 0.90
2024-11-08 15:15:08:INFO:__main__:================================================================= QID: 76 =================================================================
2024-11-08 15:15:09:INFO:utils.rag_processor.query_processor:query分詞結果: 2022/研華/多少/季度/子公司/營業收入/股份/有限/收入/營業
2024-11-08 15:15:09:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:15:09:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 211, Chunk 0, Score: 10.1965, Term Importance: 4.8377, Semantic Similarity: 0.9838, Query Coverage: 1.1494, Position Score: 0.0124, Term Density: 0.3260, Context Similarity: 6.3628, Frequency: [('營業', 8), ('收入', 5), ('研華', 1), ('股份', 1), ('有限', 1), ('子公司', 1), ('營業收入', 1)]
2024-11-08 15:15:09:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 778, Chunk 0, Score: 6.4471, Term Importance: 1.6200, Semantic Similarity: 0.9799, Query Coverage: 0.6519, Position Score: 0.2150, Term Density: 0.6009, Context Similarity: 3.4738, Frequency: [('股份', 2), ('有限', 2), ('研華', 2), ('子公司', 1)]
2024-11-08 15:15:09:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 696, Chunk 1, Score: 5.1791, Term Importance: 7.5885, Semantic Similarity: 0.9845, Query Coverage: 0.4687, Position Score: 0.0267, Term Density: 0.5498, Context Similarity: 32.7441, Frequency: [('有限', 15), ('股份', 13), ('子公司', 1)]
2024-11-08 15:15:09:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 211, Chunk 1, Score: 5.1104, Term Importance: 3.6151, Semantic Similarity: 0.9829, Query Coverage: 0.6519, Position Score: 0.4711, Term Density: 0.3260, Context Similarity: 1.2885, Frequency: [('研華', 1), ('股份', 1), ('有限', 1), ('子公司', 1)]
2024-11-08 15:15:09:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 696, Chunk 2, Score: 4.8608, Term Importance: 0.2493, Semantic Similarity: 0.9816, Query Coverage: 0.4974, Position Score: 0.0767, Term Density: 0.2487, Context Similarity: 4.3145, Frequency: [('營業', 2), ('收入', 1), ('營業收入', 1)]
2024-11-08 15:15:17:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:17:INFO:utils.RAGProcessor:FAISS Score: [0.5587], PDF: 211, Chunk: 0, metadata: [{}]
2024-11-08 15:15:17:INFO:utils.RAGProcessor:FAISS Score: [0.6269], PDF: 211, Chunk: 1, metadata: [{}]
2024-11-08 15:15:17:INFO:utils.RAGProcessor:FAISS Score: [0.8510], PDF: 778, Chunk: 0, metadata: [{}]
2024-11-08 15:15:17:INFO:utils.RAGProcessor:FAISS Score: [0.9273], PDF: 778, Chunk: 2, metadata: [{}]
2024-11-08 15:15:17:INFO:utils.RAGProcessor:FAISS Score: [0.9854], PDF: 122, Chunk: 1, metadata: [{}]
2024-11-08 15:15:17:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:15:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 211, Chunk 0: Final Score=0.7389, BM25=1.0000, FAISS=1.0000, Importance=0.6252, Semantic=0.8433, Coverage=1.0000, Position=0.0000, Density=0.2194, Context=0.1613
2024-11-08 15:15:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 211, Chunk 1: Final Score=0.4631, BM25=0.0468, FAISS=0.8402, Importance=0.4586, Semantic=0.6640, Coverage=0.2692, Position=1.0000, Density=0.2194, Context=0.0000
2024-11-08 15:15:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 778, Chunk 0: Final Score=0.3806, BM25=0.2973, FAISS=0.3151, Importance=0.1868, Semantic=0.0000, Coverage=0.2692, Position=0.4417, Density=1.0000, Context=0.0695
2024-11-08 15:15:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 696, Chunk 1: Final Score=0.2651, BM25=0.0597, FAISS=0.0000, Importance=1.0000, Semantic=1.0000, Coverage=0.0000, Position=0.0310, Density=0.8549, Context=1.0000
2024-11-08 15:15:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 696, Chunk 2: Final Score=0.0518, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.3745, Coverage=0.0423, Position=0.1402, Density=0.0000, Context=0.0962
2024-11-08 15:15:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 778, Chunk 2: Final Score=0.0393, BM25=0.0000, FAISS=0.1362, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 122, Chunk 1: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:17:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:17:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:15:17:INFO:utils.RAGProcessor:Query Features - Length: 10, Diversity: 0.91
2024-11-08 15:15:17:INFO:__main__:================================================================= QID: 77 =================================================================
2024-11-08 15:15:19:INFO:utils.rag_processor.query_processor:query分詞結果: 記錄/工具/浮動/金融/利率/第一季/金額/台泥/負債/年內/所/5/一季度/2022/第一季度/季度/到期/第一/多少
2024-11-08 15:15:19:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:15:19:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 843, Chunk 0, Score: 16.2252, Term Importance: 3.4780, Semantic Similarity: 0.9942, Query Coverage: 0.8094, Position Score: 0.0186, Term Density: 0.7631, Context Similarity: 8.3064, Frequency: [('5', 7), ('負債', 6), ('利率', 4), ('工具', 4), ('金融', 3), ('浮動', 2), ('到期', 1), ('所', 1)]
2024-11-08 15:15:19:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 977, Chunk 3, Score: 5.1543, Term Importance: 0.0931, Semantic Similarity: 0.9913, Query Coverage: 0.2616, Position Score: 0.0415, Term Density: 0.2282, Context Similarity: 5.3661, Frequency: [('負債', 2), ('所', 1), ('金融', 1), ('工具', 1)]
2024-11-08 15:15:19:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 977, Chunk 3, Score: 5.1543, Term Importance: 0.0931, Semantic Similarity: 0.9913, Query Coverage: 0.2616, Position Score: 0.0415, Term Density: 0.2282, Context Similarity: 5.3661, Frequency: [('負債', 2), ('所', 1), ('金融', 1), ('工具', 1)]
2024-11-08 15:15:19:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 843, Chunk 1, Score: 4.9859, Term Importance: 1.4017, Semantic Similarity: 0.9933, Query Coverage: 0.2251, Position Score: 0.0346, Term Density: 0.1936, Context Similarity: 6.3461, Frequency: [('到期', 3), ('金額', 1), ('負債', 1)]
2024-11-08 15:15:19:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 977, Chunk 2, Score: 4.4807, Term Importance: 0.1653, Semantic Similarity: 0.9909, Query Coverage: 0.2099, Position Score: 0.0322, Term Density: 0.1792, Context Similarity: 4.6435, Frequency: [('所', 2), ('2022', 2), ('負債', 1)]
2024-11-08 15:15:20:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:20:INFO:utils.RAGProcessor:FAISS Score: [0.6995], PDF: 843, Chunk: 0, metadata: [{}]
2024-11-08 15:15:20:INFO:utils.RAGProcessor:FAISS Score: [0.9310], PDF: 843, Chunk: 9, metadata: [{}]
2024-11-08 15:15:20:INFO:utils.RAGProcessor:FAISS Score: [0.9484], PDF: 843, Chunk: 6, metadata: [{}]
2024-11-08 15:15:20:INFO:utils.RAGProcessor:FAISS Score: [0.9978], PDF: 843, Chunk: 11, metadata: [{}]
2024-11-08 15:15:20:INFO:utils.RAGProcessor:FAISS Score: [0.9989], PDF: 843, Chunk: 4, metadata: [{}]
2024-11-08 15:15:20:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:15:20:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 843, Chunk 0: Final Score=0.9038, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:15:20:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 843, Chunk 1: Final Score=0.1619, BM25=0.0430, FAISS=0.0000, Importance=0.3866, Semantic=0.7261, Coverage=0.0253, Position=0.7003, Density=0.0246, Context=0.4648
2024-11-08 15:15:20:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 977, Chunk 3: Final Score=0.1495, BM25=0.0573, FAISS=0.0000, Importance=0.0000, Semantic=0.1118, Coverage=0.0861, Position=1.0000, Density=0.0840, Context=0.1973
2024-11-08 15:15:20:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 843, Chunk 9: Final Score=0.0653, BM25=0.0000, FAISS=0.2265, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:20:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 977, Chunk 2: Final Score=0.0572, BM25=0.0000, FAISS=0.0000, Importance=0.0213, Semantic=0.0000, Coverage=0.0000, Position=0.5952, Density=0.0000, Context=0.0000
2024-11-08 15:15:20:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 843, Chunk 6: Final Score=0.0486, BM25=0.0000, FAISS=0.1684, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:20:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 843, Chunk 11: Final Score=0.0010, BM25=0.0000, FAISS=0.0034, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:20:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 843, Chunk 4: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:20:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:20:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:15:20:INFO:utils.RAGProcessor:Query Features - Length: 19, Diversity: 0.95
2024-11-08 15:15:20:INFO:__main__:================================================================= QID: 78 =================================================================
2024-11-08 15:15:22:INFO:utils.rag_processor.query_processor:query分詞結果: 稅前/科技/第三/多少/淨利/金額/損益/綜合/顯示/智邦/第三季/損益表/股份/科技股份/有限/科技股/2023
2024-11-08 15:15:22:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:15:22:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 119, Chunk 0, Score: 11.2967, Term Importance: 5.0818, Semantic Similarity: 0.9955, Query Coverage: 1.0057, Position Score: 0.0057, Term Density: 0.5224, Context Similarity: 7.6095, Frequency: [('損益', 9), ('綜合', 5), ('金額', 4), ('淨利', 3), ('智邦', 1), ('科技', 1), ('股份', 1), ('科技股', 1), ('科技股份', 1), ('有限', 1)]
2024-11-08 15:15:22:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 410, Chunk 0, Score: 6.5713, Term Importance: 2.4231, Semantic Similarity: 0.9911, Query Coverage: 0.6146, Position Score: 0.0531, Term Density: 0.5745, Context Similarity: 3.6780, Frequency: [('智邦', 2), ('科技', 2), ('股份', 2), ('科技股', 2), ('科技股份', 2), ('有限', 2), ('綜合', 1), ('損益', 1), ('損益表', 1)]
2024-11-08 15:15:22:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 642, Chunk 0, Score: 6.2904, Term Importance: 3.8657, Semantic Similarity: 0.9936, Query Coverage: 0.6146, Position Score: 0.0074, Term Density: 0.2872, Context Similarity: 8.2187, Frequency: [('損益', 7), ('綜合', 6), ('股份', 3), ('淨利', 2), ('智邦', 1), ('科技', 1), ('科技股', 1), ('科技股份', 1), ('有限', 1)]
2024-11-08 15:15:22:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 960, Chunk 0, Score: 4.9609, Term Importance: 8.3487, Semantic Similarity: 0.9901, Query Coverage: 0.4524, Position Score: 0.0246, Term Density: 0.4328, Context Similarity: 3.1326, Frequency: [('智邦', 5), ('科技', 2), ('股份', 2), ('科技股', 2), ('科技股份', 2), ('有限', 2), ('金額', 1)]
2024-11-08 15:15:22:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 796, Chunk 0, Score: 4.6338, Term Importance: 3.4995, Semantic Similarity: 0.9946, Query Coverage: 0.5907, Position Score: 0.0054, Term Density: 0.5838, Context Similarity: 7.7838, Frequency: [('金額', 6), ('損益', 4), ('綜合', 2), ('智邦', 1), ('科技', 1), ('股份', 1), ('科技股', 1), ('科技股份', 1), ('有限', 1)]
2024-11-08 15:15:25:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:25:INFO:utils.RAGProcessor:FAISS Score: [0.5713], PDF: 119, Chunk: 0, metadata: [{}]
2024-11-08 15:15:25:INFO:utils.RAGProcessor:FAISS Score: [0.6557], PDF: 642, Chunk: 0, metadata: [{}]
2024-11-08 15:15:25:INFO:utils.RAGProcessor:FAISS Score: [0.6823], PDF: 796, Chunk: 0, metadata: [{}]
2024-11-08 15:15:25:INFO:utils.RAGProcessor:FAISS Score: [0.8517], PDF: 578, Chunk: 0, metadata: [{}]
2024-11-08 15:15:25:INFO:utils.RAGProcessor:FAISS Score: [0.8872], PDF: 410, Chunk: 0, metadata: [{}]
2024-11-08 15:15:25:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:15:25:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 119, Chunk 0: Final Score=0.8689, BM25=1.0000, FAISS=1.0000, Importance=0.4487, Semantic=1.0000, Coverage=1.0000, Position=0.0074, Density=0.7930, Context=0.8802
2024-11-08 15:15:25:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 796, Chunk 0: Final Score=0.4674, BM25=0.0000, FAISS=0.6487, Importance=0.1817, Semantic=0.8226, Coverage=0.2500, Position=0.0000, Density=1.0000, Context=0.9145
2024-11-08 15:15:25:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 642, Chunk 0: Final Score=0.4043, BM25=0.2486, FAISS=0.7330, Importance=0.2434, Semantic=0.6446, Coverage=0.2931, Position=0.0411, Density=0.0000, Context=1.0000
2024-11-08 15:15:25:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 410, Chunk 0: Final Score=0.3551, BM25=0.2908, FAISS=0.0000, Importance=0.0000, Semantic=0.1713, Coverage=0.2931, Position=1.0000, Density=0.9687, Context=0.1072
2024-11-08 15:15:25:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 960, Chunk 0: Final Score=0.1209, BM25=0.0491, FAISS=0.0000, Importance=1.0000, Semantic=0.0000, Coverage=0.0000, Position=0.4032, Density=0.4908, Context=0.0000
2024-11-08 15:15:25:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 578, Chunk 0: Final Score=0.0324, BM25=0.0000, FAISS=0.1124, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:25:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:25:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:15:25:INFO:utils.RAGProcessor:Query Features - Length: 17, Diversity: 0.94
2024-11-08 15:15:25:INFO:__main__:================================================================= QID: 79 =================================================================
2024-11-08 15:15:26:INFO:utils.rag_processor.query_processor:query分詞結果: 2022/當期/銷貨收入/出售/泰車/之何/季/銷貨/列為/收入
2024-11-08 15:15:26:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:15:26:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 65, Chunk 0, Score: 14.7537, Term Importance: 0.5389, Semantic Similarity: 0.9817, Query Coverage: 1.6028, Position Score: 0.0764, Term Density: 1.0804, Context Similarity: 5.7802, Frequency: [('收入', 4), ('銷貨', 3), ('銷貨收入', 3), ('出售', 1), ('當期', 1), ('列為', 1)]
2024-11-08 15:15:26:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 300, Chunk 2, Score: 5.5442, Term Importance: 0.5469, Semantic Similarity: 0.9839, Query Coverage: 0.5580, Position Score: 0.0385, Term Density: 0.2790, Context Similarity: 2.2822, Frequency: [('銷貨', 2), ('收入', 1), ('銷貨收入', 1)]
2024-11-08 15:15:26:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 300, Chunk 9, Score: 5.4877, Term Importance: 0.2811, Semantic Similarity: 0.9863, Query Coverage: 0.5580, Position Score: 0.1528, Term Density: 0.6521, Context Similarity: 3.2617, Frequency: [('銷貨', 4), ('收入', 2), ('銷貨收入', 1)]
2024-11-08 15:15:26:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 300, Chunk 1, Score: 4.7617, Term Importance: 0.3820, Semantic Similarity: 0.9839, Query Coverage: 0.5580, Position Score: 0.0190, Term Density: 0.2790, Context Similarity: 3.2004, Frequency: [('收入', 2), ('銷貨', 1), ('銷貨收入', 1)]
2024-11-08 15:15:26:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 912, Chunk 0, Score: 3.3985, Term Importance: 1.0139, Semantic Similarity: 0.9827, Query Coverage: 0.4169, Position Score: 0.0124, Term Density: 0.1510, Context Similarity: 2.0982, Frequency: [('當期', 1), ('收入', 1)]
2024-11-08 15:15:27:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:27:INFO:utils.RAGProcessor:FAISS Score: [0.8416], PDF: 912, Chunk: 0, metadata: [{}]
2024-11-08 15:15:27:INFO:utils.RAGProcessor:FAISS Score: [0.9141], PDF: 300, Chunk: 2, metadata: [{}]
2024-11-08 15:15:27:INFO:utils.RAGProcessor:FAISS Score: [0.9231], PDF: 912, Chunk: 3, metadata: [{}]
2024-11-08 15:15:27:INFO:utils.RAGProcessor:FAISS Score: [0.9369], PDF: 300, Chunk: 6, metadata: [{}]
2024-11-08 15:15:27:INFO:utils.RAGProcessor:FAISS Score: [0.9407], PDF: 550, Chunk: 0, metadata: [{}]
2024-11-08 15:15:27:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:15:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 65, Chunk 0: Final Score=0.5823, BM25=1.0000, FAISS=0.0000, Importance=0.3518, Semantic=0.0000, Coverage=1.0000, Position=0.4556, Density=1.0000, Context=1.0000
2024-11-08 15:15:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 300, Chunk 9: Final Score=0.3222, BM25=0.1840, FAISS=0.0000, Importance=0.0000, Semantic=1.0000, Coverage=0.1190, Position=1.0000, Density=0.5391, Context=0.3160
2024-11-08 15:15:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 912, Chunk 0: Final Score=0.3040, BM25=0.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.2025, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 300, Chunk 2: Final Score=0.2106, BM25=0.1890, FAISS=0.2685, Importance=0.3626, Semantic=0.4641, Coverage=0.1190, Position=0.1854, Density=0.1377, Context=0.0500
2024-11-08 15:15:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 300, Chunk 1: Final Score=0.1164, BM25=0.1200, FAISS=0.0000, Importance=0.1376, Semantic=0.4711, Coverage=0.1190, Position=0.0468, Density=0.1377, Context=0.2993
2024-11-08 15:15:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 912, Chunk 3: Final Score=0.0512, BM25=0.0000, FAISS=0.1775, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 300, Chunk 6: Final Score=0.0110, BM25=0.0000, FAISS=0.0382, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:27:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 550, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:27:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:27:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:15:27:INFO:utils.RAGProcessor:Query Features - Length: 10, Diversity: 0.91
2024-11-08 15:15:27:INFO:__main__:================================================================= QID: 80 =================================================================
2024-11-08 15:15:29:INFO:utils.rag_processor.query_processor:query分詞結果: 2022/半導/導體/有限/淨利/瑞昱/股份/季/半導體/多少
2024-11-08 15:15:29:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:15:29:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 386, Chunk 3, Score: 6.2679, Term Importance: 9.8482, Semantic Similarity: 0.9863, Query Coverage: 0.6916, Position Score: 0.0218, Term Density: 0.8645, Context Similarity: 22.3015, Frequency: [('股份', 14), ('有限', 14), ('瑞昱', 10), ('半導', 10), ('導體', 10), ('半導體', 10)]
2024-11-08 15:15:29:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 386, Chunk 4, Score: 5.7106, Term Importance: 2.0708, Semantic Similarity: 0.9885, Query Coverage: 0.6916, Position Score: 0.0190, Term Density: 0.4611, Context Similarity: 9.9479, Frequency: [('有限', 8), ('股份', 4), ('瑞昱', 3), ('半導', 3), ('導體', 3), ('半導體', 3)]
2024-11-08 15:15:29:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 213, Chunk 1, Score: 5.5329, Term Importance: 2.8954, Semantic Similarity: 0.9876, Query Coverage: 0.8762, Position Score: 0.0084, Term Density: 0.3458, Context Similarity: 3.0359, Frequency: [('淨利', 3), ('瑞昱', 1), ('半導', 1), ('導體', 1), ('半導體', 1), ('股份', 1), ('有限', 1)]
2024-11-08 15:15:29:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 837, Chunk 0, Score: 5.2239, Term Importance: 5.9820, Semantic Similarity: 0.9851, Query Coverage: 0.6916, Position Score: 0.0495, Term Density: 0.3458, Context Similarity: 5.1860, Frequency: [('瑞昱', 2), ('半導', 2), ('導體', 2), ('半導體', 2), ('股份', 2), ('有限', 2)]
2024-11-08 15:15:29:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 386, Chunk 5, Score: 4.9525, Term Importance: 1.0040, Semantic Similarity: 0.9880, Query Coverage: 0.6916, Position Score: 0.0385, Term Density: 0.4611, Context Similarity: 8.5801, Frequency: [('有限', 8), ('股份', 5), ('瑞昱', 1), ('半導', 1), ('導體', 1), ('半導體', 1)]
2024-11-08 15:15:30:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:30:INFO:utils.RAGProcessor:FAISS Score: [0.6113], PDF: 213, Chunk: 0, metadata: [{}]
2024-11-08 15:15:30:INFO:utils.RAGProcessor:FAISS Score: [0.6624], PDF: 213, Chunk: 1, metadata: [{}]
2024-11-08 15:15:30:INFO:utils.RAGProcessor:FAISS Score: [0.8037], PDF: 837, Chunk: 0, metadata: [{}]
2024-11-08 15:15:30:INFO:utils.RAGProcessor:FAISS Score: [0.8358], PDF: 386, Chunk: 4, metadata: [{}]
2024-11-08 15:15:30:INFO:utils.RAGProcessor:FAISS Score: [0.9111], PDF: 386, Chunk: 3, metadata: [{}]
2024-11-08 15:15:30:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:15:30:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 213, Chunk 1: Final Score=0.5142, BM25=0.4412, FAISS=0.8294, Importance=0.2139, Semantic=0.7508, Coverage=1.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:30:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 386, Chunk 3: Final Score=0.4816, BM25=1.0000, FAISS=0.0000, Importance=1.0000, Semantic=0.3541, Coverage=0.0000, Position=0.3258, Density=1.0000, Context=1.0000
2024-11-08 15:15:30:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 386, Chunk 4: Final Score=0.3565, BM25=0.5763, FAISS=0.2512, Importance=0.1206, Semantic=1.0000, Coverage=0.0000, Position=0.2579, Density=0.2222, Context=0.3588
2024-11-08 15:15:30:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 213, Chunk 0: Final Score=0.2885, BM25=0.0000, FAISS=1.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:30:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 837, Chunk 0: Final Score=0.2525, BM25=0.2063, FAISS=0.3583, Importance=0.5629, Semantic=0.0000, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.1116
2024-11-08 15:15:30:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 386, Chunk 5: Final Score=0.1833, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.8705, Coverage=0.0000, Position=0.7323, Density=0.2222, Context=0.2878
2024-11-08 15:15:30:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:30:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:15:30:INFO:utils.RAGProcessor:Query Features - Length: 10, Diversity: 0.91
2024-11-08 15:15:30:INFO:__main__:================================================================= QID: 81 =================================================================
2024-11-08 15:15:32:INFO:utils.rag_processor.query_processor:query分詞結果: 台達電/負債/多少/約當現金/負債表/合併資產負債表/資產/合併/金額/季/現金/2023
2024-11-08 15:15:32:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:15:32:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 671, Chunk 0, Score: 9.8657, Term Importance: 7.1903, Semantic Similarity: 0.9922, Query Coverage: 1.2057, Position Score: 0.0065, Term Density: 0.7090, Context Similarity: 14.1202, Frequency: [('資產', 20), ('金額', 3), ('現金', 2), ('合併', 1), ('負債', 1), ('負債表', 1), ('合併資產負債表', 1), ('約當現金', 1)]
2024-11-08 15:15:32:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 671, Chunk 1, Score: 6.4437, Term Importance: 7.1932, Semantic Similarity: 0.9932, Query Coverage: 0.7659, Position Score: 0.0061, Term Density: 0.3969, Context Similarity: 14.3331, Frequency: [('負債', 17), ('合併', 3), ('金額', 3), ('資產', 1), ('負債表', 1), ('合併資產負債表', 1)]
2024-11-08 15:15:32:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 849, Chunk 0, Score: 2.3836, Term Importance: 3.7667, Semantic Similarity: 0.9918, Query Coverage: 0.2328, Position Score: 0.0227, Term Density: 0.1879, Context Similarity: 10.8596, Frequency: [('資產', 5), ('負債', 1)]
2024-11-08 15:15:32:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 849, Chunk 1, Score: 2.0670, Term Importance: 0.8608, Semantic Similarity: 0.9923, Query Coverage: 0.2088, Position Score: 0.0268, Term Density: 0.1253, Context Similarity: 7.7729, Frequency: [('資產', 4), ('金額', 1)]
2024-11-08 15:15:32:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 835, Chunk 1, Score: 1.6666, Term Importance: 0.1696, Semantic Similarity: 0.9856, Query Coverage: 0.2088, Position Score: 0.0221, Term Density: 0.0626, Context Similarity: 3.8893, Frequency: [('合併', 1), ('金額', 1)]
2024-11-08 15:15:33:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:33:INFO:utils.RAGProcessor:FAISS Score: [0.6188], PDF: 671, Chunk: 0, metadata: [{}]
2024-11-08 15:15:33:INFO:utils.RAGProcessor:FAISS Score: [0.6559], PDF: 671, Chunk: 1, metadata: [{}]
2024-11-08 15:15:33:INFO:utils.RAGProcessor:FAISS Score: [0.9049], PDF: 835, Chunk: 0, metadata: [{}]
2024-11-08 15:15:33:INFO:utils.RAGProcessor:FAISS Score: [0.9579], PDF: 849, Chunk: 1, metadata: [{}]
2024-11-08 15:15:33:INFO:utils.RAGProcessor:FAISS Score: [0.9989], PDF: 58, Chunk: 2, metadata: [{}]
2024-11-08 15:15:33:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:15:33:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 671, Chunk 0: Final Score=0.8938, BM25=1.0000, FAISS=1.0000, Importance=0.9996, Semantic=0.8575, Coverage=1.0000, Position=0.0198, Density=1.0000, Context=0.9796
2024-11-08 15:15:33:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 671, Chunk 1: Final Score=0.6588, BM25=0.5826, FAISS=0.9023, Importance=1.0000, Semantic=1.0000, Coverage=0.5588, Position=0.0000, Density=0.5171, Context=1.0000
2024-11-08 15:15:33:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 849, Chunk 1: Final Score=0.2377, BM25=0.0488, FAISS=0.1078, Importance=0.0984, Semantic=0.8757, Coverage=0.0000, Position=1.0000, Density=0.0969, Context=0.3719
2024-11-08 15:15:33:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 849, Chunk 0: Final Score=0.2227, BM25=0.0874, FAISS=0.0000, Importance=0.5121, Semantic=0.8101, Coverage=0.0240, Position=0.8044, Density=0.1938, Context=0.6674
2024-11-08 15:15:33:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 835, Chunk 1: Final Score=0.0744, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.7734, Density=0.0000, Context=0.0000
2024-11-08 15:15:33:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 835, Chunk 0: Final Score=0.0713, BM25=0.0000, FAISS=0.2473, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:33:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 58, Chunk 2: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:33:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:33:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:15:33:INFO:utils.RAGProcessor:Query Features - Length: 12, Diversity: 0.92
2024-11-08 15:15:33:INFO:__main__:================================================================= QID: 82 =================================================================
2024-11-08 15:15:34:INFO:utils.rag_processor.query_processor:query分詞結果: 2022/研華/損益/合併/季/總/多少
2024-11-08 15:15:34:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:15:34:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 831, Chunk 0, Score: 6.5500, Term Importance: 2.7500, Semantic Similarity: 0.9866, Query Coverage: 1.0319, Position Score: 0.0046, Term Density: 0.3905, Context Similarity: 14.0031, Frequency: [('損益', 9), ('合併', 5), ('總', 2), ('研華', 1)]
2024-11-08 15:15:34:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 838, Chunk 0, Score: 4.3823, Term Importance: 0.8955, Semantic Similarity: 0.9861, Query Coverage: 0.5368, Position Score: 0.0193, Term Density: 0.1877, Context Similarity: 10.7634, Frequency: [('合併', 8), ('研華', 2), ('損益', 1)]
2024-11-08 15:15:34:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 590, Chunk 0, Score: 3.6083, Term Importance: 1.9668, Semantic Similarity: 0.9875, Query Coverage: 0.5368, Position Score: 0.0040, Term Density: 0.1856, Context Similarity: 11.1031, Frequency: [('損益', 6), ('合併', 3), ('研華', 1)]
2024-11-08 15:15:34:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 373, Chunk 2, Score: 3.4314, Term Importance: 0.5758, Semantic Similarity: 0.9840, Query Coverage: 0.3555, Position Score: 0.0227, Term Density: 0.2784, Context Similarity: 13.0378, Frequency: [('損益', 7), ('合併', 1)]
2024-11-08 15:15:34:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 373, Chunk 1, Score: 3.2506, Term Importance: 0.0703, Semantic Similarity: 0.9847, Query Coverage: 0.3555, Position Score: 0.0417, Term Density: 0.1244, Context Similarity: 3.0937, Frequency: [('損益', 2), ('合併', 1)]
2024-11-08 15:15:37:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:37:INFO:utils.RAGProcessor:FAISS Score: [0.6480], PDF: 590, Chunk: 0, metadata: [{}]
2024-11-08 15:15:37:INFO:utils.RAGProcessor:FAISS Score: [0.6581], PDF: 831, Chunk: 0, metadata: [{}]
2024-11-08 15:15:37:INFO:utils.RAGProcessor:FAISS Score: [0.7830], PDF: 838, Chunk: 0, metadata: [{}]
2024-11-08 15:15:37:INFO:utils.RAGProcessor:FAISS Score: [0.7980], PDF: 679, Chunk: 1, metadata: [{}]
2024-11-08 15:15:37:INFO:utils.RAGProcessor:FAISS Score: [0.7980], PDF: 679, Chunk: 1, metadata: [{}]
2024-11-08 15:15:37:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:15:37:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 831, Chunk 0: Final Score=0.8673, BM25=1.0000, FAISS=0.9329, Importance=1.0000, Semantic=0.7575, Coverage=1.0000, Position=0.0152, Density=1.0000, Context=1.0000
2024-11-08 15:15:37:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 590, Chunk 0: Final Score=0.4898, BM25=0.1084, FAISS=1.0000, Importance=0.7077, Semantic=1.0000, Coverage=0.2679, Position=0.0000, Density=0.2299, Context=0.7342
2024-11-08 15:15:37:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 838, Chunk 0: Final Score=0.2925, BM25=0.3430, FAISS=0.0998, Importance=0.3079, Semantic=0.6061, Coverage=0.2679, Position=0.4053, Density=0.2377, Context=0.7030
2024-11-08 15:15:37:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 373, Chunk 2: Final Score=0.1878, BM25=0.0548, FAISS=0.0000, Importance=0.1887, Semantic=0.0000, Coverage=0.0000, Position=0.4976, Density=0.5787, Context=0.9115
2024-11-08 15:15:37:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 373, Chunk 1: Final Score=0.1114, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.1986, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:37:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 679, Chunk 1: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:37:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:37:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:15:37:INFO:utils.RAGProcessor:Query Features - Length: 7, Diversity: 0.88
2024-11-08 15:15:37:INFO:__main__:================================================================= QID: 83 =================================================================
2024-11-08 15:15:38:INFO:utils.rag_processor.query_processor:query分詞結果: 台達電/2022/金流/現金流/多少/現金/現金流入/流入/季/活動/營業/之淨
2024-11-08 15:15:38:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:15:38:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 155, Chunk 0, Score: 18.6368, Term Importance: 4.3716, Semantic Similarity: 0.9901, Query Coverage: 1.5449, Position Score: 0.0068, Term Density: 0.9270, Context Similarity: 6.9898, Frequency: [('營業', 5), ('活動', 5), ('現金', 4), ('金流', 4), ('現金流', 4), ('之淨', 4), ('流入', 2), ('現金流入', 2)]
2024-11-08 15:15:39:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 155, Chunk 1, Score: 12.7198, Term Importance: 8.1138, Semantic Similarity: 0.9908, Query Coverage: 0.9460, Position Score: 0.0109, Term Density: 1.0176, Context Similarity: 9.7981, Frequency: [('現金', 12), ('金流', 5), ('現金流', 5), ('活動', 4), ('之淨', 2)]
2024-11-08 15:15:39:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 435, Chunk 0, Score: 1.6798, Term Importance: 0.1089, Semantic Similarity: 0.9896, Query Coverage: 0.1622, Position Score: 0.6063, Term Density: 0.1946, Context Similarity: 4.7026, Frequency: [('現金', 2)]
2024-11-08 15:15:39:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 137, Chunk 0, Score: 0.9150, Term Importance: 0.6846, Semantic Similarity: 0.9885, Query Coverage: 0.0916, Position Score: 0.0163, Term Density: 0.1099, Context Similarity: 11.9965, Frequency: [('營業', 8)]
2024-11-08 15:15:39:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 197, Chunk 1, Score: 0.7256, Term Importance: 0.0333, Semantic Similarity: 0.9894, Query Coverage: 0.0916, Position Score: 0.7922, Term Density: 0.0549, Context Similarity: 1.8320, Frequency: [('營業', 1)]
2024-11-08 15:15:40:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:40:INFO:utils.RAGProcessor:FAISS Score: [0.5772], PDF: 155, Chunk: 0, metadata: [{}]
2024-11-08 15:15:40:INFO:utils.RAGProcessor:FAISS Score: [0.6700], PDF: 137, Chunk: 0, metadata: [{}]
2024-11-08 15:15:40:INFO:utils.RAGProcessor:FAISS Score: [0.6889], PDF: 155, Chunk: 1, metadata: [{}]
2024-11-08 15:15:40:INFO:utils.RAGProcessor:FAISS Score: [0.7561], PDF: 435, Chunk: 0, metadata: [{}]
2024-11-08 15:15:40:INFO:utils.RAGProcessor:FAISS Score: [0.7857], PDF: 137, Chunk: 1, metadata: [{}]
2024-11-08 15:15:40:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:15:40:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 155, Chunk 0: Final Score=0.8444, BM25=1.0000, FAISS=1.0000, Importance=0.5369, Semantic=0.7121, Coverage=1.0000, Position=0.0000, Density=0.9059, Context=0.5074
2024-11-08 15:15:40:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 155, Chunk 1: Final Score=0.6157, BM25=0.6697, FAISS=0.4646, Importance=1.0000, Semantic=1.0000, Coverage=0.5879, Position=0.0052, Density=1.0000, Context=0.7837
2024-11-08 15:15:40:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 137, Chunk 0: Final Score=0.2200, BM25=0.0106, FAISS=0.5550, Importance=0.0806, Semantic=0.0000, Coverage=0.0000, Position=0.0120, Density=0.0571, Context=1.0000
2024-11-08 15:15:40:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 435, Chunk 0: Final Score=0.2036, BM25=0.0533, FAISS=0.1422, Importance=0.0094, Semantic=0.4778, Coverage=0.0486, Position=0.7633, Density=0.1451, Context=0.2824
2024-11-08 15:15:40:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 197, Chunk 1: Final Score=0.1270, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.4011, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:40:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 137, Chunk 1: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:40:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:40:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:15:40:INFO:utils.RAGProcessor:Query Features - Length: 12, Diversity: 0.92
2024-11-08 15:15:40:INFO:__main__:================================================================= QID: 84 =================================================================
2024-11-08 15:15:43:INFO:utils.rag_processor.query_processor:query分詞結果: 權益法/保留/會計/子公司/部分/會計師/重要/影響/報表/核閱/財務報表/未經/採用/結論/2022/指出/權益/季度/泰車/非/財務/投資
2024-11-08 15:15:43:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:15:43:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 745, Chunk 1, Score: 32.5004, Term Importance: 6.5576, Semantic Similarity: 0.9941, Query Coverage: 1.4419, Position Score: 0.0427, Term Density: 1.0729, Context Similarity: 6.5040, Frequency: [('財務', 3), ('報表', 3), ('核閱', 2), ('會計', 2), ('會計師', 2), ('子公司', 2), ('採用', 2), ('權益', 2), ('權益法', 2), ('投資', 2)]
2024-11-08 15:15:43:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 745, Chunk 2, Score: 30.4798, Term Importance: 16.8644, Semantic Similarity: 0.9948, Query Coverage: 1.3474, Position Score: 0.0242, Term Density: 1.4069, Context Similarity: 8.6746, Frequency: [('財務', 8), ('會計', 5), ('會計師', 4), ('報表', 3), ('保留', 2), ('結論', 2), ('核閱', 2), ('部分', 1), ('非', 1), ('重要', 1)]
2024-11-08 15:15:44:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 745, Chunk 0, Score: 20.5666, Term Importance: 22.3588, Semantic Similarity: 0.9958, Query Coverage: 0.8550, Position Score: 0.0178, Term Density: 0.8778, Context Similarity: 14.4024, Frequency: [('財務', 9), ('核閱', 8), ('會計', 7), ('會計師', 5), ('報表', 5), ('結論', 2), ('子公司', 1), ('權益', 1), ('保留', 1), ('財務報表', 1)]
2024-11-08 15:15:44:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 723, Chunk 2, Score: 13.7677, Term Importance: 3.2306, Semantic Similarity: 0.9940, Query Coverage: 0.6200, Position Score: 0.0165, Term Density: 0.5166, Context Similarity: 10.9415, Frequency: [('權益', 7), ('子公司', 5), ('非', 3), ('投資', 2), ('會計', 2), ('財務', 2), ('會計師', 1), ('報表', 1), ('財務報表', 1)]
2024-11-08 15:15:44:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 249, Chunk 1, Score: 13.2059, Term Importance: 0.5554, Semantic Similarity: 0.9927, Query Coverage: 0.7059, Position Score: 0.0093, Term Density: 0.2811, Context Similarity: 5.8628, Frequency: [('權益', 4), ('財務', 3), ('報表', 2), ('採用', 2), ('非', 2), ('子公司', 1), ('核閱', 1), ('財務報表', 1), ('權益法', 1), ('部分', 1)]
2024-11-08 15:15:47:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:47:INFO:utils.RAGProcessor:FAISS Score: [0.5866], PDF: 745, Chunk: 2, metadata: [{}]
2024-11-08 15:15:47:INFO:utils.RAGProcessor:FAISS Score: [0.6715], PDF: 745, Chunk: 0, metadata: [{}]
2024-11-08 15:15:47:INFO:utils.RAGProcessor:FAISS Score: [0.7110], PDF: 585, Chunk: 0, metadata: [{}]
2024-11-08 15:15:47:INFO:utils.RAGProcessor:FAISS Score: [0.7357], PDF: 745, Chunk: 1, metadata: [{}]
2024-11-08 15:15:47:INFO:utils.RAGProcessor:FAISS Score: [0.7467], PDF: 1000, Chunk: 0, metadata: [{}]
2024-11-08 15:15:47:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:15:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 745, Chunk 2: Final Score=0.8523, BM25=0.8953, FAISS=1.0000, Importance=0.7480, Semantic=0.6783, Coverage=0.8850, Position=0.4464, Density=1.0000, Context=0.3293
2024-11-08 15:15:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 745, Chunk 1: Final Score=0.6026, BM25=1.0000, FAISS=0.0689, Importance=0.2753, Semantic=0.4595, Coverage=1.0000, Position=1.0000, Density=0.7033, Context=0.0751
2024-11-08 15:15:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 745, Chunk 0: Final Score=0.4825, BM25=0.3815, FAISS=0.4700, Importance=1.0000, Semantic=1.0000, Coverage=0.2859, Position=0.2545, Density=0.5300, Context=1.0000
2024-11-08 15:15:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 723, Chunk 2: Final Score=0.1190, BM25=0.0291, FAISS=0.0000, Importance=0.1227, Semantic=0.4272, Coverage=0.0000, Position=0.2151, Density=0.2092, Context=0.5947
2024-11-08 15:15:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 585, Chunk 0: Final Score=0.0644, BM25=0.0000, FAISS=0.2233, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 249, Chunk 1: Final Score=0.0121, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.1046, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:47:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 1000, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:47:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:47:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:15:47:INFO:utils.RAGProcessor:Query Features - Length: 22, Diversity: 0.96
2024-11-08 15:15:47:INFO:__main__:================================================================= QID: 85 =================================================================
2024-11-08 15:15:47:INFO:utils.rag_processor.query_processor:query分詞結果: 合併財務報表/董事會/9/簽署/股份/臨時/並在/董事/會/報表/季/6/月/轉換/股東/國巨/2022/通過/契約/合併/財務/110/有限/有關/哪家
2024-11-08 15:15:47:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:15:47:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 891, Chunk 0, Score: 29.5700, Term Importance: 16.7533, Semantic Similarity: 0.9946, Query Coverage: 1.2584, Position Score: 0.0185, Term Density: 1.1842, Context Similarity: 6.6634, Frequency: [('股份', 8), ('有限', 4), ('月', 4), ('轉換', 4), ('國巨', 2), ('110', 2), ('9', 2), ('6', 2), ('通過', 2), ('合併', 1)]
2024-11-08 15:15:47:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 760, Chunk 1, Score: 15.7299, Term Importance: 0.8983, Semantic Similarity: 0.9953, Query Coverage: 0.6761, Position Score: 0.0216, Term Density: 0.8276, Context Similarity: 6.8579, Frequency: [('月', 4), ('合併', 3), ('股份', 3), ('通過', 2), ('轉換', 2), ('董事', 1), ('董事會', 1), ('110', 1), ('9', 1), ('股東', 1)]
2024-11-08 15:15:48:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 1003, Chunk 0, Score: 11.7761, Term Importance: 0.5525, Semantic Similarity: 0.9927, Query Coverage: 0.4083, Position Score: 0.0212, Term Density: 0.4151, Context Similarity: 8.4187, Frequency: [('合併', 6), ('月', 4), ('財務', 3), ('報表', 2), ('股東', 2), ('110', 2), ('9', 2), ('6', 1), ('合併財務報表', 1)]
2024-11-08 15:15:48:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 891, Chunk 1, Score: 10.1317, Term Importance: 4.8895, Semantic Similarity: 0.9943, Query Coverage: 0.3221, Position Score: 0.0437, Term Density: 0.3130, Context Similarity: 7.7791, Frequency: [('財務', 4), ('股份', 2), ('轉換', 2), ('月', 2), ('合併', 2), ('通過', 2), ('董事', 1), ('董事會', 1)]
2024-11-08 15:15:48:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 760, Chunk 0, Score: 7.1471, Term Importance: 0.4402, Semantic Similarity: 0.9934, Query Coverage: 0.1651, Position Score: 0.0217, Term Density: 0.3610, Context Similarity: 16.3054, Frequency: [('合併', 8), ('月', 5), ('有限', 3), ('財務', 2), ('股份', 2)]
2024-11-08 15:15:48:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:48:INFO:utils.RAGProcessor:FAISS Score: [0.7506], PDF: 891, Chunk: 0, metadata: [{}]
2024-11-08 15:15:48:INFO:utils.RAGProcessor:FAISS Score: [0.9177], PDF: 891, Chunk: 6, metadata: [{}]
2024-11-08 15:15:48:INFO:utils.RAGProcessor:FAISS Score: [0.9988], PDF: 760, Chunk: 1, metadata: [{}]
2024-11-08 15:15:48:INFO:utils.RAGProcessor:FAISS Score: [1.0241], PDF: 891, Chunk: 9, metadata: [{}]
2024-11-08 15:15:48:INFO:utils.RAGProcessor:FAISS Score: [1.0309], PDF: 891, Chunk: 1, metadata: [{}]
2024-11-08 15:15:48:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:15:48:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 891, Chunk 0: Final Score=0.8334, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.7095, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=0.0000
2024-11-08 15:15:48:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 760, Chunk 1: Final Score=0.3502, BM25=0.3828, FAISS=0.1143, Importance=0.0281, Semantic=1.0000, Coverage=0.4674, Position=0.1237, Density=0.5907, Context=0.0202
2024-11-08 15:15:48:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 891, Chunk 1: Final Score=0.1955, BM25=0.1331, FAISS=0.0000, Importance=0.2727, Semantic=0.6040, Coverage=0.1435, Position=1.0000, Density=0.0000, Context=0.1157
2024-11-08 15:15:48:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 891, Chunk 6: Final Score=0.1165, BM25=0.0000, FAISS=0.4040, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:48:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 1003, Chunk 0: Final Score=0.1094, BM25=0.2064, FAISS=0.0000, Importance=0.0069, Semantic=0.0000, Coverage=0.2224, Position=0.1084, Density=0.1172, Context=0.1821
2024-11-08 15:15:48:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 760, Chunk 0: Final Score=0.0876, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.2519, Coverage=0.0000, Position=0.1272, Density=0.0551, Context=1.0000
2024-11-08 15:15:48:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 891, Chunk 9: Final Score=0.0069, BM25=0.0000, FAISS=0.0240, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:48:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:48:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:15:48:INFO:utils.RAGProcessor:Query Features - Length: 25, Diversity: 0.96
2024-11-08 15:15:48:INFO:__main__:================================================================= QID: 86 =================================================================
2024-11-08 15:15:49:INFO:utils.rag_processor.query_processor:query分詞結果: 進展/哪些/瑞昱/目前/訴訟/案件/季有/關涉/這些/專利/2023
2024-11-08 15:15:49:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:15:49:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 525, Chunk 0, Score: 5.3827, Term Importance: 0.0812, Semantic Similarity: 0.9876, Query Coverage: 0.6098, Position Score: 0.0444, Term Density: 0.2661, Context Similarity: 5.6946, Frequency: [('專利', 2), ('訴訟', 1), ('案件', 1), ('目前', 1)]
2024-11-08 15:15:49:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 189, Chunk 0, Score: 3.7282, Term Importance: 1.4351, Semantic Similarity: 0.9916, Query Coverage: 0.3578, Position Score: 0.0205, Term Density: 0.1968, Context Similarity: 14.5610, Frequency: [('案件', 4), ('目前', 4), ('專利', 3)]
2024-11-08 15:15:49:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 525, Chunk 1, Score: 3.5898, Term Importance: 0.5351, Semantic Similarity: 0.9904, Query Coverage: 0.3578, Position Score: 0.0262, Term Density: 0.1968, Context Similarity: 13.0473, Frequency: [('目前', 4), ('專利', 3), ('案件', 2)]
2024-11-08 15:15:49:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 189, Chunk 1, Score: 3.1710, Term Importance: 0.2452, Semantic Similarity: 0.9897, Query Coverage: 0.3578, Position Score: 0.3480, Term Density: 0.1968, Context Similarity: 4.3073, Frequency: [('專利', 1), ('案件', 1), ('目前', 1)]
2024-11-08 15:15:49:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 525, Chunk 2, Score: 0.9611, Term Importance: 0.2719, Semantic Similarity: 0.9858, Query Coverage: 0.1057, Position Score: 0.1919, Term Density: 0.1163, Context Similarity: 5.0419, Frequency: [('目前', 2)]
2024-11-08 15:15:50:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:50:INFO:utils.RAGProcessor:FAISS Score: [0.9883], PDF: 525, Chunk: 1, metadata: [{}]
2024-11-08 15:15:50:INFO:utils.RAGProcessor:FAISS Score: [0.9914], PDF: 757, Chunk: 0, metadata: [{}]
2024-11-08 15:15:50:INFO:utils.RAGProcessor:FAISS Score: [1.0140], PDF: 189, Chunk: 1, metadata: [{}]
2024-11-08 15:15:50:INFO:utils.RAGProcessor:FAISS Score: [1.0183], PDF: 189, Chunk: 0, metadata: [{}]
2024-11-08 15:15:50:INFO:utils.RAGProcessor:FAISS Score: [1.0202], PDF: 658, Chunk: 0, metadata: [{}]
2024-11-08 15:15:50:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:15:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 525, Chunk 1: Final Score=0.6645, BM25=0.5945, FAISS=1.0000, Importance=0.3352, Semantic=0.7931, Coverage=0.5000, Position=0.0175, Density=0.5372, Context=0.8524
2024-11-08 15:15:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 525, Chunk 0: Final Score=0.5277, BM25=1.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.3085, Coverage=1.0000, Position=0.0733, Density=1.0000, Context=0.1353
2024-11-08 15:15:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 189, Chunk 1: Final Score=0.4539, BM25=0.4998, FAISS=0.1925, Importance=0.1212, Semantic=0.6726, Coverage=0.5000, Position=1.0000, Density=0.5372, Context=0.0000
2024-11-08 15:15:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 189, Chunk 0: Final Score=0.4215, BM25=0.6258, FAISS=0.0587, Importance=1.0000, Semantic=1.0000, Coverage=0.5000, Position=0.0000, Density=0.5372, Context=1.0000
2024-11-08 15:15:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 757, Chunk 0: Final Score=0.2603, BM25=0.0000, FAISS=0.9024, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 525, Chunk 2: Final Score=0.0538, BM25=0.0000, FAISS=0.0000, Importance=0.1409, Semantic=0.0000, Coverage=0.0000, Position=0.5236, Density=0.0000, Context=0.0716
2024-11-08 15:15:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 658, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:50:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:50:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:15:50:INFO:utils.RAGProcessor:Query Features - Length: 11, Diversity: 0.92
2024-11-08 15:15:50:INFO:__main__:================================================================= QID: 87 =================================================================
2024-11-08 15:15:52:INFO:utils.rag_processor.query_processor:query分詞結果: 台泥/負數/損益/一個/合併/哪/營運/季/部門/2023
2024-11-08 15:15:52:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:15:52:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 701, Chunk 2, Score: 6.1924, Term Importance: 5.9239, Semantic Similarity: 0.9890, Query Coverage: 0.4781, Position Score: 0.1435, Term Density: 0.5648, Context Similarity: 7.6602, Frequency: [('部門', 3), ('營運', 2), ('損益', 2), ('合併', 1)]
2024-11-08 15:15:53:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 701, Chunk 1, Score: 5.6773, Term Importance: 2.1153, Semantic Similarity: 0.9881, Query Coverage: 0.4781, Position Score: 0.0436, Term Density: 0.3748, Context Similarity: 10.9270, Frequency: [('部門', 7), ('損益', 1), ('營運', 1), ('合併', 1)]
2024-11-08 15:15:53:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 701, Chunk 3, Score: 5.1926, Term Importance: 8.6386, Semantic Similarity: 0.9852, Query Coverage: 0.4781, Position Score: 0.0128, Term Density: 0.5309, Context Similarity: 14.5699, Frequency: [('部門', 9), ('損益', 6), ('合併', 1), ('營運', 1)]
2024-11-08 15:15:53:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 129, Chunk 1, Score: 3.6960, Term Importance: 0.2075, Semantic Similarity: 0.9903, Query Coverage: 0.2835, Position Score: 0.0562, Term Density: 0.1900, Context Similarity: 10.3534, Frequency: [('合併', 5), ('損益', 2), ('營運', 1)]
2024-11-08 15:15:53:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 747, Chunk 1, Score: 3.4812, Term Importance: 0.4254, Semantic Similarity: 0.9888, Query Coverage: 0.3045, Position Score: 0.1045, Term Density: 0.4567, Context Similarity: 0.0000, Frequency: [('2023', 3)]
2024-11-08 15:15:53:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:53:INFO:utils.RAGProcessor:FAISS Score: [0.7862], PDF: 701, Chunk: 3, metadata: [{}]
2024-11-08 15:15:53:INFO:utils.RAGProcessor:FAISS Score: [0.8719], PDF: 701, Chunk: 2, metadata: [{}]
2024-11-08 15:15:53:INFO:utils.RAGProcessor:FAISS Score: [0.9289], PDF: 701, Chunk: 1, metadata: [{}]
2024-11-08 15:15:53:INFO:utils.RAGProcessor:FAISS Score: [0.9538], PDF: 454, Chunk: 1, metadata: [{}]
2024-11-08 15:15:53:INFO:utils.RAGProcessor:FAISS Score: [0.9607], PDF: 32, Chunk: 0, metadata: [{}]
2024-11-08 15:15:53:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:15:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 701, Chunk 2: Final Score=0.8165, BM25=1.0000, FAISS=0.5090, Importance=0.6780, Semantic=0.7526, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=0.5258
2024-11-08 15:15:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 701, Chunk 3: Final Score=0.7288, BM25=0.6312, FAISS=1.0000, Importance=1.0000, Semantic=0.0000, Coverage=1.0000, Position=0.0000, Density=0.9096, Context=1.0000
2024-11-08 15:15:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 701, Chunk 1: Final Score=0.5291, BM25=0.8100, FAISS=0.1823, Importance=0.2263, Semantic=0.5762, Coverage=1.0000, Position=0.2359, Density=0.4931, Context=0.7500
2024-11-08 15:15:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 747, Chunk 1: Final Score=0.2372, BM25=0.0000, FAISS=0.0000, Importance=0.0258, Semantic=0.7104, Coverage=0.1079, Position=0.7016, Density=0.7116, Context=0.0000
2024-11-08 15:15:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 129, Chunk 1: Final Score=0.1613, BM25=0.0792, FAISS=0.0000, Importance=0.0000, Semantic=1.0000, Coverage=0.0000, Position=0.3323, Density=0.0000, Context=0.7106
2024-11-08 15:15:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 454, Chunk 1: Final Score=0.0113, BM25=0.0000, FAISS=0.0392, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 32, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:53:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:53:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:15:53:INFO:utils.RAGProcessor:Query Features - Length: 10, Diversity: 0.91
2024-11-08 15:15:53:INFO:__main__:================================================================= QID: 88 =================================================================
2024-11-08 15:15:54:INFO:utils.rag_processor.query_processor:query分詞結果: 信用/一二年/三十/子公司/十日/使用/三十日/截至/報告/二年/提到/金額/一二/季/2023/財務報告/開立/一/信用狀/合併/九月/財務/聯電/多少/止
2024-11-08 15:15:54:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:15:54:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 256, Chunk 0, Score: 21.2568, Term Importance: 4.9253, Semantic Similarity: 0.9933, Query Coverage: 0.9406, Position Score: 0.0244, Term Density: 1.1431, Context Similarity: 12.0044, Frequency: [('子公司', 6), ('金額', 5), ('截至', 4), ('一二', 4), ('二年', 4), ('一二年', 4), ('九月', 4), ('三十', 4), ('十日', 4), ('三十日', 4)]
2024-11-08 15:15:54:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 329, Chunk 0, Score: 9.2562, Term Importance: 3.1434, Semantic Similarity: 0.9933, Query Coverage: 0.4407, Position Score: 0.0136, Term Density: 0.6607, Context Similarity: 9.7993, Frequency: [('財務', 5), ('子公司', 4), ('報告', 3), ('財務報告', 3), ('一二', 3), ('二年', 3), ('一二年', 3), ('九月', 3), ('合併', 2), ('三十', 2)]
2024-11-08 15:15:54:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 328, Chunk 0, Score: 7.8014, Term Importance: 0.7118, Semantic Similarity: 0.9944, Query Coverage: 0.3479, Position Score: 0.0206, Term Density: 0.3033, Context Similarity: 4.8645, Frequency: [('一', 3), ('子公司', 1), ('合併', 1), ('財務', 1), ('報告', 1), ('財務報告', 1), ('金額', 1), ('九月', 1), ('三十', 1), ('十日', 1)]
2024-11-08 15:15:54:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 34, Chunk 0, Score: 7.1461, Term Importance: 0.7574, Semantic Similarity: 0.9843, Query Coverage: 0.3457, Position Score: 0.0082, Term Density: 0.3338, Context Similarity: 4.6970, Frequency: [('子公司', 2), ('金額', 2), ('信用', 2), ('信用狀', 2), ('合併', 1), ('財務', 1), ('報告', 1), ('財務報告', 1), ('使用', 1)]
2024-11-08 15:15:54:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 112, Chunk 0, Score: 6.0444, Term Importance: 1.9017, Semantic Similarity: 0.9876, Query Coverage: 0.4015, Position Score: 0.0564, Term Density: 0.5651, Context Similarity: 9.2856, Frequency: [('九月', 3), ('三十', 3), ('十日', 3), ('三十日', 3), ('一二', 2), ('二年', 2), ('一二年', 2), ('子公司', 1), ('合併', 1), ('金額', 1)]
2024-11-08 15:15:55:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:55:INFO:utils.RAGProcessor:FAISS Score: [0.6249], PDF: 256, Chunk: 0, metadata: [{}]
2024-11-08 15:15:55:INFO:utils.RAGProcessor:FAISS Score: [0.6662], PDF: 328, Chunk: 0, metadata: [{}]
2024-11-08 15:15:55:INFO:utils.RAGProcessor:FAISS Score: [0.7547], PDF: 112, Chunk: 0, metadata: [{}]
2024-11-08 15:15:55:INFO:utils.RAGProcessor:FAISS Score: [0.8237], PDF: 34, Chunk: 0, metadata: [{}]
2024-11-08 15:15:55:INFO:utils.RAGProcessor:FAISS Score: [0.9001], PDF: 794, Chunk: 2, metadata: [{}]
2024-11-08 15:15:55:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:15:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 256, Chunk 0: Final Score=0.9274, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.8862, Coverage=1.0000, Position=0.3362, Density=1.0000, Context=1.0000
2024-11-08 15:15:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 328, Chunk 0: Final Score=0.3750, BM25=0.1155, FAISS=0.8499, Importance=0.0000, Semantic=1.0000, Coverage=0.0037, Position=0.2575, Density=0.0000, Context=0.0229
2024-11-08 15:15:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 112, Chunk 0: Final Score=0.3594, BM25=0.0000, FAISS=0.5281, Importance=0.2824, Semantic=0.3237, Coverage=0.0938, Position=1.0000, Density=0.3118, Context=0.6279
2024-11-08 15:15:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 329, Chunk 0: Final Score=0.2413, BM25=0.2111, FAISS=0.0000, Importance=0.5771, Semantic=0.8895, Coverage=0.1596, Position=0.1119, Density=0.4255, Context=0.6982
2024-11-08 15:15:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 34, Chunk 0: Final Score=0.1021, BM25=0.0724, FAISS=0.2778, Importance=0.0108, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0363, Context=0.0000
2024-11-08 15:15:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 794, Chunk 2: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:15:55:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:15:55:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:15:55:INFO:utils.RAGProcessor:Query Features - Length: 25, Diversity: 0.96
2024-11-08 15:15:55:INFO:__main__:================================================================= QID: 89 =================================================================
2024-11-08 15:16:01:INFO:utils.rag_processor.query_processor:query分詞結果: 負債/2023/流動/多少/中華電信/負債表/合併資產負債表/中華/華電/合併/資產/流動資產/總計/股份/季/有限/電信
2024-11-08 15:16:01:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:01:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 793, Chunk 0, Score: 11.4770, Term Importance: 10.1084, Semantic Similarity: 0.9929, Query Coverage: 1.1422, Position Score: 0.0034, Term Density: 0.6875, Context Similarity: 20.5413, Frequency: [('負債', 21), ('資產', 20), ('流動', 12), ('總計', 10), ('流動資產', 6), ('合併', 2), ('中華', 1), ('華電', 1), ('電信', 1), ('中華電信', 1)]
2024-11-08 15:16:01:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 1008, Chunk 0, Score: 7.5567, Term Importance: 2.7298, Semantic Similarity: 0.9922, Query Coverage: 0.6965, Position Score: 0.0093, Term Density: 0.3524, Context Similarity: 5.5149, Frequency: [('資產', 5), ('負債', 3), ('股份', 2), ('中華', 1), ('華電', 1), ('電信', 1), ('中華電信', 1), ('有限', 1), ('合併', 1), ('流動', 1)]
2024-11-08 15:16:01:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 999, Chunk 1, Score: 6.2670, Term Importance: 4.8371, Semantic Similarity: 0.9901, Query Coverage: 0.4146, Position Score: 0.0087, Term Density: 0.4507, Context Similarity: 24.6984, Frequency: [('有限', 12), ('股份', 11), ('中華', 6), ('電信', 4), ('合併', 2), ('華電', 2), ('中華電信', 2)]
2024-11-08 15:16:01:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 502, Chunk 0, Score: 6.0944, Term Importance: 1.7744, Semantic Similarity: 0.9916, Query Coverage: 0.4775, Position Score: 0.0317, Term Density: 0.4373, Context Similarity: 5.6219, Frequency: [('負債', 6), ('電信', 2), ('資產', 2), ('流動', 2), ('中華', 1), ('華電', 1), ('中華電信', 1), ('負債表', 1)]
2024-11-08 15:16:01:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 999, Chunk 7, Score: 6.0234, Term Importance: 7.2385, Semantic Similarity: 0.9852, Query Coverage: 0.3714, Position Score: 0.0109, Term Density: 0.7464, Context Similarity: 24.7339, Frequency: [('有限', 21), ('股份', 11), ('中華', 7), ('電信', 2), ('華電', 1), ('中華電信', 1)]
2024-11-08 15:16:05:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:05:INFO:utils.RAGProcessor:FAISS Score: [0.6047], PDF: 793, Chunk: 0, metadata: [{}]
2024-11-08 15:16:05:INFO:utils.RAGProcessor:FAISS Score: [0.6669], PDF: 1008, Chunk: 0, metadata: [{}]
2024-11-08 15:16:05:INFO:utils.RAGProcessor:FAISS Score: [0.7053], PDF: 902, Chunk: 0, metadata: [{}]
2024-11-08 15:16:05:INFO:utils.RAGProcessor:FAISS Score: [0.7836], PDF: 613, Chunk: 0, metadata: [{}]
2024-11-08 15:16:05:INFO:utils.RAGProcessor:FAISS Score: [0.8450], PDF: 502, Chunk: 0, metadata: [{}]
2024-11-08 15:16:05:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 793, Chunk 0: Final Score=0.8718, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0000, Density=0.8505, Context=0.7819
2024-11-08 15:16:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 1008, Chunk 0: Final Score=0.4178, BM25=0.2812, FAISS=0.7414, Importance=0.1146, Semantic=0.9112, Coverage=0.4217, Position=0.2113, Density=0.0000, Context=0.0000
2024-11-08 15:16:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 999, Chunk 7: Final Score=0.2179, BM25=0.0000, FAISS=0.0000, Importance=0.6556, Semantic=0.0000, Coverage=0.0000, Position=0.2663, Density=1.0000, Context=1.0000
2024-11-08 15:16:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 502, Chunk 0: Final Score=0.2105, BM25=0.0130, FAISS=0.0000, Importance=0.0000, Semantic=0.8329, Coverage=0.1377, Position=1.0000, Density=0.2156, Context=0.0056
2024-11-08 15:16:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 999, Chunk 1: Final Score=0.1680, BM25=0.0447, FAISS=0.0000, Importance=0.3675, Semantic=0.6380, Coverage=0.0560, Position=0.1887, Density=0.2495, Context=0.9982
2024-11-08 15:16:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 902, Chunk 0: Final Score=0.1677, BM25=0.0000, FAISS=0.5815, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 613, Chunk 0: Final Score=0.0737, BM25=0.0000, FAISS=0.2555, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:05:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:05:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:05:INFO:utils.RAGProcessor:Query Features - Length: 17, Diversity: 0.94
2024-11-08 15:16:05:INFO:__main__:================================================================= QID: 90 =================================================================
2024-11-08 15:16:06:INFO:utils.rag_processor.query_processor:query分詞結果: 基本/第一季度/每股/季度/多少/第一季/泰車/盈餘/基本每股盈餘/一季度/第一/2023
2024-11-08 15:16:06:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:06:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 710, Chunk 1, Score: 12.6383, Term Importance: 1.3822, Semantic Similarity: 0.9860, Query Coverage: 1.0055, Position Score: 0.0103, Term Density: 1.4807, Context Similarity: 10.0770, Frequency: [('每股', 5), ('盈餘', 5), ('基本', 2), ('基本每股盈餘', 2)]
2024-11-08 15:16:06:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 761, Chunk 0, Score: 9.8180, Term Importance: 2.3660, Semantic Similarity: 0.9889, Query Coverage: 0.7023, Position Score: 0.0096, Term Density: 0.5889, Context Similarity: 10.8048, Frequency: [('盈餘', 6), ('第一', 6), ('第一季', 6)]
2024-11-08 15:16:06:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 161, Chunk 0, Score: 5.2924, Term Importance: 0.4066, Semantic Similarity: 0.9816, Query Coverage: 0.4907, Position Score: 0.6346, Term Density: 0.2944, Context Similarity: 0.6319, Frequency: [('第一', 1), ('第一季', 1)]
2024-11-08 15:16:06:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 710, Chunk 0, Score: 3.4984, Term Importance: 0.1862, Semantic Similarity: 0.9863, Query Coverage: 0.4570, Position Score: 0.6412, Term Density: 0.2742, Context Similarity: 3.3959, Frequency: [('每股', 1), ('盈餘', 1)]
2024-11-08 15:16:06:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 161, Chunk 3, Score: 2.8826, Term Importance: 0.0252, Semantic Similarity: 0.9847, Query Coverage: 0.2454, Position Score: 0.5043, Term Density: 0.1472, Context Similarity: 2.3378, Frequency: [('基本', 1)]
2024-11-08 15:16:09:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:09:INFO:utils.RAGProcessor:FAISS Score: [0.6755], PDF: 761, Chunk: 0, metadata: [{}]
2024-11-08 15:16:09:INFO:utils.RAGProcessor:FAISS Score: [0.6887], PDF: 710, Chunk: 0, metadata: [{}]
2024-11-08 15:16:09:INFO:utils.RAGProcessor:FAISS Score: [0.6989], PDF: 308, Chunk: 0, metadata: [{}]
2024-11-08 15:16:09:INFO:utils.RAGProcessor:FAISS Score: [0.7065], PDF: 710, Chunk: 1, metadata: [{}]
2024-11-08 15:16:09:INFO:utils.RAGProcessor:FAISS Score: [0.8085], PDF: 308, Chunk: 1, metadata: [{}]
2024-11-08 15:16:09:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 710, Chunk 1: Final Score=0.8033, BM25=1.0000, FAISS=0.7670, Importance=0.5797, Semantic=0.6097, Coverage=1.0000, Position=0.0011, Density=1.0000, Context=0.9285
2024-11-08 15:16:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 761, Chunk 0: Final Score=0.6947, BM25=0.7109, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=0.6012, Position=0.0000, Density=0.3312, Context=1.0000
2024-11-08 15:16:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 710, Chunk 0: Final Score=0.4791, BM25=0.0631, FAISS=0.9002, Importance=0.0688, Semantic=0.6466, Coverage=0.2784, Position=1.0000, Density=0.0952, Context=0.2717
2024-11-08 15:16:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 308, Chunk 0: Final Score=0.2377, BM25=0.0000, FAISS=0.8241, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 161, Chunk 0: Final Score=0.2053, BM25=0.2470, FAISS=0.0000, Importance=0.1630, Semantic=0.0000, Coverage=0.3228, Position=0.9896, Density=0.1104, Context=0.0000
2024-11-08 15:16:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 161, Chunk 3: Final Score=0.1161, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.4250, Coverage=0.0000, Position=0.7832, Density=0.0000, Context=0.1677
2024-11-08 15:16:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 308, Chunk 1: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:09:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:09:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:09:INFO:utils.RAGProcessor:Query Features - Length: 12, Diversity: 0.92
2024-11-08 15:16:09:INFO:__main__:================================================================= QID: 91 =================================================================
2024-11-08 15:16:09:INFO:utils.rag_processor.query_processor:query分詞結果: 資本額/合併財務報表/之二/哪個/實收/款項/關係人/關係/億元/百分之/應收/提到/達新/報表/季/2023/詳細/資本/一/百分之二十/附表/台幣/二十/百分/合併/聯發科/財務/以上/包含/資訊
2024-11-08 15:16:09:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:09:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 22, Chunk 0, Score: 38.4330, Term Importance: 4.2851, Semantic Similarity: 0.9975, Query Coverage: 1.2174, Position Score: 0.0194, Term Density: 1.7122, Context Similarity: 9.1498, Frequency: [('附表', 6), ('資訊', 4), ('台幣', 3), ('關係', 3), ('實收', 3), ('資本', 3), ('資本額', 3), ('財務', 2), ('關係人', 2), ('達新', 2)]
2024-11-08 15:16:09:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 284, Chunk 0, Score: 8.3465, Term Importance: 0.2364, Semantic Similarity: 0.9933, Query Coverage: 0.2047, Position Score: 0.0129, Term Density: 0.2558, Context Similarity: 7.3707, Frequency: [('財務', 6), ('合併', 2), ('二十', 2), ('報表', 1), ('合併財務報表', 1), ('台幣', 1), ('一', 1), ('聯發科', 1)]
2024-11-08 15:16:09:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 930, Chunk 1, Score: 6.0656, Term Importance: 0.0642, Semantic Similarity: 0.9946, Query Coverage: 0.0879, Position Score: 0.0185, Term Density: 0.0805, Context Similarity: 10.5672, Frequency: [('財務', 7), ('合併', 3), ('報表', 2), ('合併財務報表', 2), ('以上', 1), ('台幣', 1)]
2024-11-08 15:16:09:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 284, Chunk 1, Score: 5.8392, Term Importance: 0.0658, Semantic Similarity: 0.9930, Query Coverage: 0.0991, Position Score: 0.0272, Term Density: 0.1263, Context Similarity: 9.1936, Frequency: [('財務', 7), ('報表', 3), ('合併', 1), ('合併財務報表', 1), ('2023', 1)]
2024-11-08 15:16:09:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 959, Chunk 0, Score: 5.1005, Term Importance: 0.3221, Semantic Similarity: 0.9952, Query Coverage: 0.0743, Position Score: 0.0463, Term Density: 0.0937, Context Similarity: 6.2835, Frequency: [('合併', 5), ('財務', 1), ('報表', 1), ('合併財務報表', 1), ('台幣', 1), ('一', 1)]
2024-11-08 15:16:10:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:10:INFO:utils.RAGProcessor:FAISS Score: [0.6926], PDF: 22, Chunk: 0, metadata: [{}]
2024-11-08 15:16:10:INFO:utils.RAGProcessor:FAISS Score: [0.7918], PDF: 385, Chunk: 0, metadata: [{}]
2024-11-08 15:16:10:INFO:utils.RAGProcessor:FAISS Score: [0.7973], PDF: 930, Chunk: 0, metadata: [{}]
2024-11-08 15:16:10:INFO:utils.RAGProcessor:FAISS Score: [0.8086], PDF: 742, Chunk: 0, metadata: [{}]
2024-11-08 15:16:10:INFO:utils.RAGProcessor:FAISS Score: [0.8626], PDF: 284, Chunk: 0, metadata: [{}]
2024-11-08 15:16:10:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:10:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 22, Chunk 0: Final Score=0.9067, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.1949, Density=1.0000, Context=0.6691
2024-11-08 15:16:10:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 959, Chunk 0: Final Score=0.1353, BM25=0.0000, FAISS=0.0000, Importance=0.0611, Semantic=0.4943, Coverage=0.0000, Position=1.0000, Density=0.0081, Context=0.0000
2024-11-08 15:16:10:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 385, Chunk 0: Final Score=0.1202, BM25=0.0000, FAISS=0.4167, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:10:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 930, Chunk 0: Final Score=0.1108, BM25=0.0000, FAISS=0.3842, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:10:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 930, Chunk 1: Final Score=0.1001, BM25=0.0290, FAISS=0.0000, Importance=0.0000, Semantic=0.3627, Coverage=0.0118, Position=0.1676, Density=0.0000, Context=1.0000
2024-11-08 15:16:10:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 742, Chunk 0: Final Score=0.0916, BM25=0.0000, FAISS=0.3175, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:10:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 284, Chunk 1: Final Score=0.0855, BM25=0.0222, FAISS=0.0000, Importance=0.0004, Semantic=0.0000, Coverage=0.0216, Position=0.4283, Density=0.0281, Context=0.6793
2024-11-08 15:16:10:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 284, Chunk 0: Final Score=0.0686, BM25=0.0974, FAISS=0.0000, Importance=0.0408, Semantic=0.0684, Coverage=0.1141, Position=0.0000, Density=0.1075, Context=0.2538
2024-11-08 15:16:10:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:10:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:10:INFO:utils.RAGProcessor:Query Features - Length: 30, Diversity: 0.97
2024-11-08 15:16:10:INFO:__main__:================================================================= QID: 92 =================================================================
2024-11-08 15:16:13:INFO:utils.rag_processor.query_processor:query分詞結果: 變動/9/股份/總額/變動表/歸屬於/季/月/本公司/30/2023/112/屬於/歸屬/國巨/權益/業主/合併/日/有限/多少
2024-11-08 15:16:13:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:13:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 55, Chunk 0, Score: 17.2995, Term Importance: 12.1897, Semantic Similarity: 0.9934, Query Coverage: 0.9716, Position Score: 0.0039, Term Density: 0.7778, Context Similarity: 11.0922, Frequency: [('月', 15), ('9', 14), ('權益', 12), ('日', 9), ('112', 7), ('30', 7), ('股份', 3), ('變動', 3), ('本公司', 3), ('合併', 2)]
2024-11-08 15:16:13:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 428, Chunk 0, Score: 14.3496, Term Importance: 5.6606, Semantic Similarity: 0.9928, Query Coverage: 1.0239, Position Score: 0.0023, Term Density: 0.6665, Context Similarity: 7.5733, Frequency: [('權益', 11), ('9', 8), ('月', 6), ('30', 6), ('日', 5), ('合併', 2), ('112', 2), ('本公司', 2), ('業主', 2), ('國巨', 1)]
2024-11-08 15:16:13:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 715, Chunk 4, Score: 11.8279, Term Importance: 4.2787, Semantic Similarity: 0.9930, Query Coverage: 0.3493, Position Score: 0.0209, Term Density: 0.4654, Context Similarity: 14.1564, Frequency: [('月', 19), ('日', 11), ('9', 11), ('30', 10), ('112', 5), ('合併', 3), ('有限', 3), ('股份', 1), ('總額', 1)]
2024-11-08 15:16:13:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 450, Chunk 0, Score: 11.7428, Term Importance: 10.5267, Semantic Similarity: 0.9928, Query Coverage: 0.3722, Position Score: 0.0192, Term Density: 0.3492, Context Similarity: 10.0711, Frequency: [('股份', 7), ('本公司', 6), ('月', 5), ('合併', 4), ('有限', 3), ('112', 3), ('國巨', 2), ('9', 2), ('30', 1), ('日', 1)]
2024-11-08 15:16:13:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 450, Chunk 0, Score: 11.7428, Term Importance: 10.5267, Semantic Similarity: 0.9928, Query Coverage: 0.3722, Position Score: 0.0192, Term Density: 0.3492, Context Similarity: 10.0711, Frequency: [('股份', 7), ('本公司', 6), ('月', 5), ('合併', 4), ('有限', 3), ('112', 3), ('國巨', 2), ('9', 2), ('30', 1), ('日', 1)]
2024-11-08 15:16:17:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:17:INFO:utils.RAGProcessor:FAISS Score: [0.5932], PDF: 55, Chunk: 0, metadata: [{}]
2024-11-08 15:16:17:INFO:utils.RAGProcessor:FAISS Score: [0.6378], PDF: 428, Chunk: 0, metadata: [{}]
2024-11-08 15:16:17:INFO:utils.RAGProcessor:FAISS Score: [0.7855], PDF: 450, Chunk: 0, metadata: [{}]
2024-11-08 15:16:17:INFO:utils.RAGProcessor:FAISS Score: [0.7855], PDF: 450, Chunk: 0, metadata: [{}]
2024-11-08 15:16:17:INFO:utils.RAGProcessor:FAISS Score: [0.9215], PDF: 715, Chunk: 2, metadata: [{}]
2024-11-08 15:16:17:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 55, Chunk 0: Final Score=0.8811, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=0.9225, Position=0.0894, Density=1.0000, Context=0.5345
2024-11-08 15:16:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 428, Chunk 0: Final Score=0.5901, BM25=0.4691, FAISS=0.8640, Importance=0.1747, Semantic=0.1356, Coverage=1.0000, Position=0.0000, Density=0.7403, Context=0.0000
2024-11-08 15:16:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 450, Chunk 0: Final Score=0.2288, BM25=0.0000, FAISS=0.4142, Importance=0.7898, Semantic=0.0000, Coverage=0.0340, Position=0.9068, Density=0.0000, Context=0.3794
2024-11-08 15:16:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 715, Chunk 4: Final Score=0.2179, BM25=0.0153, FAISS=0.0000, Importance=0.0000, Semantic=0.4027, Coverage=0.0000, Position=1.0000, Density=0.2712, Context=1.0000
2024-11-08 15:16:17:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 715, Chunk 2: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:17:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:17:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:17:INFO:utils.RAGProcessor:Query Features - Length: 21, Diversity: 0.95
2024-11-08 15:16:17:INFO:__main__:================================================================= QID: 93 =================================================================
2024-11-08 15:16:18:INFO:utils.rag_processor.query_processor:query分詞結果: 中鋼/2022/價值/帳面/資產/予/總/銀行/季/擔保/作為/提供/多少/帳面價值
2024-11-08 15:16:18:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:18:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 660, Chunk 0, Score: 18.7048, Term Importance: 4.8071, Semantic Similarity: 0.9950, Query Coverage: 1.5283, Position Score: 0.0194, Term Density: 1.1797, Context Similarity: 7.2961, Frequency: [('資產', 3), ('銀行', 3), ('擔保', 2), ('帳面', 1), ('價值', 1), ('帳面價值', 1), ('提供', 1), ('予', 1), ('作為', 1)]
2024-11-08 15:16:18:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 321, Chunk 6, Score: 5.2443, Term Importance: 0.0314, Semantic Similarity: 0.9938, Query Coverage: 0.4503, Position Score: 0.0795, Term Density: 0.1851, Context Similarity: 2.3320, Frequency: [('中鋼', 1), ('提供', 1), ('擔保', 1)]
2024-11-08 15:16:18:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 366, Chunk 0, Score: 5.1472, Term Importance: 10.1191, Semantic Similarity: 0.9946, Query Coverage: 0.4213, Position Score: 0.0047, Term Density: 0.2603, Context Similarity: 37.8344, Frequency: [('資產', 24), ('價值', 5), ('銀行', 3)]
2024-11-08 15:16:18:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 920, Chunk 3, Score: 4.8822, Term Importance: 0.8560, Semantic Similarity: 0.9928, Query Coverage: 0.3513, Position Score: 0.0397, Term Density: 0.3414, Context Similarity: 7.7071, Frequency: [('資產', 3), ('予', 2), ('提供', 1)]
2024-11-08 15:16:18:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 660, Chunk 1, Score: 4.7776, Term Importance: 0.2125, Semantic Similarity: 0.9942, Query Coverage: 0.3513, Position Score: 0.0438, Term Density: 0.2459, Context Similarity: 5.3428, Frequency: [('提供', 2), ('資產', 1), ('予', 1)]
2024-11-08 15:16:23:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:23:INFO:utils.RAGProcessor:FAISS Score: [0.7718], PDF: 366, Chunk: 0, metadata: [{}]
2024-11-08 15:16:23:INFO:utils.RAGProcessor:FAISS Score: [0.7862], PDF: 321, Chunk: 6, metadata: [{}]
2024-11-08 15:16:23:INFO:utils.RAGProcessor:FAISS Score: [0.8021], PDF: 660, Chunk: 0, metadata: [{}]
2024-11-08 15:16:23:INFO:utils.RAGProcessor:FAISS Score: [0.8127], PDF: 21, Chunk: 0, metadata: [{}]
2024-11-08 15:16:23:INFO:utils.RAGProcessor:FAISS Score: [0.8601], PDF: 920, Chunk: 1, metadata: [{}]
2024-11-08 15:16:23:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:23:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 660, Chunk 0: Final Score=0.7822, BM25=1.0000, FAISS=0.6564, Importance=0.4734, Semantic=1.0000, Coverage=1.0000, Position=0.1957, Density=1.0000, Context=0.1398
2024-11-08 15:16:23:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 366, Chunk 0: Final Score=0.4225, BM25=0.0265, FAISS=1.0000, Importance=1.0000, Semantic=0.8074, Coverage=0.0595, Position=0.0000, Density=0.0756, Context=1.0000
2024-11-08 15:16:23:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 321, Chunk 6: Final Score=0.3875, BM25=0.0335, FAISS=0.8362, Importance=0.0000, Semantic=0.4254, Coverage=0.0841, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:23:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 21, Chunk 0: Final Score=0.1547, BM25=0.0000, FAISS=0.5361, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:23:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 660, Chunk 1: Final Score=0.1122, BM25=0.0000, FAISS=0.0000, Importance=0.0180, Semantic=0.6381, Coverage=0.0000, Position=0.5220, Density=0.0611, Context=0.0848
2024-11-08 15:16:23:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 920, Chunk 3: Final Score=0.0766, BM25=0.0075, FAISS=0.0000, Importance=0.0817, Semantic=0.0000, Coverage=0.0000, Position=0.4669, Density=0.1571, Context=0.1514
2024-11-08 15:16:23:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 920, Chunk 1: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:23:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:23:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:23:INFO:utils.RAGProcessor:Query Features - Length: 14, Diversity: 0.93
2024-11-08 15:16:23:INFO:__main__:================================================================= QID: 94 =================================================================
2024-11-08 15:16:23:INFO:utils.rag_processor.query_processor:query分詞結果: 2022/110/財務報告/股利/年度/合併/報告/智邦/股東/財務/金額/季/現金/多少
2024-11-08 15:16:23:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:23:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 695, Chunk 0, Score: 7.1067, Term Importance: 0.1486, Semantic Similarity: 0.7359, Query Coverage: 0.5931, Position Score: 0.0195, Term Density: 0.2303, Context Similarity: 3.9643, Frequency: [('110', 2), ('股利', 2), ('財務', 1), ('年度', 1), ('股東', 1), ('現金', 1)]
2024-11-08 15:16:23:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 695, Chunk 2, Score: 7.0682, Term Importance: 0.1748, Semantic Similarity: 0.9935, Query Coverage: 0.7575, Position Score: 0.0166, Term Density: 0.2303, Context Similarity: 3.2994, Frequency: [('股利', 2), ('年度', 1), ('股東', 1), ('現金', 1), ('合併', 1), ('財務', 1), ('報告', 1), ('財務報告', 1)]
2024-11-08 15:16:23:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 699, Chunk 1, Score: 6.1083, Term Importance: 1.9803, Semantic Similarity: 0.9918, Query Coverage: 0.6357, Position Score: 0.0117, Term Density: 0.3466, Context Similarity: 7.6220, Frequency: [('現金', 13), ('股利', 2), ('110', 1), ('股東', 1), ('合併', 1), ('財務', 1), ('報告', 1), ('財務報告', 1)]
2024-11-08 15:16:23:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 350, Chunk 0, Score: 6.0374, Term Importance: 8.3896, Semantic Similarity: 0.9861, Query Coverage: 0.5413, Position Score: 0.0144, Term Density: 0.4495, Context Similarity: 6.4451, Frequency: [('智邦', 5), ('財務', 4), ('合併', 3), ('報告', 3), ('財務報告', 3), ('110', 1), ('金額', 1)]
2024-11-08 15:16:23:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 291, Chunk 4, Score: 4.7195, Term Importance: 0.3487, Semantic Similarity: 0.9873, Query Coverage: 0.2772, Position Score: 0.0321, Term Density: 0.1897, Context Similarity: 2.5682, Frequency: [('金額', 3), ('110', 2), ('智邦', 1)]
2024-11-08 15:16:24:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:24:INFO:utils.RAGProcessor:FAISS Score: [0.6412], PDF: 699, Chunk: 0, metadata: [{}]
2024-11-08 15:16:24:INFO:utils.RAGProcessor:FAISS Score: [0.7857], PDF: 481, Chunk: 1, metadata: [{}]
2024-11-08 15:16:24:INFO:utils.RAGProcessor:FAISS Score: [0.8125], PDF: 350, Chunk: 0, metadata: [{}]
2024-11-08 15:16:24:INFO:utils.RAGProcessor:FAISS Score: [0.8507], PDF: 291, Chunk: 0, metadata: [{}]
2024-11-08 15:16:24:INFO:utils.RAGProcessor:FAISS Score: [0.8630], PDF: 699, Chunk: 1, metadata: [{}]
2024-11-08 15:16:24:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:24:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 350, Chunk 0: Final Score=0.5247, BM25=0.5521, FAISS=0.2276, Importance=1.0000, Semantic=0.9712, Coverage=0.5498, Position=0.1287, Density=1.0000, Context=0.7671
2024-11-08 15:16:24:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 695, Chunk 2: Final Score=0.4717, BM25=0.9839, FAISS=0.0000, Importance=0.0032, Semantic=1.0000, Coverage=1.0000, Position=0.2376, Density=0.1561, Context=0.1447
2024-11-08 15:16:24:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 699, Chunk 1: Final Score=0.4320, BM25=0.5817, FAISS=0.0000, Importance=0.2223, Semantic=0.9936, Coverage=0.7464, Position=0.0000, Density=0.6038, Context=1.0000
2024-11-08 15:16:24:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 695, Chunk 0: Final Score=0.3793, BM25=1.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.6579, Position=0.3828, Density=0.1561, Context=0.2762
2024-11-08 15:16:24:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 699, Chunk 0: Final Score=0.2885, BM25=0.0000, FAISS=1.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:24:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 291, Chunk 4: Final Score=0.1712, BM25=0.0000, FAISS=0.0000, Importance=0.0243, Semantic=0.9759, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:24:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 481, Chunk 1: Final Score=0.1006, BM25=0.0000, FAISS=0.3487, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:24:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 291, Chunk 0: Final Score=0.0160, BM25=0.0000, FAISS=0.0554, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:24:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:24:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:24:INFO:utils.RAGProcessor:Query Features - Length: 14, Diversity: 0.93
2024-11-08 15:16:24:INFO:__main__:================================================================= QID: 95 =================================================================
2024-11-08 15:16:26:INFO:utils.rag_processor.query_processor:query分詞結果: 交換/合約/金額/科在/合併/報告/關於/2021/匯率/流出/流入/季/分別/光寶/多少
2024-11-08 15:16:26:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:26:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 307, Chunk 0, Score: 17.8770, Term Importance: 5.5609, Semantic Similarity: 0.9964, Query Coverage: 1.0004, Position Score: 0.0381, Term Density: 1.1443, Context Similarity: 9.2395, Frequency: [('合約', 4), ('流入', 4), ('流出', 4), ('合併', 3), ('匯率', 2), ('交換', 2)]
2024-11-08 15:16:26:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 998, Chunk 1, Score: 4.0257, Term Importance: 0.0728, Semantic Similarity: 0.9928, Query Coverage: 0.2539, Position Score: 0.0297, Term Density: 0.1099, Context Similarity: 5.0208, Frequency: [('合併', 2), ('報告', 1), ('合約', 1)]
2024-11-08 15:16:26:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 998, Chunk 1, Score: 4.0257, Term Importance: 0.0728, Semantic Similarity: 0.9928, Query Coverage: 0.2539, Position Score: 0.0297, Term Density: 0.1099, Context Similarity: 5.0208, Frequency: [('合併', 2), ('報告', 1), ('合約', 1)]
2024-11-08 15:16:26:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 307, Chunk 1, Score: 3.2791, Term Importance: 0.9335, Semantic Similarity: 0.9884, Query Coverage: 0.1643, Position Score: 0.0277, Term Density: 0.1018, Context Similarity: 2.4661, Frequency: [('合併', 2), ('光寶', 1)]
2024-11-08 15:16:26:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 332, Chunk 0, Score: 3.1584, Term Importance: 0.1019, Semantic Similarity: 0.9922, Query Coverage: 0.1913, Position Score: 0.0166, Term Density: 0.1221, Context Similarity: 5.4983, Frequency: [('合併', 2), ('金額', 1)]
2024-11-08 15:16:26:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:26:INFO:utils.RAGProcessor:FAISS Score: [0.6446], PDF: 307, Chunk: 0, metadata: [{}]
2024-11-08 15:16:26:INFO:utils.RAGProcessor:FAISS Score: [0.8746], PDF: 332, Chunk: 2, metadata: [{}]
2024-11-08 15:16:26:INFO:utils.RAGProcessor:FAISS Score: [0.8796], PDF: 940, Chunk: 0, metadata: [{}]
2024-11-08 15:16:26:INFO:utils.RAGProcessor:FAISS Score: [0.8796], PDF: 940, Chunk: 0, metadata: [{}]
2024-11-08 15:16:26:INFO:utils.RAGProcessor:FAISS Score: [0.9125], PDF: 307, Chunk: 2, metadata: [{}]
2024-11-08 15:16:26:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:26:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 307, Chunk 0: Final Score=1.0000, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=1.0000
2024-11-08 15:16:26:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 998, Chunk 1: Final Score=0.1457, BM25=0.0589, FAISS=0.0000, Importance=0.0000, Semantic=0.5464, Coverage=0.1071, Position=0.6080, Density=0.0078, Context=0.3772
2024-11-08 15:16:26:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 332, Chunk 0: Final Score=0.0645, BM25=0.0000, FAISS=0.0000, Importance=0.0053, Semantic=0.4732, Coverage=0.0323, Position=0.0000, Density=0.0194, Context=0.4477
2024-11-08 15:16:26:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 307, Chunk 1: Final Score=0.0515, BM25=0.0082, FAISS=0.0000, Importance=0.1568, Semantic=0.0000, Coverage=0.0000, Position=0.5160, Density=0.0000, Context=0.0000
2024-11-08 15:16:26:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 332, Chunk 2: Final Score=0.0408, BM25=0.0000, FAISS=0.1414, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:26:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 940, Chunk 0: Final Score=0.0354, BM25=0.0000, FAISS=0.1226, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:26:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 307, Chunk 2: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:26:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:26:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:26:INFO:utils.RAGProcessor:Query Features - Length: 15, Diversity: 0.94
2024-11-08 15:16:26:INFO:__main__:================================================================= QID: 96 =================================================================
2024-11-08 15:16:28:INFO:utils.rag_processor.query_processor:query分詞結果: 台達電/2022/價值/季度/請問/金融資產/透過/金額/損益/公允/融資/資產/金融/流動/衡量/按/多少
2024-11-08 15:16:28:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:28:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 435, Chunk 0, Score: 13.3714, Term Importance: 8.4326, Semantic Similarity: 0.9941, Query Coverage: 0.8999, Position Score: 0.0083, Term Density: 0.8748, Context Similarity: 22.0304, Frequency: [('資產', 20), ('流動', 13), ('按', 4), ('衡量', 4), ('融資', 4), ('金額', 3), ('透過', 3), ('損益', 3), ('公允', 3), ('金融', 3)]
2024-11-08 15:16:28:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 750, Chunk 2, Score: 10.7104, Term Importance: 0.7079, Semantic Similarity: 0.9920, Query Coverage: 0.7061, Position Score: 0.0710, Term Density: 0.9459, Context Similarity: 16.1121, Frequency: [('按', 6), ('公允', 4), ('價值', 4), ('衡量', 4), ('資產', 3), ('透過', 2), ('損益', 2), ('金融', 2), ('融資', 2), ('金融資產', 2)]
2024-11-08 15:16:28:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 750, Chunk 3, Score: 10.0462, Term Importance: 7.7179, Semantic Similarity: 0.9919, Query Coverage: 0.7061, Position Score: 0.1411, Term Density: 0.8728, Context Similarity: 7.6672, Frequency: [('按', 3), ('公允', 2), ('價值', 2), ('衡量', 2), ('資產', 2), ('透過', 1), ('損益', 1), ('金融', 1), ('融資', 1), ('金融資產', 1)]
2024-11-08 15:16:28:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 435, Chunk 1, Score: 7.6073, Term Importance: 1.8110, Semantic Similarity: 0.9936, Query Coverage: 0.6891, Position Score: 0.0133, Term Density: 0.5217, Context Similarity: 8.6377, Frequency: [('流動', 9), ('金額', 3), ('資產', 2), ('透過', 1), ('損益', 1), ('按', 1), ('公允', 1), ('價值', 1), ('衡量', 1), ('金融', 1)]
2024-11-08 15:16:28:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 137, Chunk 1, Score: 5.1772, Term Importance: 2.0937, Semantic Similarity: 0.9933, Query Coverage: 0.4306, Position Score: 0.0173, Term Density: 0.3458, Context Similarity: 13.3136, Frequency: [('損益', 14), ('金額', 2), ('衡量', 2), ('透過', 1), ('按', 1), ('公允', 1), ('價值', 1)]
2024-11-08 15:16:29:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:29:INFO:utils.RAGProcessor:FAISS Score: [0.6095], PDF: 435, Chunk: 0, metadata: [{}]
2024-11-08 15:16:29:INFO:utils.RAGProcessor:FAISS Score: [0.6497], PDF: 137, Chunk: 0, metadata: [{}]
2024-11-08 15:16:29:INFO:utils.RAGProcessor:FAISS Score: [0.6574], PDF: 137, Chunk: 1, metadata: [{}]
2024-11-08 15:16:29:INFO:utils.RAGProcessor:FAISS Score: [0.6932], PDF: 435, Chunk: 1, metadata: [{}]
2024-11-08 15:16:29:INFO:utils.RAGProcessor:FAISS Score: [0.8306], PDF: 197, Chunk: 2, metadata: [{}]
2024-11-08 15:16:29:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:29:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 435, Chunk 0: Final Score=0.8868, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0000, Density=0.8815, Context=1.0000
2024-11-08 15:16:29:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 750, Chunk 2: Final Score=0.4444, BM25=0.6753, FAISS=0.0000, Importance=0.0000, Semantic=0.0383, Coverage=0.5869, Position=0.4722, Density=1.0000, Context=0.5880
2024-11-08 15:16:29:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 750, Chunk 3: Final Score=0.4276, BM25=0.5942, FAISS=0.0000, Importance=0.9075, Semantic=0.0000, Coverage=0.5869, Position=1.0000, Density=0.8781, Context=0.0000
2024-11-08 15:16:29:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 435, Chunk 1: Final Score=0.4205, BM25=0.2966, FAISS=0.6216, Importance=0.1428, Semantic=0.7804, Coverage=0.5508, Position=0.0376, Density=0.2932, Context=0.0676
2024-11-08 15:16:29:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 137, Chunk 1: Final Score=0.3036, BM25=0.0000, FAISS=0.7837, Importance=0.1794, Semantic=0.6772, Coverage=0.0000, Position=0.0679, Density=0.0000, Context=0.3931
2024-11-08 15:16:29:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 137, Chunk 0: Final Score=0.2360, BM25=0.0000, FAISS=0.8183, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:29:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 197, Chunk 2: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:29:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:29:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:29:INFO:utils.RAGProcessor:Query Features - Length: 17, Diversity: 0.94
2024-11-08 15:16:29:INFO:__main__:================================================================= QID: 97 =================================================================
2024-11-08 15:16:32:INFO:utils.rag_processor.query_processor:query分詞結果: 總額/綜合損益/多少/損益/綜合/合併/損益表/本期/季/2023/國巨
2024-11-08 15:16:32:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:32:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 282, Chunk 1, Score: 8.2200, Term Importance: 2.4109, Semantic Similarity: 0.9908, Query Coverage: 0.7643, Position Score: 0.0178, Term Density: 0.7435, Context Similarity: 13.1909, Frequency: [('損益', 10), ('綜合', 6), ('綜合損益', 6), ('本期', 3), ('總額', 1)]
2024-11-08 15:16:32:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 579, Chunk 1, Score: 7.3669, Term Importance: 1.0217, Semantic Similarity: 0.9895, Query Coverage: 0.5423, Position Score: 0.0319, Term Density: 0.5867, Context Similarity: 12.2744, Frequency: [('合併', 6), ('總額', 6), ('綜合', 2), ('損益', 2), ('綜合損益', 2)]
2024-11-08 15:16:32:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 579, Chunk 0, Score: 6.4062, Term Importance: 1.9885, Semantic Similarity: 0.9860, Query Coverage: 0.5519, Position Score: 0.0244, Term Density: 0.2560, Context Similarity: 9.3009, Frequency: [('合併', 8), ('國巨', 3), ('綜合', 1), ('損益', 1), ('損益表', 1)]
2024-11-08 15:16:32:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 789, Chunk 0, Score: 5.9147, Term Importance: 2.3176, Semantic Similarity: 0.9882, Query Coverage: 0.6824, Position Score: 0.0044, Term Density: 0.1911, Context Similarity: 7.7745, Frequency: [('損益', 6), ('綜合', 4), ('綜合損益', 4), ('合併', 2), ('國巨', 1), ('總額', 1)]
2024-11-08 15:16:32:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 282, Chunk 2, Score: 5.8688, Term Importance: 0.1093, Semantic Similarity: 0.9843, Query Coverage: 0.5423, Position Score: 0.0479, Term Density: 0.2884, Context Similarity: 2.5966, Frequency: [('綜合', 1), ('損益', 1), ('綜合損益', 1), ('總額', 1), ('合併', 1)]
2024-11-08 15:16:34:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:34:INFO:utils.RAGProcessor:FAISS Score: [0.6486], PDF: 282, Chunk: 0, metadata: [{}]
2024-11-08 15:16:34:INFO:utils.RAGProcessor:FAISS Score: [0.6701], PDF: 279, Chunk: 0, metadata: [{}]
2024-11-08 15:16:34:INFO:utils.RAGProcessor:FAISS Score: [0.7437], PDF: 282, Chunk: 1, metadata: [{}]
2024-11-08 15:16:34:INFO:utils.RAGProcessor:FAISS Score: [0.7614], PDF: 789, Chunk: 0, metadata: [{}]
2024-11-08 15:16:34:INFO:utils.RAGProcessor:FAISS Score: [0.8330], PDF: 579, Chunk: 2, metadata: [{}]
2024-11-08 15:16:34:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:34:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 282, Chunk 1: Final Score=0.7846, BM25=1.0000, FAISS=0.4843, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.3068, Density=1.0000, Context=1.0000
2024-11-08 15:16:34:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 579, Chunk 1: Final Score=0.4172, BM25=0.6371, FAISS=0.0000, Importance=0.3964, Semantic=0.8096, Coverage=0.0000, Position=0.6314, Density=0.7162, Context=0.9135
2024-11-08 15:16:34:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 282, Chunk 0: Final Score=0.2885, BM25=0.0000, FAISS=1.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:34:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 789, Chunk 0: Final Score=0.2595, BM25=0.0195, FAISS=0.3885, Importance=0.9595, Semantic=0.6069, Coverage=0.6307, Position=0.0000, Density=0.0000, Context=0.4887
2024-11-08 15:16:34:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 279, Chunk 0: Final Score=0.2548, BM25=0.0000, FAISS=0.8834, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:34:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 579, Chunk 0: Final Score=0.1703, BM25=0.2286, FAISS=0.0000, Importance=0.8165, Semantic=0.2728, Coverage=0.0431, Position=0.4596, Density=0.1175, Context=0.6328
2024-11-08 15:16:34:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 282, Chunk 2: Final Score=0.1216, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=1.0000, Density=0.1762, Context=0.0000
2024-11-08 15:16:34:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 579, Chunk 2: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:34:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:34:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:34:INFO:utils.RAGProcessor:Query Features - Length: 11, Diversity: 0.92
2024-11-08 15:16:34:INFO:__main__:================================================================= QID: 98 =================================================================
2024-11-08 15:16:37:INFO:utils.rag_processor.query_processor:query分詞結果: 台達電/總額/所得/第三/支付/季度/多少/三季度/第三季/第三季度/活動/所得稅/2023/營業
2024-11-08 15:16:37:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:37:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 439, Chunk 24, Score: 13.0508, Term Importance: 1.1409, Semantic Similarity: 0.9914, Query Coverage: 0.8724, Position Score: 0.0158, Term Density: 0.3461, Context Similarity: 7.9070, Frequency: [('總額', 4), ('營業', 3), ('活動', 3), ('所得', 2), ('所得稅', 2), ('支付', 2)]
2024-11-08 15:16:37:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 439, Chunk 23, Score: 9.9764, Term Importance: 0.6539, Semantic Similarity: 0.9895, Query Coverage: 0.6979, Position Score: 0.0146, Term Density: 0.3461, Context Similarity: 7.6947, Frequency: [('總額', 6), ('所得', 2), ('所得稅', 2), ('營業', 2), ('支付', 2)]
2024-11-08 15:16:37:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 692, Chunk 0, Score: 8.9660, Term Importance: 0.7949, Semantic Similarity: 0.9920, Query Coverage: 0.6979, Position Score: 0.0081, Term Density: 0.5904, Context Similarity: 8.6711, Frequency: [('營業', 5), ('活動', 5), ('支付', 2), ('所得', 1), ('所得稅', 1)]
2024-11-08 15:16:37:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 835, Chunk 0, Score: 7.3891, Term Importance: 0.4761, Semantic Similarity: 0.9839, Query Coverage: 0.6064, Position Score: 0.0506, Term Density: 0.3482, Context Similarity: 2.4638, Frequency: [('第三', 1), ('第三季', 1), ('營業', 1)]
2024-11-08 15:16:38:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 566, Chunk 0, Score: 5.6459, Term Importance: 0.1012, Semantic Similarity: 0.9906, Query Coverage: 0.4145, Position Score: 0.0357, Term Density: 0.3765, Context Similarity: 7.3533, Frequency: [('所得', 2), ('所得稅', 2), ('支付', 1)]
2024-11-08 15:16:39:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:39:INFO:utils.RAGProcessor:FAISS Score: [0.7141], PDF: 692, Chunk: 0, metadata: [{}]
2024-11-08 15:16:39:INFO:utils.RAGProcessor:FAISS Score: [0.8433], PDF: 692, Chunk: 1, metadata: [{}]
2024-11-08 15:16:39:INFO:utils.RAGProcessor:FAISS Score: [0.9029], PDF: 835, Chunk: 0, metadata: [{}]
2024-11-08 15:16:39:INFO:utils.RAGProcessor:FAISS Score: [0.9175], PDF: 439, Chunk: 16, metadata: [{}]
2024-11-08 15:16:39:INFO:utils.RAGProcessor:FAISS Score: [0.9341], PDF: 439, Chunk: 9, metadata: [{}]
2024-11-08 15:16:39:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:39:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 692, Chunk 0: Final Score=0.7326, BM25=0.4484, FAISS=1.0000, Importance=0.6673, Semantic=1.0000, Coverage=0.6190, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:16:39:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 439, Chunk 24: Final Score=0.4776, BM25=1.0000, FAISS=0.0000, Importance=1.0000, Semantic=0.9339, Coverage=1.0000, Position=0.1811, Density=0.0000, Context=0.8769
2024-11-08 15:16:39:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 439, Chunk 23: Final Score=0.3148, BM25=0.5848, FAISS=0.0000, Importance=0.5317, Semantic=0.6916, Coverage=0.6190, Position=0.1532, Density=0.0000, Context=0.8427
2024-11-08 15:16:39:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 835, Chunk 0: Final Score=0.2411, BM25=0.2354, FAISS=0.1420, Importance=0.3606, Semantic=0.0000, Coverage=0.4193, Position=1.0000, Density=0.0087, Context=0.0000
2024-11-08 15:16:39:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 566, Chunk 0: Final Score=0.1822, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.8300, Coverage=0.0000, Position=0.6498, Density=0.1247, Context=0.7877
2024-11-08 15:16:39:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 692, Chunk 1: Final Score=0.1190, BM25=0.0000, FAISS=0.4126, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:39:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 439, Chunk 16: Final Score=0.0218, BM25=0.0000, FAISS=0.0757, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:39:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 439, Chunk 9: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:39:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:39:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:39:INFO:utils.RAGProcessor:Query Features - Length: 14, Diversity: 0.93
2024-11-08 15:16:39:INFO:__main__:================================================================= QID: 99 =================================================================
2024-11-08 15:16:41:INFO:utils.rag_processor.query_processor:query分詞結果: 中鋼/2022/總額/綜合損益/損益/綜合/季/多少
2024-11-08 15:16:41:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:41:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 693, Chunk 1, Score: 4.7876, Term Importance: 0.7603, Semantic Similarity: 0.9907, Query Coverage: 0.6733, Position Score: 0.0227, Term Density: 0.4347, Context Similarity: 7.5404, Frequency: [('綜合', 4), ('損益', 4), ('綜合損益', 4), ('總額', 2)]
2024-11-08 15:16:41:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 372, Chunk 0, Score: 4.2816, Term Importance: 0.9644, Semantic Similarity: 0.9908, Query Coverage: 0.6733, Position Score: 0.0052, Term Density: 0.2693, Context Similarity: 16.4834, Frequency: [('損益', 9), ('綜合', 7), ('綜合損益', 6), ('總額', 2)]
2024-11-08 15:16:41:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 693, Chunk 0, Score: 2.5282, Term Importance: 2.6866, Semantic Similarity: 0.9917, Query Coverage: 0.4134, Position Score: 0.0069, Term Density: 0.2144, Context Similarity: 18.0161, Frequency: [('損益', 12), ('綜合', 5), ('綜合損益', 4)]
2024-11-08 15:16:41:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 631, Chunk 1, Score: 2.5172, Term Importance: 0.1911, Semantic Similarity: 0.9884, Query Coverage: 0.4134, Position Score: 0.0409, Term Density: 0.2726, Context Similarity: 10.8532, Frequency: [('損益', 5), ('綜合', 3), ('綜合損益', 3)]
2024-11-08 15:16:41:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 483, Chunk 2, Score: 2.3243, Term Importance: 0.1099, Semantic Similarity: 0.9881, Query Coverage: 0.2599, Position Score: 0.0846, Term Density: 0.1040, Context Similarity: 0.0000, Frequency: [('2022', 2)]
2024-11-08 15:16:43:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:43:INFO:utils.RAGProcessor:FAISS Score: [0.7642], PDF: 693, Chunk: 0, metadata: [{}]
2024-11-08 15:16:43:INFO:utils.RAGProcessor:FAISS Score: [0.8184], PDF: 631, Chunk: 0, metadata: [{}]
2024-11-08 15:16:43:INFO:utils.RAGProcessor:FAISS Score: [0.8281], PDF: 372, Chunk: 0, metadata: [{}]
2024-11-08 15:16:43:INFO:utils.RAGProcessor:FAISS Score: [0.8513], PDF: 283, Chunk: 0, metadata: [{}]
2024-11-08 15:16:43:INFO:utils.RAGProcessor:FAISS Score: [0.9087], PDF: 693, Chunk: 1, metadata: [{}]
2024-11-08 15:16:43:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:43:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 372, Chunk 0: Final Score=0.6330, BM25=0.7946, FAISS=0.5573, Importance=0.3317, Semantic=0.7460, Coverage=1.0000, Position=0.0000, Density=0.5000, Context=0.9149
2024-11-08 15:16:43:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 693, Chunk 1: Final Score=0.5862, BM25=1.0000, FAISS=0.0000, Importance=0.2524, Semantic=0.7086, Coverage=1.0000, Position=0.2204, Density=1.0000, Context=0.4185
2024-11-08 15:16:43:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 693, Chunk 0: Final Score=0.5257, BM25=0.0828, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=0.3712, Position=0.0218, Density=0.3339, Context=1.0000
2024-11-08 15:16:43:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 631, Chunk 1: Final Score=0.2127, BM25=0.0783, FAISS=0.0000, Importance=0.0315, Semantic=0.0786, Coverage=0.3712, Position=0.4500, Density=0.5098, Context=0.6024
2024-11-08 15:16:43:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 631, Chunk 0: Final Score=0.1802, BM25=0.0000, FAISS=0.6247, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:43:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 283, Chunk 0: Final Score=0.1145, BM25=0.0000, FAISS=0.3968, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:43:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 483, Chunk 2: Final Score=0.0962, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:43:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:43:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:43:INFO:utils.RAGProcessor:Query Features - Length: 8, Diversity: 0.89
2024-11-08 15:16:43:INFO:__main__:================================================================= QID: 100 =================================================================
2024-11-08 15:16:46:INFO:utils.rag_processor.query_processor:query分詞結果: 2022/外部收入/鴻海/收入/各/季/外部/分別/部門/多少
2024-11-08 15:16:46:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:46:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 273, Chunk 0, Score: 8.0986, Term Importance: 11.2449, Semantic Similarity: 0.9874, Query Coverage: 0.7022, Position Score: 0.0256, Term Density: 0.5508, Context Similarity: 16.6746, Frequency: [('部門', 9), ('各', 2), ('收入', 1)]
2024-11-08 15:16:46:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 273, Chunk 1, Score: 6.1007, Term Importance: 5.8648, Semantic Similarity: 0.9885, Query Coverage: 0.5050, Position Score: 0.0354, Term Density: 0.5966, Context Similarity: 18.4547, Frequency: [('部門', 9), ('各', 1)]
2024-11-08 15:16:46:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 944, Chunk 8, Score: 4.4301, Term Importance: 0.1197, Semantic Similarity: 0.9811, Query Coverage: 0.4038, Position Score: 0.1380, Term Density: 0.2019, Context Similarity: 2.7792, Frequency: [('收入', 1), ('分別', 1)]
2024-11-08 15:16:46:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 63, Chunk 52, Score: 4.0804, Term Importance: 0.2592, Semantic Similarity: 0.9888, Query Coverage: 0.4038, Position Score: 0.0201, Term Density: 0.1033, Context Similarity: 7.6913, Frequency: [('收入', 3), ('各', 1)]
2024-11-08 15:16:47:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 273, Chunk 2, Score: 3.9558, Term Importance: 10.5889, Semantic Similarity: 0.9889, Query Coverage: 0.2983, Position Score: 0.0803, Term Density: 0.5966, Context Similarity: 12.1349, Frequency: [('部門', 5)]
2024-11-08 15:16:49:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:49:INFO:utils.RAGProcessor:FAISS Score: [0.7185], PDF: 273, Chunk: 3, metadata: [{}]
2024-11-08 15:16:49:INFO:utils.RAGProcessor:FAISS Score: [0.8666], PDF: 273, Chunk: 1, metadata: [{}]
2024-11-08 15:16:49:INFO:utils.RAGProcessor:FAISS Score: [0.9215], PDF: 944, Chunk: 2, metadata: [{}]
2024-11-08 15:16:49:INFO:utils.RAGProcessor:FAISS Score: [0.9577], PDF: 273, Chunk: 2, metadata: [{}]
2024-11-08 15:16:49:INFO:utils.RAGProcessor:FAISS Score: [0.9653], PDF: 63, Chunk: 5, metadata: [{}]
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 273, Chunk 0: Final Score=0.5864, BM25=1.0000, FAISS=0.0000, Importance=1.0000, Semantic=0.8101, Coverage=1.0000, Position=0.0468, Density=0.9071, Context=0.8864
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 273, Chunk 1: Final Score=0.5723, BM25=0.5178, FAISS=0.3997, Importance=0.5164, Semantic=0.9585, Coverage=0.5118, Position=0.1294, Density=1.0000, Context=1.0000
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 273, Chunk 2: Final Score=0.3078, BM25=0.0000, FAISS=0.0307, Importance=0.9410, Semantic=1.0000, Coverage=0.0000, Position=0.5108, Density=1.0000, Context=0.5968
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 273, Chunk 3: Final Score=0.2885, BM25=0.0000, FAISS=1.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 944, Chunk 8: Final Score=0.1815, BM25=0.1145, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.2613, Position=1.0000, Density=0.1998, Context=0.0000
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 63, Chunk 52: Final Score=0.1286, BM25=0.0301, FAISS=0.0000, Importance=0.0125, Semantic=0.9935, Coverage=0.2613, Position=0.0000, Density=0.0000, Context=0.3134
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 944, Chunk 2: Final Score=0.0511, BM25=0.0000, FAISS=0.1773, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 63, Chunk 5: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:49:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:49:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:49:INFO:utils.RAGProcessor:Query Features - Length: 10, Diversity: 0.91
2024-11-08 15:16:49:INFO:__main__:================================================================= QID: 101 =================================================================
2024-11-08 15:16:49:INFO:utils.rag_processor.query_processor:query分詞結果: 向/學/間/成績單/證明/學生/相關/之該/每年/學期/入/註冊/核發/成績/出國/留學/幾月/繳交/留學生/移民/本行/日期/文件/及入/署/證明書/有關
2024-11-08 15:16:49:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:49:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 558, Chunk 0, Score: 22.2171, Term Importance: 11.4274, Semantic Similarity: 0.9967, Query Coverage: 0.8024, Position Score: 0.0934, Term Density: 1.3540, Context Similarity: 10.4560, Frequency: [('繳交', 3), ('留學', 2), ('學生', 2), ('留學生', 2), ('學', 2), ('證明', 2), ('文件', 2), ('每年', 1)]
2024-11-08 15:16:49:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 207, Chunk 0, Score: 3.9280, Term Importance: 0.3671, Semantic Similarity: 0.9898, Query Coverage: 0.1749, Position Score: 0.0508, Term Density: 0.1354, Context Similarity: 5.5740, Frequency: [('日期', 2), ('相關', 1)]
2024-11-08 15:16:49:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 474, Chunk 0, Score: 2.9757, Term Importance: 4.3858, Semantic Similarity: 0.9929, Query Coverage: 0.1003, Position Score: 0.0269, Term Density: 0.4062, Context Similarity: 17.4306, Frequency: [('註冊', 6)]
2024-11-08 15:16:49:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 382, Chunk 0, Score: 2.2602, Term Importance: 0.8271, Semantic Similarity: 0.9882, Query Coverage: 0.0746, Position Score: 0.0785, Term Density: 0.3022, Context Similarity: 0.0000, Frequency: [('本行', 4)]
2024-11-08 15:16:49:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 441, Chunk 0, Score: 2.0646, Term Importance: 1.4416, Semantic Similarity: 0.9910, Query Coverage: 0.0746, Position Score: 0.0491, Term Density: 0.1007, Context Similarity: 0.0000, Frequency: [('本行', 2)]
2024-11-08 15:16:49:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:49:INFO:utils.RAGProcessor:FAISS Score: [0.4029], PDF: 558, Chunk: 0, metadata: [{}]
2024-11-08 15:16:49:INFO:utils.RAGProcessor:FAISS Score: [0.9987], PDF: 148, Chunk: 0, metadata: [{}]
2024-11-08 15:16:49:INFO:utils.RAGProcessor:FAISS Score: [1.0146], PDF: 398, Chunk: 0, metadata: [{}]
2024-11-08 15:16:49:INFO:utils.RAGProcessor:FAISS Score: [1.0257], PDF: 441, Chunk: 0, metadata: [{}]
2024-11-08 15:16:49:INFO:utils.RAGProcessor:FAISS Score: [1.0367], PDF: 32, Chunk: 0, metadata: [{}]
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 558, Chunk 0: Final Score=0.9808, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=0.5999
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 474, Chunk 0: Final Score=0.1406, BM25=0.0452, FAISS=0.0000, Importance=0.3633, Semantic=0.5577, Coverage=0.0353, Position=0.0000, Density=0.2437, Context=1.0000
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 207, Chunk 0: Final Score=0.1059, BM25=0.0925, FAISS=0.0000, Importance=0.0000, Semantic=0.1930, Coverage=0.1378, Position=0.3587, Density=0.0277, Context=0.3198
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 382, Chunk 0: Final Score=0.1000, BM25=0.0097, FAISS=0.0000, Importance=0.0416, Semantic=0.0000, Coverage=0.0000, Position=0.7760, Density=0.1608, Context=0.0000
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 441, Chunk 0: Final Score=0.0627, BM25=0.0000, FAISS=0.0174, Importance=0.0971, Semantic=0.3328, Coverage=0.0000, Position=0.3335, Density=0.0000, Context=0.0000
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 148, Chunk 0: Final Score=0.0173, BM25=0.0000, FAISS=0.0600, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 398, Chunk 0: Final Score=0.0100, BM25=0.0000, FAISS=0.0348, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 32, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:49:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:49:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:49:INFO:utils.RAGProcessor:Query Features - Length: 27, Diversity: 0.96
2024-11-08 15:16:49:INFO:__main__:================================================================= QID: 102 =================================================================
2024-11-08 15:16:49:INFO:utils.rag_processor.query_processor:query分詞結果: 支付/帳戶/玉山/儲值/要/電子
2024-11-08 15:16:49:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:49:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 104, Chunk 0, Score: 10.1738, Term Importance: 8.2342, Semantic Similarity: 0.9940, Query Coverage: 1.6115, Position Score: 0.1022, Term Density: 1.1572, Context Similarity: 6.2071, Frequency: [('儲值', 4), ('玉山', 3), ('帳戶', 3), ('支付', 2), ('電子', 1)]
2024-11-08 15:16:49:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 186, Chunk 0, Score: 5.2477, Term Importance: 21.5073, Semantic Similarity: 0.9838, Query Coverage: 0.8243, Position Score: 0.0267, Term Density: 0.6961, Context Similarity: 32.2423, Frequency: [('支付', 12), ('玉山', 8), ('電子', 8)]
2024-11-08 15:16:49:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 467, Chunk 0, Score: 2.7988, Term Importance: 1.9786, Semantic Similarity: 0.9838, Query Coverage: 0.4885, Position Score: 0.0702, Term Density: 0.3448, Context Similarity: 15.0558, Frequency: [('玉山', 6), ('電子', 2)]
2024-11-08 15:16:49:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 543, Chunk 0, Score: 1.8559, Term Importance: 0.0916, Semantic Similarity: 0.9875, Query Coverage: 0.3358, Position Score: 0.5962, Term Density: 0.1007, Context Similarity: 2.7429, Frequency: [('帳戶', 1)]
2024-11-08 15:16:49:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 413, Chunk 0, Score: 1.0167, Term Importance: 0.1516, Semantic Similarity: 0.9916, Query Coverage: 0.2203, Position Score: 0.0307, Term Density: 0.0661, Context Similarity: 4.9097, Frequency: [('玉山', 2)]
2024-11-08 15:16:49:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:49:INFO:utils.RAGProcessor:FAISS Score: [0.4461], PDF: 104, Chunk: 0, metadata: [{}]
2024-11-08 15:16:49:INFO:utils.RAGProcessor:FAISS Score: [0.7253], PDF: 186, Chunk: 0, metadata: [{}]
2024-11-08 15:16:49:INFO:utils.RAGProcessor:FAISS Score: [0.8960], PDF: 14, Chunk: 0, metadata: [{}]
2024-11-08 15:16:49:INFO:utils.RAGProcessor:FAISS Score: [0.8977], PDF: 413, Chunk: 0, metadata: [{}]
2024-11-08 15:16:49:INFO:utils.RAGProcessor:FAISS Score: [0.9060], PDF: 467, Chunk: 0, metadata: [{}]
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 104, Chunk 0: Final Score=0.8742, BM25=1.0000, FAISS=1.0000, Importance=0.3802, Semantic=1.0000, Coverage=1.0000, Position=0.1325, Density=1.0000, Context=0.1174
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 186, Chunk 0: Final Score=0.4017, BM25=0.4620, FAISS=0.3929, Importance=1.0000, Semantic=0.0030, Coverage=0.4342, Position=0.0000, Density=0.5774, Context=1.0000
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 543, Chunk 0: Final Score=0.1596, BM25=0.0916, FAISS=0.0000, Importance=0.0000, Semantic=0.3653, Coverage=0.0830, Position=1.0000, Density=0.0318, Context=0.0000
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 467, Chunk 0: Final Score=0.1314, BM25=0.1946, FAISS=0.0000, Importance=0.0881, Semantic=0.0000, Coverage=0.1928, Position=0.0763, Density=0.2555, Context=0.4174
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 413, Chunk 0: Final Score=0.0685, BM25=0.0000, FAISS=0.0179, Importance=0.0028, Semantic=0.7689, Coverage=0.0000, Position=0.0070, Density=0.0000, Context=0.0735
2024-11-08 15:16:49:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 14, Chunk 0: Final Score=0.0063, BM25=0.0000, FAISS=0.0217, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:49:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:49:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:49:INFO:utils.RAGProcessor:Query Features - Length: 6, Diversity: 0.86
2024-11-08 15:16:49:INFO:__main__:================================================================= QID: 103 =================================================================
2024-11-08 15:16:49:INFO:utils.rag_processor.query_processor:query分詞結果: 取消/通知/請問/個人化/個人/服務/人化/LINE
2024-11-08 15:16:49:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:50:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 63, Chunk 0, Score: 16.4317, Term Importance: 19.3697, Semantic Similarity: 0.9939, Query Coverage: 1.8856, Position Score: 0.0446, Term Density: 1.4739, Context Similarity: 8.7218, Frequency: [('通知', 7), ('取消', 4), ('LINE', 4), ('個人', 3), ('人化', 3), ('個人化', 3), ('服務', 3)]
2024-11-08 15:16:50:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 609, Chunk 0, Score: 3.5946, Term Importance: 1.0461, Semantic Similarity: 0.9856, Query Coverage: 0.4530, Position Score: 0.0389, Term Density: 0.1609, Context Similarity: 7.5706, Frequency: [('通知', 2), ('個人', 2)]
2024-11-08 15:16:50:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 373, Chunk 0, Score: 2.0371, Term Importance: 0.1982, Semantic Similarity: 0.9861, Query Coverage: 0.2519, Position Score: 0.0473, Term Density: 0.1007, Context Similarity: 6.3707, Frequency: [('取消', 2)]
2024-11-08 15:16:50:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 436, Chunk 0, Score: 1.4327, Term Importance: 0.0619, Semantic Similarity: 0.9771, Query Coverage: 0.2012, Position Score: 0.6154, Term Density: 0.0805, Context Similarity: 2.6060, Frequency: [('個人', 1)]
2024-11-08 15:16:50:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 44, Chunk 0, Score: 1.2845, Term Importance: 0.9583, Semantic Similarity: 0.9816, Query Coverage: 0.1652, Position Score: 0.1127, Term Density: 0.1983, Context Similarity: 7.4899, Frequency: [('服務', 3)]
2024-11-08 15:16:50:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:50:INFO:utils.RAGProcessor:FAISS Score: [0.6182], PDF: 63, Chunk: 0, metadata: [{}]
2024-11-08 15:16:50:INFO:utils.RAGProcessor:FAISS Score: [1.0599], PDF: 524, Chunk: 0, metadata: [{}]
2024-11-08 15:16:50:INFO:utils.RAGProcessor:FAISS Score: [1.1407], PDF: 609, Chunk: 0, metadata: [{}]
2024-11-08 15:16:50:INFO:utils.RAGProcessor:FAISS Score: [1.1502], PDF: 129, Chunk: 0, metadata: [{}]
2024-11-08 15:16:50:INFO:utils.RAGProcessor:FAISS Score: [1.1750], PDF: 149, Chunk: 0, metadata: [{}]
2024-11-08 15:16:50:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 63, Chunk 0: Final Score=0.9048, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0098, Density=1.0000, Context=1.0000
2024-11-08 15:16:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 609, Chunk 0: Final Score=0.1586, BM25=0.1525, FAISS=0.0614, Importance=0.0510, Semantic=0.5069, Coverage=0.1673, Position=0.0000, Density=0.0578, Context=0.8118
2024-11-08 15:16:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 436, Chunk 0: Final Score=0.1008, BM25=0.0098, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0209, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 373, Chunk 0: Final Score=0.0917, BM25=0.0497, FAISS=0.0000, Importance=0.0071, Semantic=0.5372, Coverage=0.0504, Position=0.0145, Density=0.0145, Context=0.6156
2024-11-08 15:16:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 44, Chunk 0: Final Score=0.0838, BM25=0.0000, FAISS=0.0000, Importance=0.0464, Semantic=0.2723, Coverage=0.0000, Position=0.1280, Density=0.0845, Context=0.7986
2024-11-08 15:16:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 524, Chunk 0: Final Score=0.0596, BM25=0.0000, FAISS=0.2066, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 129, Chunk 0: Final Score=0.0128, BM25=0.0000, FAISS=0.0444, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 149, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:50:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:50:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:50:INFO:utils.RAGProcessor:Query Features - Length: 8, Diversity: 0.89
2024-11-08 15:16:50:INFO:__main__:================================================================= QID: 104 =================================================================
2024-11-08 15:16:50:INFO:utils.rag_processor.query_processor:query分詞結果: 取消/可以/全球通/提領/全球/確認/玉山/交易
2024-11-08 15:16:50:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:50:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 15, Chunk 0, Score: 16.1127, Term Importance: 3.9921, Semantic Similarity: 0.9984, Query Coverage: 1.9363, Position Score: 0.1939, Term Density: 1.4438, Context Similarity: 5.0190, Frequency: [('取消', 2), ('交易', 2), ('玉山', 1), ('全球', 1), ('全球通', 1), ('確認', 1), ('提領', 1)]
2024-11-08 15:16:50:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 463, Chunk 0, Score: 2.2890, Term Importance: 0.1290, Semantic Similarity: 0.9630, Query Coverage: 0.3385, Position Score: 0.7468, Term Density: 0.1354, Context Similarity: 3.2690, Frequency: [('可以', 1)]
2024-11-08 15:16:50:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 62, Chunk 0, Score: 2.0379, Term Importance: 0.6716, Semantic Similarity: 0.9884, Query Coverage: 0.2519, Position Score: 0.8889, Term Density: 0.1259, Context Similarity: 2.5908, Frequency: [('提領', 1)]
2024-11-08 15:16:50:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 551, Chunk 0, Score: 1.8901, Term Importance: 0.0650, Semantic Similarity: 0.9893, Query Coverage: 0.2519, Position Score: 0.5238, Term Density: 0.1007, Context Similarity: 2.1248, Frequency: [('交易', 1)]
2024-11-08 15:16:50:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 194, Chunk 0, Score: 1.7015, Term Importance: 0.0775, Semantic Similarity: 0.9839, Query Coverage: 0.2519, Position Score: 0.7024, Term Density: 0.1007, Context Similarity: 3.2586, Frequency: [('確認', 1)]
2024-11-08 15:16:50:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:50:INFO:utils.RAGProcessor:FAISS Score: [0.3662], PDF: 15, Chunk: 0, metadata: [{}]
2024-11-08 15:16:50:INFO:utils.RAGProcessor:FAISS Score: [0.9038], PDF: 62, Chunk: 0, metadata: [{}]
2024-11-08 15:16:50:INFO:utils.RAGProcessor:FAISS Score: [0.9298], PDF: 551, Chunk: 0, metadata: [{}]
2024-11-08 15:16:50:INFO:utils.RAGProcessor:FAISS Score: [0.9609], PDF: 544, Chunk: 0, metadata: [{}]
2024-11-08 15:16:50:INFO:utils.RAGProcessor:FAISS Score: [1.0184], PDF: 152, Chunk: 0, metadata: [{}]
2024-11-08 15:16:50:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 15, Chunk 0: Final Score=0.9038, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:16:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 62, Chunk 0: Final Score=0.2177, BM25=0.0233, FAISS=0.1757, Importance=0.1545, Semantic=0.7161, Coverage=0.0000, Position=1.0000, Density=0.0188, Context=0.1610
2024-11-08 15:16:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 551, Chunk 0: Final Score=0.1450, BM25=0.0131, FAISS=0.1358, Importance=0.0000, Semantic=0.7426, Coverage=0.0000, Position=0.4747, Density=0.0000, Context=0.0000
2024-11-08 15:16:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 194, Chunk 0: Final Score=0.1345, BM25=0.0000, FAISS=0.0000, Importance=0.0032, Semantic=0.5891, Coverage=0.0000, Position=0.7316, Density=0.0000, Context=0.3918
2024-11-08 15:16:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 463, Chunk 0: Final Score=0.1146, BM25=0.0408, FAISS=0.0000, Importance=0.0163, Semantic=0.0000, Coverage=0.0514, Position=0.7956, Density=0.0258, Context=0.3953
2024-11-08 15:16:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 544, Chunk 0: Final Score=0.0254, BM25=0.0000, FAISS=0.0881, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:50:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 152, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:50:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:50:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:50:INFO:utils.RAGProcessor:Query Features - Length: 8, Diversity: 0.89
2024-11-08 15:16:50:INFO:__main__:================================================================= QID: 105 =================================================================
2024-11-08 15:16:50:INFO:utils.rag_processor.query_processor:query分詞結果: 中斷/通知/投保/玉山/網路/銀行/服務/會
2024-11-08 15:16:50:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:50:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 294, Chunk 0, Score: 10.9530, Term Importance: 9.7007, Semantic Similarity: 0.9937, Query Coverage: 1.4326, Position Score: 0.0621, Term Density: 0.8844, Context Similarity: 12.7665, Frequency: [('網路', 4), ('投保', 4), ('玉山', 3), ('銀行', 3), ('會', 1), ('通知', 1)]
2024-11-08 15:16:50:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 614, Chunk 0, Score: 6.6372, Term Importance: 2.2635, Semantic Similarity: 0.9928, Query Coverage: 0.8929, Position Score: 0.0640, Term Density: 0.4579, Context Similarity: 10.3357, Frequency: [('投保', 4), ('玉山', 3), ('銀行', 2), ('網路', 1)]
2024-11-08 15:16:50:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 344, Chunk 0, Score: 2.7072, Term Importance: 0.3126, Semantic Similarity: 0.9903, Query Coverage: 0.3385, Position Score: 0.1407, Term Density: 0.2708, Context Similarity: 4.2833, Frequency: [('服務', 2)]
2024-11-08 15:16:50:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 310, Chunk 0, Score: 1.5465, Term Importance: 0.4381, Semantic Similarity: 0.9902, Query Coverage: 0.2012, Position Score: 0.0589, Term Density: 0.0805, Context Similarity: 5.4497, Frequency: [('會', 2)]
2024-11-08 15:16:50:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 318, Chunk 0, Score: 1.0713, Term Importance: 0.3219, Semantic Similarity: 0.9888, Query Coverage: 0.2012, Position Score: 0.9612, Term Density: 0.0805, Context Similarity: 3.0575, Frequency: [('會', 1)]
2024-11-08 15:16:51:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:51:INFO:utils.RAGProcessor:FAISS Score: [0.6159], PDF: 294, Chunk: 0, metadata: [{}]
2024-11-08 15:16:51:INFO:utils.RAGProcessor:FAISS Score: [0.7915], PDF: 614, Chunk: 0, metadata: [{}]
2024-11-08 15:16:51:INFO:utils.RAGProcessor:FAISS Score: [0.9900], PDF: 342, Chunk: 0, metadata: [{}]
2024-11-08 15:16:51:INFO:utils.RAGProcessor:FAISS Score: [1.0222], PDF: 467, Chunk: 0, metadata: [{}]
2024-11-08 15:16:51:INFO:utils.RAGProcessor:FAISS Score: [1.0239], PDF: 344, Chunk: 0, metadata: [{}]
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 294, Chunk 0: Final Score=0.9042, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0035, Density=1.0000, Context=1.0000
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 614, Chunk 0: Final Score=0.5262, BM25=0.5633, FAISS=0.5695, Importance=0.2078, Semantic=0.8168, Coverage=0.5617, Position=0.0056, Density=0.4695, Context=0.7496
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 344, Chunk 0: Final Score=0.1242, BM25=0.1655, FAISS=0.0000, Importance=0.0000, Semantic=0.3143, Coverage=0.1115, Position=0.0907, Density=0.2368, Context=0.1263
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 318, Chunk 0: Final Score=0.0962, BM25=0.0000, FAISS=0.0000, Importance=0.0010, Semantic=0.0000, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 310, Chunk 0: Final Score=0.0458, BM25=0.0481, FAISS=0.0000, Importance=0.0134, Semantic=0.2978, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.2464
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 342, Chunk 0: Final Score=0.0240, BM25=0.0000, FAISS=0.0830, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 467, Chunk 0: Final Score=0.0012, BM25=0.0000, FAISS=0.0041, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:51:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:51:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:51:INFO:utils.RAGProcessor:Query Features - Length: 8, Diversity: 0.89
2024-11-08 15:16:51:INFO:__main__:================================================================= QID: 106 =================================================================
2024-11-08 15:16:51:INFO:utils.rag_processor.query_processor:query分詞結果: 房貸/成功/繳月省/算/扣款/情況/才/月
2024-11-08 15:16:51:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:51:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 224, Chunk 0, Score: 14.1422, Term Importance: 29.5446, Semantic Similarity: 0.9893, Query Coverage: 1.6059, Position Score: 0.0212, Term Density: 1.3194, Context Similarity: 6.2517, Frequency: [('房貸', 9), ('扣款', 8), ('成功', 6), ('月', 5), ('繳月省', 5)]
2024-11-08 15:16:51:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 67, Chunk 0, Score: 2.2015, Term Importance: 1.0947, Semantic Similarity: 0.9811, Query Coverage: 0.2519, Position Score: 0.0509, Term Density: 0.2015, Context Similarity: 12.7194, Frequency: [('成功', 4)]
2024-11-08 15:16:51:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 323, Chunk 0, Score: 1.9447, Term Importance: 0.0661, Semantic Similarity: 0.9803, Query Coverage: 0.3385, Position Score: 0.7516, Term Density: 0.1354, Context Similarity: 3.2598, Frequency: [('情況', 1)]
2024-11-08 15:16:51:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 418, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9764, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:16:51:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 479, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9583, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:16:51:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:51:INFO:utils.RAGProcessor:FAISS Score: [0.5355], PDF: 224, Chunk: 0, metadata: [{}]
2024-11-08 15:16:51:INFO:utils.RAGProcessor:FAISS Score: [0.8994], PDF: 312, Chunk: 0, metadata: [{}]
2024-11-08 15:16:51:INFO:utils.RAGProcessor:FAISS Score: [0.9792], PDF: 399, Chunk: 0, metadata: [{}]
2024-11-08 15:16:51:INFO:utils.RAGProcessor:FAISS Score: [1.0245], PDF: 67, Chunk: 0, metadata: [{}]
2024-11-08 15:16:51:INFO:utils.RAGProcessor:FAISS Score: [1.0314], PDF: 418, Chunk: 0, metadata: [{}]
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 224, Chunk 0: Final Score=0.8821, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0282, Density=1.0000, Context=0.4915
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 323, Chunk 0: Final Score=0.2340, BM25=0.1375, FAISS=0.0000, Importance=0.0022, Semantic=0.7102, Coverage=0.2108, Position=1.0000, Density=0.1026, Context=0.2563
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 67, Chunk 0: Final Score=0.1912, BM25=0.1557, FAISS=0.0138, Importance=0.0371, Semantic=0.7357, Coverage=0.1568, Position=0.0677, Density=0.1527, Context=1.0000
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 312, Chunk 0: Final Score=0.0768, BM25=0.0000, FAISS=0.2661, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 418, Chunk 0: Final Score=0.0450, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.5848, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 399, Chunk 0: Final Score=0.0304, BM25=0.0000, FAISS=0.1053, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 479, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:51:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:51:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:51:INFO:utils.RAGProcessor:Query Features - Length: 8, Diversity: 0.89
2024-11-08 15:16:51:INFO:__main__:================================================================= QID: 107 =================================================================
2024-11-08 15:16:51:INFO:utils.rag_processor.query_processor:query分詞結果: 通知/補件/收到/完成
2024-11-08 15:16:51:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:51:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 540, Chunk 0, Score: 9.2106, Term Importance: 15.0042, Semantic Similarity: 0.9752, Query Coverage: 2.1882, Position Score: 0.0431, Term Density: 0.6738, Context Similarity: 5.2862, Frequency: [('補件', 7), ('收到', 2), ('通知', 2), ('完成', 2)]
2024-11-08 15:16:51:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 88, Chunk 0, Score: 6.1184, Term Importance: 3.5657, Semantic Similarity: 0.9761, Query Coverage: 1.5112, Position Score: 0.0253, Term Density: 0.5037, Context Similarity: 13.0580, Frequency: [('通知', 5), ('收到', 3), ('完成', 2)]
2024-11-08 15:16:51:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 419, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9713, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:16:51:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 238, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9689, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:16:51:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 151, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9575, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:16:51:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:51:INFO:utils.RAGProcessor:FAISS Score: [0.6322], PDF: 540, Chunk: 0, metadata: [{}]
2024-11-08 15:16:51:INFO:utils.RAGProcessor:FAISS Score: [0.9911], PDF: 474, Chunk: 0, metadata: [{}]
2024-11-08 15:16:51:INFO:utils.RAGProcessor:FAISS Score: [1.0120], PDF: 524, Chunk: 0, metadata: [{}]
2024-11-08 15:16:51:INFO:utils.RAGProcessor:FAISS Score: [1.0424], PDF: 541, Chunk: 0, metadata: [{}]
2024-11-08 15:16:51:INFO:utils.RAGProcessor:FAISS Score: [1.0468], PDF: 425, Chunk: 0, metadata: [{}]
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 540, Chunk 0: Final Score=0.9679, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.9541, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=0.4048
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 88, Chunk 0: Final Score=0.5223, BM25=0.6643, FAISS=0.0000, Importance=0.2376, Semantic=1.0000, Coverage=0.6906, Position=0.5880, Density=0.7476, Context=1.0000
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 419, Chunk 0: Final Score=0.0573, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.7443, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 238, Chunk 0: Final Score=0.0473, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.6150, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 474, Chunk 0: Final Score=0.0388, BM25=0.0000, FAISS=0.1344, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 524, Chunk 0: Final Score=0.0243, BM25=0.0000, FAISS=0.0841, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 541, Chunk 0: Final Score=0.0031, BM25=0.0000, FAISS=0.0108, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 151, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:51:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 425, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:51:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:51:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:51:INFO:utils.RAGProcessor:Query Features - Length: 4, Diversity: 0.80
2024-11-08 15:16:51:INFO:__main__:================================================================= QID: 108 =================================================================
2024-11-08 15:16:51:INFO:utils.rag_processor.query_processor:query分詞結果: 人臉/可以/哪些/玉山/銀行/使用/交易/辨識
2024-11-08 15:16:51:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:51:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 105, Chunk 0, Score: 12.1227, Term Importance: 32.8464, Semantic Similarity: 0.9947, Query Coverage: 1.6292, Position Score: 0.0395, Term Density: 1.2081, Context Similarity: 18.0636, Frequency: [('玉山', 8), ('銀行', 8), ('辨識', 8), ('人臉', 7), ('交易', 3), ('使用', 2), ('可以', 1), ('哪些', 1)]
2024-11-08 15:16:52:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 539, Chunk 0, Score: 4.0366, Term Importance: 1.1216, Semantic Similarity: 0.9889, Query Coverage: 0.7870, Position Score: 0.0236, Term Density: 0.2767, Context Similarity: 10.7530, Frequency: [('銀行', 5), ('交易', 4), ('玉山', 2), ('可以', 1), ('哪些', 1)]
2024-11-08 15:16:52:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 205, Chunk 0, Score: 2.7647, Term Importance: 4.4707, Semantic Similarity: 0.9877, Query Coverage: 0.4399, Position Score: 0.0545, Term Density: 0.2420, Context Similarity: 9.8228, Frequency: [('使用', 4), ('玉山', 3), ('銀行', 1)]
2024-11-08 15:16:52:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 177, Chunk 0, Score: 2.5613, Term Importance: 4.9582, Semantic Similarity: 0.9852, Query Coverage: 0.5351, Position Score: 0.0287, Term Density: 0.2578, Context Similarity: 12.6090, Frequency: [('玉山', 8), ('銀行', 2), ('使用', 1), ('哪些', 1)]
2024-11-08 15:16:52:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 551, Chunk 0, Score: 2.2852, Term Importance: 0.1356, Semantic Similarity: 0.9873, Query Coverage: 0.4257, Position Score: 0.1509, Term Density: 0.1703, Context Similarity: 3.4971, Frequency: [('哪些', 1), ('使用', 1), ('交易', 1)]
2024-11-08 15:16:52:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:52:INFO:utils.RAGProcessor:FAISS Score: [0.5926], PDF: 105, Chunk: 0, metadata: [{}]
2024-11-08 15:16:52:INFO:utils.RAGProcessor:FAISS Score: [0.9524], PDF: 205, Chunk: 0, metadata: [{}]
2024-11-08 15:16:52:INFO:utils.RAGProcessor:FAISS Score: [0.9709], PDF: 177, Chunk: 0, metadata: [{}]
2024-11-08 15:16:52:INFO:utils.RAGProcessor:FAISS Score: [1.0601], PDF: 498, Chunk: 0, metadata: [{}]
2024-11-08 15:16:52:INFO:utils.RAGProcessor:FAISS Score: [1.0662], PDF: 175, Chunk: 0, metadata: [{}]
2024-11-08 15:16:52:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 105, Chunk 0: Final Score=0.9159, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.1249, Density=1.0000, Context=1.0000
2024-11-08 15:16:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 205, Chunk 0: Final Score=0.1564, BM25=0.0487, FAISS=0.2403, Importance=0.1325, Semantic=0.2633, Coverage=0.0118, Position=0.2429, Density=0.0691, Context=0.4343
2024-11-08 15:16:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 539, Chunk 0: Final Score=0.1443, BM25=0.1780, FAISS=0.0000, Importance=0.0301, Semantic=0.3876, Coverage=0.3002, Position=0.0000, Density=0.1025, Context=0.4981
2024-11-08 15:16:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 177, Chunk 0: Final Score=0.1211, BM25=0.0281, FAISS=0.2013, Importance=0.1474, Semantic=0.0000, Coverage=0.0909, Position=0.0403, Density=0.0844, Context=0.6255
2024-11-08 15:16:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 551, Chunk 0: Final Score=0.1128, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.2164, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 498, Chunk 0: Final Score=0.0037, BM25=0.0000, FAISS=0.0128, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 175, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:52:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:52:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:52:INFO:utils.RAGProcessor:Query Features - Length: 8, Diversity: 0.89
2024-11-08 15:16:52:INFO:__main__:================================================================= QID: 109 =================================================================
2024-11-08 15:16:52:INFO:utils.rag_processor.query_processor:query分詞結果: 刷臉/可以/透過/哪些/ID/更新/步驟
2024-11-08 15:16:52:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:52:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 283, Chunk 0, Score: 11.0391, Term Importance: 37.2245, Semantic Similarity: 0.9852, Query Coverage: 1.6784, Position Score: 0.0185, Term Density: 0.8582, Context Similarity: 7.0425, Frequency: [('刷臉', 12), ('更新', 8), ('ID', 8), ('哪些', 2), ('步驟', 1)]
2024-11-08 15:16:52:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 409, Chunk 0, Score: 2.4791, Term Importance: 0.3384, Semantic Similarity: 0.9719, Query Coverage: 0.4187, Position Score: 0.5217, Term Density: 0.1628, Context Similarity: 3.4534, Frequency: [('可以', 1), ('透過', 1)]
2024-11-08 15:16:52:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 556, Chunk 0, Score: 2.2008, Term Importance: 0.2504, Semantic Similarity: 0.9829, Query Coverage: 0.5496, Position Score: 0.0335, Term Density: 0.1007, Context Similarity: 4.2435, Frequency: [('透過', 1), ('哪些', 1), ('可以', 1)]
2024-11-08 15:16:52:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 441, Chunk 0, Score: 0.9541, Term Importance: 0.8404, Semantic Similarity: 0.9850, Query Coverage: 0.2618, Position Score: 0.0842, Term Density: 0.1374, Context Similarity: 9.9687, Frequency: [('可以', 3), ('哪些', 2)]
2024-11-08 15:16:52:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 552, Chunk 0, Score: 0.8647, Term Importance: 0.1425, Semantic Similarity: 0.9820, Query Coverage: 0.2618, Position Score: 0.1840, Term Density: 0.0916, Context Similarity: 3.6540, Frequency: [('可以', 1), ('哪些', 1)]
2024-11-08 15:16:52:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:52:INFO:utils.RAGProcessor:FAISS Score: [0.6211], PDF: 283, Chunk: 0, metadata: [{}]
2024-11-08 15:16:52:INFO:utils.RAGProcessor:FAISS Score: [1.0376], PDF: 234, Chunk: 0, metadata: [{}]
2024-11-08 15:16:52:INFO:utils.RAGProcessor:FAISS Score: [1.0451], PDF: 374, Chunk: 0, metadata: [{}]
2024-11-08 15:16:52:INFO:utils.RAGProcessor:FAISS Score: [1.0513], PDF: 441, Chunk: 0, metadata: [{}]
2024-11-08 15:16:52:INFO:utils.RAGProcessor:FAISS Score: [1.0670], PDF: 409, Chunk: 0, metadata: [{}]
2024-11-08 15:16:52:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 283, Chunk 0: Final Score=0.8823, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=0.5509
2024-11-08 15:16:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 409, Chunk 0: Final Score=0.1590, BM25=0.1587, FAISS=0.0000, Importance=0.0053, Semantic=0.0000, Coverage=0.1108, Position=1.0000, Density=0.0929, Context=0.0000
2024-11-08 15:16:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 441, Chunk 0: Final Score=0.1571, BM25=0.0088, FAISS=0.0352, Importance=0.0188, Semantic=0.9835, Coverage=0.0000, Position=0.1306, Density=0.0598, Context=1.0000
2024-11-08 15:16:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 556, Chunk 0: Final Score=0.1281, BM25=0.1313, FAISS=0.0000, Importance=0.0029, Semantic=0.8311, Coverage=0.2032, Position=0.0299, Density=0.0119, Context=0.1213
2024-11-08 15:16:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 552, Chunk 0: Final Score=0.0915, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.7586, Coverage=0.0000, Position=0.3290, Density=0.0000, Context=0.0308
2024-11-08 15:16:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 234, Chunk 0: Final Score=0.0190, BM25=0.0000, FAISS=0.0659, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:52:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 374, Chunk 0: Final Score=0.0142, BM25=0.0000, FAISS=0.0491, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:52:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:52:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:52:INFO:utils.RAGProcessor:Query Features - Length: 7, Diversity: 0.88
2024-11-08 15:16:52:INFO:__main__:================================================================= QID: 110 =================================================================
2024-11-08 15:16:52:INFO:utils.rag_processor.query_processor:query分詞結果: 哪裡/可以/契約/收到/信貸
2024-11-08 15:16:52:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:52:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 611, Chunk 0, Score: 10.3238, Term Importance: 9.2115, Semantic Similarity: 0.9955, Query Coverage: 2.0416, Position Score: 0.1181, Term Density: 1.0174, Context Similarity: 8.4848, Frequency: [('信貸', 3), ('契約', 3), ('收到', 2), ('可以', 1), ('哪裡', 1)]
2024-11-08 15:16:52:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 436, Chunk 0, Score: 1.9921, Term Importance: 0.0883, Semantic Similarity: 0.9850, Query Coverage: 0.5554, Position Score: 0.2083, Term Density: 0.1389, Context Similarity: 3.6736, Frequency: [('信貸', 1), ('可以', 1)]
2024-11-08 15:16:52:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 547, Chunk 0, Score: 1.6932, Term Importance: 0.0362, Semantic Similarity: 0.9830, Query Coverage: 0.5554, Position Score: 0.4187, Term Density: 0.1389, Context Similarity: 3.4799, Frequency: [('可以', 1), ('哪裡', 1)]
2024-11-08 15:16:52:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 284, Chunk 0, Score: 0.1523, Term Importance: 0.3926, Semantic Similarity: 0.9866, Query Coverage: 0.1524, Position Score: 0.2757, Term Density: 0.0762, Context Similarity: 4.5301, Frequency: [('可以', 2)]
2024-11-08 15:16:52:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 149, Chunk 0, Score: 0.1503, Term Importance: 0.3713, Semantic Similarity: 0.9866, Query Coverage: 0.1524, Position Score: 0.2159, Term Density: 0.0762, Context Similarity: 4.2992, Frequency: [('可以', 2)]
2024-11-08 15:16:53:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:53:INFO:utils.RAGProcessor:FAISS Score: [0.7042], PDF: 611, Chunk: 0, metadata: [{}]
2024-11-08 15:16:53:INFO:utils.RAGProcessor:FAISS Score: [0.9744], PDF: 547, Chunk: 0, metadata: [{}]
2024-11-08 15:16:53:INFO:utils.RAGProcessor:FAISS Score: [0.9999], PDF: 11, Chunk: 0, metadata: [{}]
2024-11-08 15:16:53:INFO:utils.RAGProcessor:FAISS Score: [1.0331], PDF: 252, Chunk: 0, metadata: [{}]
2024-11-08 15:16:53:INFO:utils.RAGProcessor:FAISS Score: [1.0372], PDF: 197, Chunk: 0, metadata: [{}]
2024-11-08 15:16:53:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 611, Chunk 0: Final Score=0.9038, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:16:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 547, Chunk 0: Final Score=0.2197, BM25=0.1517, FAISS=0.1885, Importance=0.0000, Semantic=0.0000, Coverage=0.2133, Position=1.0000, Density=0.0666, Context=0.0000
2024-11-08 15:16:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 436, Chunk 0: Final Score=0.1189, BM25=0.1810, FAISS=0.0000, Importance=0.0057, Semantic=0.1579, Coverage=0.2133, Position=0.3002, Density=0.0666, Context=0.0387
2024-11-08 15:16:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 284, Chunk 0: Final Score=0.0828, BM25=0.0002, FAISS=0.0000, Importance=0.0388, Semantic=0.2889, Coverage=0.0000, Position=0.5243, Density=0.0000, Context=0.2098
2024-11-08 15:16:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 149, Chunk 0: Final Score=0.0615, BM25=0.0000, FAISS=0.0000, Importance=0.0365, Semantic=0.2905, Coverage=0.0000, Position=0.3255, Density=0.0000, Context=0.1637
2024-11-08 15:16:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 11, Chunk 0: Final Score=0.0323, BM25=0.0000, FAISS=0.1121, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 252, Chunk 0: Final Score=0.0036, BM25=0.0000, FAISS=0.0125, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 197, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:53:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:53:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:53:INFO:utils.RAGProcessor:Query Features - Length: 5, Diversity: 0.83
2024-11-08 15:16:53:INFO:__main__:================================================================= QID: 111 =================================================================
2024-11-08 15:16:53:INFO:utils.rag_processor.query_processor:query分詞結果: 機器/是否/ATM/開通/提款/服務/無卡
2024-11-08 15:16:53:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:53:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 76, Chunk 0, Score: 11.5788, Term Importance: 14.6525, Semantic Similarity: 0.9892, Query Coverage: 1.5382, Position Score: 0.0563, Term Density: 0.9414, Context Similarity: 9.2729, Frequency: [('開通', 4), ('無卡', 4), ('提款', 4), ('服務', 4), ('ATM', 1)]
2024-11-08 15:16:53:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 334, Chunk 0, Score: 5.9869, Term Importance: 8.6941, Semantic Similarity: 0.9852, Query Coverage: 0.8056, Position Score: 0.0908, Term Density: 0.5842, Context Similarity: 3.5273, Frequency: [('無卡', 5), ('提款', 2), ('是否', 1)]
2024-11-08 15:16:53:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 199, Chunk 0, Score: 3.0292, Term Importance: 0.1982, Semantic Similarity: 0.9870, Query Coverage: 0.5178, Position Score: 0.0414, Term Density: 0.1812, Context Similarity: 5.5688, Frequency: [('服務', 2), ('是否', 1)]
2024-11-08 15:16:53:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 514, Chunk 0, Score: 1.5511, Term Importance: 0.2012, Semantic Similarity: 0.9765, Query Coverage: 0.2299, Position Score: 0.6957, Term Density: 0.1006, Context Similarity: 2.7327, Frequency: [('是否', 1)]
2024-11-08 15:16:53:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 186, Chunk 0, Score: 1.3835, Term Importance: 0.2015, Semantic Similarity: 0.9814, Query Coverage: 0.2878, Position Score: 0.9371, Term Density: 0.1007, Context Similarity: 2.9232, Frequency: [('開通', 1)]
2024-11-08 15:16:53:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:53:INFO:utils.RAGProcessor:FAISS Score: [0.5610], PDF: 76, Chunk: 0, metadata: [{}]
2024-11-08 15:16:53:INFO:utils.RAGProcessor:FAISS Score: [0.8167], PDF: 334, Chunk: 0, metadata: [{}]
2024-11-08 15:16:53:INFO:utils.RAGProcessor:FAISS Score: [0.8940], PDF: 409, Chunk: 0, metadata: [{}]
2024-11-08 15:16:53:INFO:utils.RAGProcessor:FAISS Score: [1.0167], PDF: 414, Chunk: 0, metadata: [{}]
2024-11-08 15:16:53:INFO:utils.RAGProcessor:FAISS Score: [1.0410], PDF: 132, Chunk: 0, metadata: [{}]
2024-11-08 15:16:53:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 76, Chunk 0: Final Score=0.9054, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0165, Density=1.0000, Context=1.0000
2024-11-08 15:16:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 334, Chunk 0: Final Score=0.4365, BM25=0.4515, FAISS=0.4674, Importance=0.5878, Semantic=0.6842, Coverage=0.4400, Position=0.0551, Density=0.5752, Context=0.1215
2024-11-08 15:16:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 199, Chunk 0: Final Score=0.1607, BM25=0.1614, FAISS=0.0000, Importance=0.0000, Semantic=0.8238, Coverage=0.2200, Position=0.0000, Density=0.0959, Context=0.4336
2024-11-08 15:16:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 186, Chunk 0: Final Score=0.1323, BM25=0.0000, FAISS=0.0000, Importance=0.0002, Semantic=0.3854, Coverage=0.0443, Position=1.0000, Density=0.0002, Context=0.0291
2024-11-08 15:16:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 409, Chunk 0: Final Score=0.0883, BM25=0.0000, FAISS=0.3063, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 514, Chunk 0: Final Score=0.0740, BM25=0.0164, FAISS=0.0000, Importance=0.0002, Semantic=0.0000, Coverage=0.0000, Position=0.7305, Density=0.0000, Context=0.0000
2024-11-08 15:16:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 414, Chunk 0: Final Score=0.0146, BM25=0.0000, FAISS=0.0507, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:53:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 132, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:53:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:53:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:53:INFO:utils.RAGProcessor:Query Features - Length: 7, Diversity: 0.88
2024-11-08 15:16:53:INFO:__main__:================================================================= QID: 112 =================================================================
2024-11-08 15:16:53:INFO:utils.rag_processor.query_processor:query分詞結果: 贖回/幣別/款/返還/影響/信託/外幣/標的/投資
2024-11-08 15:16:53:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:53:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 403, Chunk 0, Score: 18.7849, Term Importance: 13.0341, Semantic Similarity: 0.9962, Query Coverage: 2.3301, Position Score: 0.0371, Term Density: 1.5555, Context Similarity: 11.3229, Frequency: [('贖回', 5), ('信託', 4), ('款', 3), ('返還', 3), ('外幣', 2), ('投資', 1), ('標的', 1), ('幣別', 1)]
2024-11-08 15:16:53:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 482, Chunk 0, Score: 1.6592, Term Importance: 0.0458, Semantic Similarity: 0.9902, Query Coverage: 0.2239, Position Score: 0.6055, Term Density: 0.1007, Context Similarity: 2.7686, Frequency: [('外幣', 1)]
2024-11-08 15:16:53:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 32, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9891, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:16:53:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 400, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9931, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:16:53:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 409, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9846, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:16:54:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:54:INFO:utils.RAGProcessor:FAISS Score: [0.6531], PDF: 403, Chunk: 0, metadata: [{}]
2024-11-08 15:16:54:INFO:utils.RAGProcessor:FAISS Score: [0.8799], PDF: 400, Chunk: 0, metadata: [{}]
2024-11-08 15:16:54:INFO:utils.RAGProcessor:FAISS Score: [1.0286], PDF: 409, Chunk: 0, metadata: [{}]
2024-11-08 15:16:54:INFO:utils.RAGProcessor:FAISS Score: [1.0310], PDF: 222, Chunk: 0, metadata: [{}]
2024-11-08 15:16:54:INFO:utils.RAGProcessor:FAISS Score: [1.0633], PDF: 482, Chunk: 0, metadata: [{}]
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 403, Chunk 0: Final Score=0.9097, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0613, Density=1.0000, Context=1.0000
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 482, Chunk 0: Final Score=0.1858, BM25=0.0883, FAISS=0.0000, Importance=0.0035, Semantic=0.4820, Coverage=0.0961, Position=1.0000, Density=0.0648, Context=0.2445
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 400, Chunk 0: Final Score=0.1854, BM25=0.0000, FAISS=0.4473, Importance=0.0000, Semantic=0.7324, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 32, Chunk 0: Final Score=0.0302, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.3926, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 409, Chunk 0: Final Score=0.0244, BM25=0.0000, FAISS=0.0846, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 222, Chunk 0: Final Score=0.0227, BM25=0.0000, FAISS=0.0788, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:54:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:54:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:54:INFO:utils.RAGProcessor:Query Features - Length: 9, Diversity: 0.90
2024-11-08 15:16:54:INFO:__main__:================================================================= QID: 113 =================================================================
2024-11-08 15:16:54:INFO:utils.rag_processor.query_processor:query分詞結果: 方式/哪些/玉山/網路/銀行/服務/申請/存戶
2024-11-08 15:16:54:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:54:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 509, Chunk 0, Score: 6.8309, Term Importance: 9.4393, Semantic Similarity: 0.9900, Query Coverage: 0.9426, Position Score: 0.0309, Term Density: 0.8863, Context Similarity: 20.4521, Frequency: [('申請', 8), ('銀行', 6), ('服務', 4), ('玉山', 3), ('網路', 3), ('存戶', 2)]
2024-11-08 15:16:54:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 441, Chunk 0, Score: 6.3653, Term Importance: 1.7474, Semantic Similarity: 0.9936, Query Coverage: 0.8640, Position Score: 0.0631, Term Density: 0.4174, Context Similarity: 7.6933, Frequency: [('申請', 4), ('哪些', 2), ('方式', 1), ('服務', 1), ('玉山', 1)]
2024-11-08 15:16:54:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 456, Chunk 0, Score: 2.8652, Term Importance: 0.8294, Semantic Similarity: 0.9848, Query Coverage: 0.3436, Position Score: 0.1385, Term Density: 0.1885, Context Similarity: 7.4072, Frequency: [('服務', 3), ('網路', 1), ('銀行', 1)]
2024-11-08 15:16:54:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 507, Chunk 0, Score: 2.6650, Term Importance: 0.2540, Semantic Similarity: 0.9869, Query Coverage: 0.3436, Position Score: 0.0581, Term Density: 0.1577, Context Similarity: 6.9912, Frequency: [('服務', 2), ('銀行', 2), ('網路', 1)]
2024-11-08 15:16:54:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 257, Chunk 0, Score: 2.3863, Term Importance: 0.6314, Semantic Similarity: 0.9894, Query Coverage: 0.3243, Position Score: 0.1313, Term Density: 0.1297, Context Similarity: 3.9434, Frequency: [('玉山', 1), ('申請', 1), ('服務', 1)]
2024-11-08 15:16:54:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:54:INFO:utils.RAGProcessor:FAISS Score: [0.5288], PDF: 509, Chunk: 0, metadata: [{}]
2024-11-08 15:16:54:INFO:utils.RAGProcessor:FAISS Score: [0.6828], PDF: 441, Chunk: 0, metadata: [{}]
2024-11-08 15:16:54:INFO:utils.RAGProcessor:FAISS Score: [0.7918], PDF: 456, Chunk: 0, metadata: [{}]
2024-11-08 15:16:54:INFO:utils.RAGProcessor:FAISS Score: [0.8307], PDF: 547, Chunk: 0, metadata: [{}]
2024-11-08 15:16:54:INFO:utils.RAGProcessor:FAISS Score: [0.8571], PDF: 74, Chunk: 0, metadata: [{}]
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 509, Chunk 0: Final Score=0.8727, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.5954, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 441, Chunk 0: Final Score=0.6319, BM25=0.8953, FAISS=0.5309, Importance=0.1626, Semantic=1.0000, Coverage=0.8729, Position=0.2993, Density=0.3802, Context=0.2271
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 456, Chunk 0: Final Score=0.2032, BM25=0.1077, FAISS=0.1988, Importance=0.0626, Semantic=0.0000, Coverage=0.0312, Position=1.0000, Density=0.0777, Context=0.2098
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 257, Chunk 0: Final Score=0.1298, BM25=0.0000, FAISS=0.0000, Importance=0.0411, Semantic=0.5202, Coverage=0.0000, Position=0.9337, Density=0.0000, Context=0.0000
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 507, Chunk 0: Final Score=0.0748, BM25=0.0627, FAISS=0.0000, Importance=0.0000, Semantic=0.2368, Coverage=0.0312, Position=0.2525, Density=0.0370, Context=0.1846
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 547, Chunk 0: Final Score=0.0232, BM25=0.0000, FAISS=0.0806, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 74, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:54:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:54:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:54:INFO:utils.RAGProcessor:Query Features - Length: 8, Diversity: 0.89
2024-11-08 15:16:54:INFO:__main__:================================================================= QID: 114 =================================================================
2024-11-08 15:16:54:INFO:utils.rag_processor.query_processor:query分詞結果: 密碼/支付/可以/幾次/手機/發送/電子/最/玉山/多/簡訊
2024-11-08 15:16:54:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:54:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 279, Chunk 0, Score: 14.5676, Term Importance: 5.0948, Semantic Similarity: 0.9953, Query Coverage: 1.5000, Position Score: 0.0748, Term Density: 0.9478, Context Similarity: 7.3947, Frequency: [('簡訊', 3), ('密碼', 2), ('發送', 2), ('玉山', 1), ('電子', 1), ('支付', 1), ('手機', 1), ('幾次', 1)]
2024-11-08 15:16:54:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 217, Chunk 0, Score: 2.3589, Term Importance: 3.1107, Semantic Similarity: 0.9884, Query Coverage: 0.3155, Position Score: 0.0907, Term Density: 0.3002, Context Similarity: 10.1509, Frequency: [('支付', 5), ('可以', 1), ('玉山', 1)]
2024-11-08 15:16:54:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 290, Chunk 0, Score: 1.8717, Term Importance: 10.0656, Semantic Similarity: 0.9921, Query Coverage: 0.2690, Position Score: 0.0243, Term Density: 0.4988, Context Similarity: 27.9960, Frequency: [('支付', 10), ('玉山', 7), ('電子', 6)]
2024-11-08 15:16:54:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 133, Chunk 0, Score: 1.8223, Term Importance: 5.3359, Semantic Similarity: 0.9894, Query Coverage: 0.2690, Position Score: 0.0357, Term Density: 0.2959, Context Similarity: 14.4465, Frequency: [('支付', 5), ('玉山', 4), ('電子', 4)]
2024-11-08 15:16:54:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 162, Chunk 0, Score: 1.6514, Term Importance: 1.4012, Semantic Similarity: 0.9803, Query Coverage: 0.2690, Position Score: 0.1109, Term Density: 0.2029, Context Similarity: 4.7120, Frequency: [('支付', 2), ('玉山', 1), ('電子', 1)]
2024-11-08 15:16:54:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:54:INFO:utils.RAGProcessor:FAISS Score: [0.4593], PDF: 279, Chunk: 0, metadata: [{}]
2024-11-08 15:16:54:INFO:utils.RAGProcessor:FAISS Score: [0.9414], PDF: 133, Chunk: 0, metadata: [{}]
2024-11-08 15:16:54:INFO:utils.RAGProcessor:FAISS Score: [0.9620], PDF: 162, Chunk: 0, metadata: [{}]
2024-11-08 15:16:54:INFO:utils.RAGProcessor:FAISS Score: [0.9733], PDF: 290, Chunk: 0, metadata: [{}]
2024-11-08 15:16:54:INFO:utils.RAGProcessor:FAISS Score: [0.9814], PDF: 575, Chunk: 0, metadata: [{}]
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 279, Chunk 0: Final Score=0.9174, BM25=1.0000, FAISS=1.0000, Importance=0.4263, Semantic=1.0000, Coverage=1.0000, Position=0.5834, Density=1.0000, Context=0.1152
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 290, Chunk 0: Final Score=0.1746, BM25=0.0171, FAISS=0.0156, Importance=1.0000, Semantic=0.7905, Coverage=0.0000, Position=0.0000, Density=0.3973, Context=1.0000
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 217, Chunk 0: Final Score=0.1623, BM25=0.0548, FAISS=0.0000, Importance=0.1973, Semantic=0.5401, Coverage=0.0377, Position=0.7667, Density=0.1306, Context=0.2336
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 133, Chunk 0: Final Score=0.1229, BM25=0.0132, FAISS=0.0767, Importance=0.4541, Semantic=0.6107, Coverage=0.0000, Position=0.1315, Density=0.1249, Context=0.4181
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 162, Chunk 0: Final Score=0.1069, BM25=0.0000, FAISS=0.0373, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:54:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 575, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:54:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:54:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:54:INFO:utils.RAGProcessor:Query Features - Length: 11, Diversity: 0.92
2024-11-08 15:16:54:INFO:__main__:================================================================= QID: 115 =================================================================
2024-11-08 15:16:54:INFO:utils.rag_processor.query_processor:query分詞結果: 安全/防護/投保/進行/來/縱深/玉山/網路/銀行/保障
2024-11-08 15:16:54:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:54:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 54, Chunk 0, Score: 14.4599, Term Importance: 5.1525, Semantic Similarity: 0.9944, Query Coverage: 1.6471, Position Score: 0.0566, Term Density: 0.6077, Context Similarity: 7.0627, Frequency: [('網路', 3), ('安全', 3), ('玉山', 1), ('銀行', 1), ('投保', 1), ('縱深', 1), ('防護', 1), ('進行', 1)]
2024-11-08 15:16:55:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 329, Chunk 0, Score: 4.2099, Term Importance: 1.2560, Semantic Similarity: 0.9901, Query Coverage: 0.4541, Position Score: 0.0890, Term Density: 0.3736, Context Similarity: 11.6091, Frequency: [('投保', 4), ('網路', 3), ('進行', 1)]
2024-11-08 15:16:55:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 157, Chunk 0, Score: 2.7238, Term Importance: 0.9033, Semantic Similarity: 0.9907, Query Coverage: 0.2931, Position Score: 0.0519, Term Density: 0.2931, Context Similarity: 13.1188, Frequency: [('網路', 4), ('投保', 4)]
2024-11-08 15:16:55:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 342, Chunk 0, Score: 1.9655, Term Importance: 0.1891, Semantic Similarity: 0.9880, Query Coverage: 0.2708, Position Score: 0.1131, Term Density: 0.1354, Context Similarity: 3.4256, Frequency: [('玉山', 1), ('進行', 1)]
2024-11-08 15:16:55:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 7, Chunk 0, Score: 1.6884, Term Importance: 1.2715, Semantic Similarity: 0.9818, Query Coverage: 0.2420, Position Score: 0.0662, Term Density: 0.1210, Context Similarity: 3.9452, Frequency: [('玉山', 2), ('網路', 1)]
2024-11-08 15:16:55:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:55:INFO:utils.RAGProcessor:FAISS Score: [0.5607], PDF: 54, Chunk: 0, metadata: [{}]
2024-11-08 15:16:55:INFO:utils.RAGProcessor:FAISS Score: [0.9870], PDF: 7, Chunk: 0, metadata: [{}]
2024-11-08 15:16:55:INFO:utils.RAGProcessor:FAISS Score: [1.0567], PDF: 95, Chunk: 0, metadata: [{}]
2024-11-08 15:16:55:INFO:utils.RAGProcessor:FAISS Score: [1.0798], PDF: 157, Chunk: 0, metadata: [{}]
2024-11-08 15:16:55:INFO:utils.RAGProcessor:FAISS Score: [1.0809], PDF: 342, Chunk: 0, metadata: [{}]
2024-11-08 15:16:55:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 54, Chunk 0: Final Score=0.8812, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0765, Density=1.0000, Context=0.3752
2024-11-08 15:16:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 329, Chunk 0: Final Score=0.2877, BM25=0.1974, FAISS=0.0000, Importance=0.2150, Semantic=0.6611, Coverage=0.1509, Position=0.6074, Density=0.5190, Context=0.8442
2024-11-08 15:16:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 157, Chunk 0: Final Score=0.1773, BM25=0.0811, FAISS=0.0023, Importance=0.1439, Semantic=0.7101, Coverage=0.0364, Position=0.0000, Density=0.3536, Context=1.0000
2024-11-08 15:16:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 342, Chunk 0: Final Score=0.1460, BM25=0.0217, FAISS=0.0000, Importance=0.0000, Semantic=0.4971, Coverage=0.0205, Position=1.0000, Density=0.0296, Context=0.0000
2024-11-08 15:16:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 7, Chunk 0: Final Score=0.0772, BM25=0.0000, FAISS=0.1805, Importance=0.2181, Semantic=0.0000, Coverage=0.0000, Position=0.2345, Density=0.0000, Context=0.0536
2024-11-08 15:16:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 95, Chunk 0: Final Score=0.0135, BM25=0.0000, FAISS=0.0466, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:55:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:55:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:55:INFO:utils.RAGProcessor:Query Features - Length: 10, Diversity: 0.91
2024-11-08 15:16:55:INFO:__main__:================================================================= QID: 116 =================================================================
2024-11-08 15:16:55:INFO:utils.rag_processor.query_processor:query分詞結果: 發生/投保/五年/網路/情況/會/使用/註冊/內未
2024-11-08 15:16:55:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:55:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 4, Chunk 0, Score: 11.5181, Term Importance: 9.6359, Semantic Similarity: 0.9951, Query Coverage: 1.2284, Position Score: 0.0725, Term Density: 0.8092, Context Similarity: 13.4249, Frequency: [('投保', 5), ('網路', 4), ('註冊', 3), ('使用', 1), ('五年', 1)]
2024-11-08 15:16:55:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 306, Chunk 0, Score: 3.6561, Term Importance: 0.8558, Semantic Similarity: 0.9916, Query Coverage: 0.4797, Position Score: 0.0372, Term Density: 0.1354, Context Similarity: 2.8374, Frequency: [('使用', 1), ('情況', 1)]
2024-11-08 15:16:55:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 176, Chunk 0, Score: 2.2847, Term Importance: 0.1052, Semantic Similarity: 0.9896, Query Coverage: 0.3009, Position Score: 0.2818, Term Density: 0.2708, Context Similarity: 6.5534, Frequency: [('會', 2)]
2024-11-08 15:16:55:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 16, Chunk 0, Score: 1.2602, Term Importance: 0.5815, Semantic Similarity: 0.9906, Query Coverage: 0.1469, Position Score: 0.0741, Term Density: 0.1322, Context Similarity: 8.6094, Frequency: [('網路', 3)]
2024-11-08 15:16:55:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 96, Chunk 0, Score: 1.2136, Term Importance: 0.0316, Semantic Similarity: 0.9779, Query Coverage: 0.1788, Position Score: 0.6552, Term Density: 0.0805, Context Similarity: 2.5713, Frequency: [('使用', 1)]
2024-11-08 15:16:55:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:55:INFO:utils.RAGProcessor:FAISS Score: [0.6334], PDF: 4, Chunk: 0, metadata: [{}]
2024-11-08 15:16:55:INFO:utils.RAGProcessor:FAISS Score: [1.0192], PDF: 272, Chunk: 0, metadata: [{}]
2024-11-08 15:16:55:INFO:utils.RAGProcessor:FAISS Score: [1.1448], PDF: 306, Chunk: 0, metadata: [{}]
2024-11-08 15:16:55:INFO:utils.RAGProcessor:FAISS Score: [1.1474], PDF: 16, Chunk: 0, metadata: [{}]
2024-11-08 15:16:55:INFO:utils.RAGProcessor:FAISS Score: [1.1477], PDF: 343, Chunk: 0, metadata: [{}]
2024-11-08 15:16:55:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 4, Chunk 0: Final Score=0.9093, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0572, Density=1.0000, Context=1.0000
2024-11-08 15:16:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 176, Chunk 0: Final Score=0.1862, BM25=0.1039, FAISS=0.0000, Importance=0.0077, Semantic=0.6814, Coverage=0.1424, Position=0.3959, Density=0.2612, Context=0.3669
2024-11-08 15:16:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 306, Chunk 0: Final Score=0.1649, BM25=0.2370, FAISS=0.0055, Importance=0.0858, Semantic=0.7934, Coverage=0.3078, Position=0.0000, Density=0.0754, Context=0.0245
2024-11-08 15:16:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 16, Chunk 0: Final Score=0.1006, BM25=0.0045, FAISS=0.0005, Importance=0.0573, Semantic=0.7367, Coverage=0.0000, Position=0.0598, Density=0.0710, Context=0.5563
2024-11-08 15:16:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 96, Chunk 0: Final Score=0.0996, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0296, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 272, Chunk 0: Final Score=0.0720, BM25=0.0000, FAISS=0.2497, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:55:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 343, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:55:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:55:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:55:INFO:utils.RAGProcessor:Query Features - Length: 9, Diversity: 0.90
2024-11-08 15:16:55:INFO:__main__:================================================================= QID: 117 =================================================================
2024-11-08 15:16:55:INFO:utils.rag_processor.query_processor:query分詞結果: WebView/造成/Android/元件/問題/改版/可能/會/System
2024-11-08 15:16:55:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:55:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 92, Chunk 0, Score: 14.7573, Term Importance: 5.4714, Semantic Similarity: 0.9864, Query Coverage: 1.8054, Position Score: 0.0361, Term Density: 0.9478, Context Similarity: 2.8112, Frequency: [('Android', 4), ('System', 3), ('WebView', 3), ('問題', 2), ('元件', 1), ('改版', 1)]
2024-11-08 15:16:55:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 513, Chunk 0, Score: 2.6590, Term Importance: 0.3869, Semantic Similarity: 0.9783, Query Coverage: 0.3009, Position Score: 0.7500, Term Density: 0.1504, Context Similarity: 2.3513, Frequency: [('會', 1)]
2024-11-08 15:16:55:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 165, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9402, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:16:55:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 452, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9779, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:16:55:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 548, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9644, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:16:56:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:56:INFO:utils.RAGProcessor:FAISS Score: [0.9473], PDF: 92, Chunk: 0, metadata: [{}]
2024-11-08 15:16:56:INFO:utils.RAGProcessor:FAISS Score: [1.2358], PDF: 543, Chunk: 0, metadata: [{}]
2024-11-08 15:16:56:INFO:utils.RAGProcessor:FAISS Score: [1.2726], PDF: 407, Chunk: 0, metadata: [{}]
2024-11-08 15:16:56:INFO:utils.RAGProcessor:FAISS Score: [1.2799], PDF: 376, Chunk: 0, metadata: [{}]
2024-11-08 15:16:56:INFO:utils.RAGProcessor:FAISS Score: [1.3449], PDF: 167, Chunk: 0, metadata: [{}]
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 92, Chunk 0: Final Score=0.9085, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0481, Density=1.0000, Context=1.0000
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 513, Chunk 0: Final Score=0.2835, BM25=0.1802, FAISS=0.0000, Importance=0.0707, Semantic=0.8244, Coverage=0.1667, Position=1.0000, Density=0.1587, Context=0.8364
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 543, Chunk 0: Final Score=0.0792, BM25=0.0000, FAISS=0.2744, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 452, Chunk 0: Final Score=0.0627, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.8155, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 407, Chunk 0: Final Score=0.0524, BM25=0.0000, FAISS=0.1818, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 376, Chunk 0: Final Score=0.0472, BM25=0.0000, FAISS=0.1636, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 548, Chunk 0: Final Score=0.0403, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.5237, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 167, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 165, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:56:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:56:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:56:INFO:utils.RAGProcessor:Query Features - Length: 9, Diversity: 0.90
2024-11-08 15:16:56:INFO:__main__:================================================================= QID: 118 =================================================================
2024-11-08 15:16:56:INFO:utils.rag_processor.query_processor:query分詞結果: 籍/證券/是否/大陸/以來/股東/臺/投資/從事
2024-11-08 15:16:56:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:56:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 554, Chunk 0, Score: 20.4852, Term Importance: 26.4592, Semantic Similarity: 0.9963, Query Coverage: 2.3301, Position Score: 0.0228, Term Density: 1.6563, Context Similarity: 21.9546, Frequency: [('大陸', 9), ('投資', 7), ('證券', 6), ('籍', 4), ('股東', 3), ('臺', 2), ('從事', 2), ('以來', 1)]
2024-11-08 15:16:56:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 174, Chunk 0, Score: 2.1488, Term Importance: 0.8955, Semantic Similarity: 0.9816, Query Coverage: 0.2239, Position Score: 0.1372, Term Density: 0.2015, Context Similarity: 5.9905, Frequency: [('是否', 2)]
2024-11-08 15:16:56:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 321, Chunk 0, Score: 2.0327, Term Importance: 0.1609, Semantic Similarity: 0.9837, Query Coverage: 0.2239, Position Score: 0.0971, Term Density: 0.2015, Context Similarity: 5.6650, Frequency: [('大陸', 2)]
2024-11-08 15:16:56:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 124, Chunk 0, Score: 1.4845, Term Importance: 0.2878, Semantic Similarity: 0.9880, Query Coverage: 0.2239, Position Score: 0.9450, Term Density: 0.1007, Context Similarity: 3.2639, Frequency: [('是否', 1)]
2024-11-08 15:16:56:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 339, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9748, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:16:56:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:56:INFO:utils.RAGProcessor:FAISS Score: [0.5237], PDF: 554, Chunk: 0, metadata: [{}]
2024-11-08 15:16:56:INFO:utils.RAGProcessor:FAISS Score: [1.0843], PDF: 124, Chunk: 0, metadata: [{}]
2024-11-08 15:16:56:INFO:utils.RAGProcessor:FAISS Score: [1.1143], PDF: 332, Chunk: 0, metadata: [{}]
2024-11-08 15:16:56:INFO:utils.RAGProcessor:FAISS Score: [1.1333], PDF: 321, Chunk: 0, metadata: [{}]
2024-11-08 15:16:56:INFO:utils.RAGProcessor:FAISS Score: [1.1593], PDF: 552, Chunk: 0, metadata: [{}]
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 554, Chunk 0: Final Score=0.9062, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0242, Density=1.0000, Context=1.0000
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 124, Chunk 0: Final Score=0.2211, BM25=0.0725, FAISS=0.1180, Importance=0.0109, Semantic=0.6127, Coverage=0.0961, Position=1.0000, Density=0.0608, Context=0.1487
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 321, Chunk 0: Final Score=0.1173, BM25=0.0992, FAISS=0.0409, Importance=0.0061, Semantic=0.4122, Coverage=0.0961, Position=0.1027, Density=0.1217, Context=0.2580
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 174, Chunk 0: Final Score=0.1043, BM25=0.1049, FAISS=0.0000, Importance=0.0338, Semantic=0.3164, Coverage=0.0961, Position=0.1452, Density=0.1217, Context=0.2729
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 332, Chunk 0: Final Score=0.0204, BM25=0.0000, FAISS=0.0708, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 552, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 339, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:56:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:56:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:56:INFO:utils.RAGProcessor:Query Features - Length: 9, Diversity: 0.90
2024-11-08 15:16:56:INFO:__main__:================================================================= QID: 119 =================================================================
2024-11-08 15:16:56:INFO:utils.rag_processor.query_processor:query分詞結果: 取消/機號碼/手機/號碼/手機號/手機號碼/是否/影響/其他/會/服務/轉帳/功能/收款
2024-11-08 15:16:56:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:56:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 610, Chunk 0, Score: 20.6694, Term Importance: 17.1764, Semantic Similarity: 0.9943, Query Coverage: 1.4103, Position Score: 0.0397, Term Density: 1.5021, Context Similarity: 6.3921, Frequency: [('手機', 4), ('號碼', 4), ('手機號', 4), ('機號碼', 4), ('手機號碼', 4), ('取消', 3), ('服務', 3), ('轉帳', 2), ('收款', 1), ('影響', 1)]
2024-11-08 15:16:56:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 18, Chunk 0, Score: 10.8950, Term Importance: 1.0167, Semantic Similarity: 0.9934, Query Coverage: 0.7355, Position Score: 0.0516, Term Density: 0.5149, Context Similarity: 4.7397, Frequency: [('服務', 3), ('手機', 2), ('號碼', 2), ('手機號', 2), ('機號碼', 2), ('手機號碼', 2)]
2024-11-08 15:16:56:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 231, Chunk 0, Score: 4.8799, Term Importance: 0.5692, Semantic Similarity: 0.9956, Query Coverage: 0.3823, Position Score: 0.0720, Term Density: 0.1668, Context Similarity: 3.9443, Frequency: [('會', 1), ('影響', 1), ('功能', 1)]
2024-11-08 15:16:56:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 364, Chunk 0, Score: 4.0291, Term Importance: 0.9452, Semantic Similarity: 0.9904, Query Coverage: 0.2832, Position Score: 0.0529, Term Density: 0.1322, Context Similarity: 5.4294, Frequency: [('功能', 2), ('會', 1), ('服務', 1)]
2024-11-08 15:16:56:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 506, Chunk 0, Score: 3.9885, Term Importance: 0.1028, Semantic Similarity: 0.9924, Query Coverage: 0.2832, Position Score: 0.1052, Term Density: 0.1983, Context Similarity: 4.1694, Frequency: [('服務', 1), ('是否', 1), ('取消', 1)]
2024-11-08 15:16:56:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:56:INFO:utils.RAGProcessor:FAISS Score: [0.4965], PDF: 610, Chunk: 0, metadata: [{}]
2024-11-08 15:16:56:INFO:utils.RAGProcessor:FAISS Score: [0.8199], PDF: 231, Chunk: 0, metadata: [{}]
2024-11-08 15:16:56:INFO:utils.RAGProcessor:FAISS Score: [0.8652], PDF: 18, Chunk: 0, metadata: [{}]
2024-11-08 15:16:56:INFO:utils.RAGProcessor:FAISS Score: [0.9044], PDF: 152, Chunk: 0, metadata: [{}]
2024-11-08 15:16:56:INFO:utils.RAGProcessor:FAISS Score: [0.9451], PDF: 503, Chunk: 0, metadata: [{}]
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 610, Chunk 0: Final Score=0.8850, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.7544, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 18, Chunk 0: Final Score=0.3118, BM25=0.4140, FAISS=0.1780, Importance=0.0535, Semantic=0.5879, Coverage=0.4013, Position=0.1814, Density=0.2794, Context=0.3249
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 231, Chunk 0: Final Score=0.2309, BM25=0.0534, FAISS=0.2791, Importance=0.0273, Semantic=1.0000, Coverage=0.0879, Position=0.4930, Density=0.0253, Context=0.0000
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 506, Chunk 0: Final Score=0.1376, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.3907, Coverage=0.0000, Position=1.0000, Density=0.0482, Context=0.0920
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 364, Chunk 0: Final Score=0.0491, BM25=0.0024, FAISS=0.0000, Importance=0.0493, Semantic=0.0000, Coverage=0.0000, Position=0.2013, Density=0.0000, Context=0.6067
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 152, Chunk 0: Final Score=0.0261, BM25=0.0000, FAISS=0.0906, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:56:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 503, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:56:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:56:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:56:INFO:utils.RAGProcessor:Query Features - Length: 14, Diversity: 0.93
2024-11-08 15:16:56:INFO:__main__:================================================================= QID: 120 =================================================================
2024-11-08 15:16:57:INFO:utils.rag_processor.query_processor:query分詞結果: 留學生/貸款/學生/哪些/文件/還需/入學/留學/證明/除了/申請/提供
2024-11-08 15:16:57:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:57:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 20, Chunk 0, Score: 22.3023, Term Importance: 14.5803, Semantic Similarity: 0.9961, Query Coverage: 1.8000, Position Score: 0.0515, Term Density: 1.1493, Context Similarity: 13.4603, Frequency: [('證明', 6), ('入學', 5), ('留學', 3), ('貸款', 3), ('文件', 3), ('申請', 2), ('提供', 2), ('學生', 1), ('留學生', 1)]
2024-11-08 15:16:57:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 595, Chunk 0, Score: 5.0528, Term Importance: 0.4133, Semantic Similarity: 0.9882, Query Coverage: 0.5561, Position Score: 0.0358, Term Density: 0.2676, Context Similarity: 4.2663, Frequency: [('申請', 1), ('提供', 1), ('文件', 1), ('哪些', 1)]
2024-11-08 15:16:57:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 45, Chunk 0, Score: 2.0348, Term Importance: 0.1928, Semantic Similarity: 0.9874, Query Coverage: 0.2203, Position Score: 0.0464, Term Density: 0.0661, Context Similarity: 2.6479, Frequency: [('哪些', 1), ('申請', 1)]
2024-11-08 15:16:57:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 66, Chunk 0, Score: 1.1596, Term Importance: 0.1305, Semantic Similarity: 0.9842, Query Coverage: 0.1101, Position Score: 0.1131, Term Density: 0.1983, Context Similarity: 7.9799, Frequency: [('申請', 3)]
2024-11-08 15:16:57:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 387, Chunk 0, Score: 0.9058, Term Importance: 0.0471, Semantic Similarity: 0.9776, Query Coverage: 0.1101, Position Score: 0.0415, Term Density: 0.0661, Context Similarity: 5.3228, Frequency: [('哪些', 2)]
2024-11-08 15:16:57:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:57:INFO:utils.RAGProcessor:FAISS Score: [0.4541], PDF: 20, Chunk: 0, metadata: [{}]
2024-11-08 15:16:57:INFO:utils.RAGProcessor:FAISS Score: [1.0504], PDF: 595, Chunk: 0, metadata: [{}]
2024-11-08 15:16:57:INFO:utils.RAGProcessor:FAISS Score: [1.1016], PDF: 310, Chunk: 0, metadata: [{}]
2024-11-08 15:16:57:INFO:utils.RAGProcessor:FAISS Score: [1.1108], PDF: 45, Chunk: 0, metadata: [{}]
2024-11-08 15:16:57:INFO:utils.RAGProcessor:FAISS Score: [1.1595], PDF: 222, Chunk: 0, metadata: [{}]
2024-11-08 15:16:57:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:57:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 20, Chunk 0: Final Score=0.9234, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.2029, Density=1.0000, Context=1.0000
2024-11-08 15:16:57:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 595, Chunk 0: Final Score=0.1978, BM25=0.1938, FAISS=0.1547, Importance=0.0252, Semantic=0.5713, Coverage=0.2639, Position=0.0000, Density=0.1860, Context=0.1497
2024-11-08 15:16:57:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 66, Chunk 0: Final Score=0.1678, BM25=0.0119, FAISS=0.0000, Importance=0.0057, Semantic=0.3590, Coverage=0.0000, Position=1.0000, Density=0.1220, Context=0.4931
2024-11-08 15:16:57:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 45, Chunk 0: Final Score=0.0933, BM25=0.0528, FAISS=0.0690, Importance=0.0100, Semantic=0.5273, Coverage=0.0652, Position=0.1363, Density=0.0000, Context=0.0000
2024-11-08 15:16:57:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 310, Chunk 0: Final Score=0.0237, BM25=0.0000, FAISS=0.0820, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:57:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 387, Chunk 0: Final Score=0.0190, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0734, Density=0.0000, Context=0.2474
2024-11-08 15:16:57:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 222, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:57:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:57:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:57:INFO:utils.RAGProcessor:Query Features - Length: 12, Diversity: 0.92
2024-11-08 15:16:57:INFO:__main__:================================================================= QID: 121 =================================================================
2024-11-08 15:16:57:INFO:utils.rag_processor.query_processor:query分詞結果: 手動/可以/元件/哪些/WebATM/檢查/安裝/狀態/方法
2024-11-08 15:16:57:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:57:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 414, Chunk 0, Score: 10.1941, Term Importance: 7.6706, Semantic Similarity: 0.9918, Query Coverage: 1.1266, Position Score: 0.0409, Term Density: 0.7778, Context Similarity: 10.2709, Frequency: [('安裝', 6), ('元件', 4), ('WebATM', 3), ('手動', 1)]
2024-11-08 15:16:57:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 389, Chunk 0, Score: 2.1851, Term Importance: 1.1066, Semantic Similarity: 0.9867, Query Coverage: 0.2239, Position Score: 0.0522, Term Density: 0.2015, Context Similarity: 0.0000, Frequency: [('WebATM', 3)]
2024-11-08 15:16:57:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 200, Chunk 0, Score: 1.4411, Term Importance: 0.1059, Semantic Similarity: 0.9822, Query Coverage: 0.2487, Position Score: 0.3889, Term Density: 0.1119, Context Similarity: 3.8364, Frequency: [('可以', 1), ('哪些', 1)]
2024-11-08 15:16:57:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 49, Chunk 0, Score: 1.2919, Term Importance: 0.2407, Semantic Similarity: 0.9806, Query Coverage: 0.2487, Position Score: 0.0478, Term Density: 0.0661, Context Similarity: 3.7654, Frequency: [('哪些', 1), ('可以', 1)]
2024-11-08 15:16:57:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 485, Chunk 0, Score: 1.2505, Term Importance: 0.8441, Semantic Similarity: 0.9556, Query Coverage: 0.2487, Position Score: 0.3942, Term Density: 0.1119, Context Similarity: 2.9378, Frequency: [('哪些', 1), ('可以', 1)]
2024-11-08 15:16:57:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:57:INFO:utils.RAGProcessor:FAISS Score: [0.7201], PDF: 414, Chunk: 0, metadata: [{}]
2024-11-08 15:16:57:INFO:utils.RAGProcessor:FAISS Score: [0.9151], PDF: 389, Chunk: 0, metadata: [{}]
2024-11-08 15:16:57:INFO:utils.RAGProcessor:FAISS Score: [0.9313], PDF: 392, Chunk: 0, metadata: [{}]
2024-11-08 15:16:57:INFO:utils.RAGProcessor:FAISS Score: [1.1451], PDF: 505, Chunk: 0, metadata: [{}]
2024-11-08 15:16:57:INFO:utils.RAGProcessor:FAISS Score: [1.1531], PDF: 485, Chunk: 0, metadata: [{}]
2024-11-08 15:16:57:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:57:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 414, Chunk 0: Final Score=0.9038, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:16:57:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 389, Chunk 0: Final Score=0.2792, BM25=0.1045, FAISS=0.5496, Importance=0.1323, Semantic=0.8586, Coverage=0.0000, Position=0.0319, Density=0.1903, Context=0.0000
2024-11-08 15:16:57:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 200, Chunk 0: Final Score=0.1866, BM25=0.0213, FAISS=0.0000, Importance=0.0000, Semantic=0.7350, Coverage=0.0275, Position=0.9850, Density=0.0644, Context=0.3735
2024-11-08 15:16:57:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 392, Chunk 0: Final Score=0.1478, BM25=0.0000, FAISS=0.5123, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:57:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 485, Chunk 0: Final Score=0.1224, BM25=0.0000, FAISS=0.0000, Importance=0.0976, Semantic=0.0000, Coverage=0.0275, Position=1.0000, Density=0.0644, Context=0.2860
2024-11-08 15:16:57:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 49, Chunk 0: Final Score=0.0768, BM25=0.0046, FAISS=0.0000, Importance=0.0178, Semantic=0.6901, Coverage=0.0275, Position=0.0196, Density=0.0000, Context=0.3666
2024-11-08 15:16:57:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 505, Chunk 0: Final Score=0.0053, BM25=0.0000, FAISS=0.0185, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:57:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:57:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:57:INFO:utils.RAGProcessor:Query Features - Length: 9, Diversity: 0.90
2024-11-08 15:16:57:INFO:__main__:================================================================= QID: 122 =================================================================
2024-11-08 15:16:57:INFO:utils.rag_processor.query_processor:query分詞結果: 評估/金流/現金流/適合/是否/海外/自己/流量/投資/債券/判斷/現金流量/需求/現金
2024-11-08 15:16:57:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:57:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 415, Chunk 0, Score: 24.9594, Term Importance: 23.8266, Semantic Similarity: 0.9964, Query Coverage: 1.9343, Position Score: 0.0482, Term Density: 1.4894, Context Similarity: 8.1050, Frequency: [('投資', 9), ('海外', 2), ('債券', 2), ('需求', 2), ('適合', 1), ('現金', 1), ('金流', 1), ('流量', 1), ('現金流', 1), ('現金流量', 1)]
2024-11-08 15:16:57:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 555, Chunk 0, Score: 1.0286, Term Importance: 0.3304, Semantic Similarity: 0.9901, Query Coverage: 0.0944, Position Score: 0.9333, Term Density: 0.0661, Context Similarity: 3.0327, Frequency: [('是否', 1)]
2024-11-08 15:16:57:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 60, Chunk 0, Score: 1.0170, Term Importance: 0.4406, Semantic Similarity: 0.9898, Query Coverage: 0.0944, Position Score: 0.9574, Term Density: 0.0661, Context Similarity: 2.5999, Frequency: [('是否', 1)]
2024-11-08 15:16:57:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 527, Chunk 0, Score: 0.9523, Term Importance: 0.0682, Semantic Similarity: 0.9901, Query Coverage: 0.0944, Position Score: 0.0322, Term Density: 0.0661, Context Similarity: 5.5983, Frequency: [('是否', 2)]
2024-11-08 15:16:57:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 492, Chunk 0, Score: 0.7313, Term Importance: 0.0125, Semantic Similarity: 0.9875, Query Coverage: 0.0944, Position Score: 0.5866, Term Density: 0.0661, Context Similarity: 2.2542, Frequency: [('是否', 1)]
2024-11-08 15:16:58:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:58:INFO:utils.RAGProcessor:FAISS Score: [0.7261], PDF: 415, Chunk: 0, metadata: [{}]
2024-11-08 15:16:58:INFO:utils.RAGProcessor:FAISS Score: [1.0371], PDF: 527, Chunk: 0, metadata: [{}]
2024-11-08 15:16:58:INFO:utils.RAGProcessor:FAISS Score: [1.0859], PDF: 348, Chunk: 0, metadata: [{}]
2024-11-08 15:16:58:INFO:utils.RAGProcessor:FAISS Score: [1.1086], PDF: 74, Chunk: 0, metadata: [{}]
2024-11-08 15:16:58:INFO:utils.RAGProcessor:FAISS Score: [1.1118], PDF: 72, Chunk: 0, metadata: [{}]
2024-11-08 15:16:58:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 415, Chunk 0: Final Score=0.9055, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0173, Density=1.0000, Context=1.0000
2024-11-08 15:16:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 555, Chunk 0: Final Score=0.1247, BM25=0.0123, FAISS=0.0000, Importance=0.0134, Semantic=0.2838, Coverage=0.0000, Position=0.9739, Density=0.0000, Context=0.1331
2024-11-08 15:16:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 60, Chunk 0: Final Score=0.1215, BM25=0.0118, FAISS=0.0000, Importance=0.0180, Semantic=0.2568, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0591
2024-11-08 15:16:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 527, Chunk 0: Final Score=0.1073, BM25=0.0091, FAISS=0.1936, Importance=0.0023, Semantic=0.2837, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.5716
2024-11-08 15:16:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 492, Chunk 0: Final Score=0.0576, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.5992, Density=0.0000, Context=0.0000
2024-11-08 15:16:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 348, Chunk 0: Final Score=0.0194, BM25=0.0000, FAISS=0.0672, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 74, Chunk 0: Final Score=0.0024, BM25=0.0000, FAISS=0.0083, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 72, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:58:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:58:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:58:INFO:utils.RAGProcessor:Query Features - Length: 14, Diversity: 0.93
2024-11-08 15:16:58:INFO:__main__:================================================================= QID: 123 =================================================================
2024-11-08 15:16:58:INFO:utils.rag_processor.query_processor:query分詞結果: 錯誤/錯誤信息/哪些/常見/過程/提領/PayPal/問題/誤信/解決/信息/這些
2024-11-08 15:16:58:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:58:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 527, Chunk 0, Score: 9.3187, Term Importance: 14.6383, Semantic Similarity: 0.9864, Query Coverage: 0.9027, Position Score: 0.0210, Term Density: 0.8124, Context Similarity: 8.3791, Frequency: [('PayPal', 7), ('提領', 6), ('問題', 1), ('解決', 1)]
2024-11-08 15:16:58:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 461, Chunk 0, Score: 2.6559, Term Importance: 0.2245, Semantic Similarity: 0.9918, Query Coverage: 0.2257, Position Score: 0.1951, Term Density: 0.2708, Context Similarity: 5.0195, Frequency: [('錯誤', 2)]
2024-11-08 15:16:58:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 176, Chunk 0, Score: 2.1895, Term Importance: 0.0442, Semantic Similarity: 0.9872, Query Coverage: 0.3172, Position Score: 0.0424, Term Density: 0.1903, Context Similarity: 5.5764, Frequency: [('哪些', 2), ('過程', 1)]
2024-11-08 15:16:58:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 551, Chunk 0, Score: 0.7297, Term Importance: 0.0578, Semantic Similarity: 0.9849, Query Coverage: 0.0916, Position Score: 0.6471, Term Density: 0.0549, Context Similarity: 2.2660, Frequency: [('哪些', 1)]
2024-11-08 15:16:58:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 113, Chunk 0, Score: 0.7039, Term Importance: 0.0646, Semantic Similarity: 0.9864, Query Coverage: 0.0916, Position Score: 0.7241, Term Density: 0.0549, Context Similarity: 2.7431, Frequency: [('哪些', 1)]
2024-11-08 15:16:58:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:58:INFO:utils.RAGProcessor:FAISS Score: [0.6427], PDF: 527, Chunk: 0, metadata: [{}]
2024-11-08 15:16:58:INFO:utils.RAGProcessor:FAISS Score: [0.9980], PDF: 75, Chunk: 0, metadata: [{}]
2024-11-08 15:16:58:INFO:utils.RAGProcessor:FAISS Score: [1.0290], PDF: 35, Chunk: 0, metadata: [{}]
2024-11-08 15:16:58:INFO:utils.RAGProcessor:FAISS Score: [1.0334], PDF: 551, Chunk: 0, metadata: [{}]
2024-11-08 15:16:58:INFO:utils.RAGProcessor:FAISS Score: [1.0431], PDF: 578, Chunk: 0, metadata: [{}]
2024-11-08 15:16:58:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 527, Chunk 0: Final Score=0.8436, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.2166, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:16:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 461, Chunk 0: Final Score=0.2349, BM25=0.2266, FAISS=0.0000, Importance=0.0124, Semantic=1.0000, Coverage=0.1653, Position=0.2477, Density=0.2850, Context=0.4504
2024-11-08 15:16:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 176, Chunk 0: Final Score=0.1521, BM25=0.1725, FAISS=0.0000, Importance=0.0000, Semantic=0.3309, Coverage=0.2782, Position=0.0305, Density=0.1788, Context=0.5415
2024-11-08 15:16:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 113, Chunk 0: Final Score=0.1166, BM25=0.0000, FAISS=0.0000, Importance=0.0014, Semantic=0.2174, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0780
2024-11-08 15:16:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 551, Chunk 0: Final Score=0.0933, BM25=0.0030, FAISS=0.0244, Importance=0.0009, Semantic=0.0000, Coverage=0.0000, Position=0.8904, Density=0.0000, Context=0.0000
2024-11-08 15:16:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 75, Chunk 0: Final Score=0.0325, BM25=0.0000, FAISS=0.1126, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 35, Chunk 0: Final Score=0.0101, BM25=0.0000, FAISS=0.0352, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:58:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 578, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:58:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:58:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:58:INFO:utils.RAGProcessor:Query Features - Length: 12, Diversity: 0.92
2024-11-08 15:16:58:INFO:__main__:================================================================= QID: 124 =================================================================
2024-11-08 15:16:58:INFO:utils.rag_processor.query_processor:query分詞結果: 信用/信用卡/到/撿/怎麼辦/路上
2024-11-08 15:16:58:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:58:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 14, Chunk 0, Score: 5.1542, Term Importance: 1.5797, Semantic Similarity: 0.9871, Query Coverage: 0.9027, Position Score: 0.6304, Term Density: 0.2708, Context Similarity: 3.3571, Frequency: [('信用', 1), ('信用卡', 1)]
2024-11-08 15:16:58:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 488, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9853, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:16:58:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 551, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9842, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:16:58:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 332, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9850, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:16:58:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 572, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9860, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:16:59:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:59:INFO:utils.RAGProcessor:FAISS Score: [0.5585], PDF: 14, Chunk: 0, metadata: [{}]
2024-11-08 15:16:59:INFO:utils.RAGProcessor:FAISS Score: [0.9274], PDF: 225, Chunk: 0, metadata: [{}]
2024-11-08 15:16:59:INFO:utils.RAGProcessor:FAISS Score: [0.9281], PDF: 551, Chunk: 0, metadata: [{}]
2024-11-08 15:16:59:INFO:utils.RAGProcessor:FAISS Score: [1.0281], PDF: 306, Chunk: 0, metadata: [{}]
2024-11-08 15:16:59:INFO:utils.RAGProcessor:FAISS Score: [1.0520], PDF: 332, Chunk: 0, metadata: [{}]
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 14, Chunk 0: Final Score=1.0000, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=1.0000
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 225, Chunk 0: Final Score=0.0728, BM25=0.0000, FAISS=0.2524, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 551, Chunk 0: Final Score=0.0724, BM25=0.0000, FAISS=0.2510, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 572, Chunk 0: Final Score=0.0492, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.6402, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 488, Chunk 0: Final Score=0.0309, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.4019, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 332, Chunk 0: Final Score=0.0217, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.2820, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 306, Chunk 0: Final Score=0.0140, BM25=0.0000, FAISS=0.0484, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:59:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:59:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:59:INFO:utils.RAGProcessor:Query Features - Length: 6, Diversity: 0.86
2024-11-08 15:16:59:INFO:__main__:================================================================= QID: 125 =================================================================
2024-11-08 15:16:59:INFO:utils.rag_processor.query_processor:query分詞結果: 最低/提領/PayPal/到/玉山/銀行/款項/金額/多少
2024-11-08 15:16:59:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:59:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 604, Chunk 0, Score: 12.9725, Term Importance: 17.8675, Semantic Similarity: 0.9929, Query Coverage: 1.4770, Position Score: 0.0320, Term Density: 1.1220, Context Similarity: 24.0631, Frequency: [('提領', 12), ('最低', 6), ('金額', 6), ('玉山', 5), ('多少', 5), ('PayPal', 1), ('款項', 1)]
2024-11-08 15:16:59:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 215, Chunk 0, Score: 6.4001, Term Importance: 2.2312, Semantic Similarity: 0.9884, Query Coverage: 0.7532, Position Score: 0.0518, Term Density: 0.3422, Context Similarity: 8.1838, Frequency: [('提領', 4), ('最低', 2), ('玉山', 1), ('銀行', 1), ('多少', 1)]
2024-11-08 15:16:59:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 530, Chunk 0, Score: 4.2969, Term Importance: 1.6215, Semantic Similarity: 0.9939, Query Coverage: 0.5293, Position Score: 0.0793, Term Density: 0.2414, Context Similarity: 6.6696, Frequency: [('提領', 3), ('玉山', 1), ('銀行', 1), ('最低', 1)]
2024-11-08 15:16:59:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 77, Chunk 0, Score: 3.8269, Term Importance: 1.7687, Semantic Similarity: 0.9901, Query Coverage: 0.3955, Position Score: 0.1014, Term Density: 0.2552, Context Similarity: 9.6894, Frequency: [('玉山', 4), ('銀行', 2), ('款項', 1)]
2024-11-08 15:16:59:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 536, Chunk 0, Score: 1.7158, Term Importance: 0.2774, Semantic Similarity: 0.9819, Query Coverage: 0.1717, Position Score: 0.1675, Term Density: 0.0966, Context Similarity: 3.0291, Frequency: [('銀行', 1), ('玉山', 1)]
2024-11-08 15:16:59:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:59:INFO:utils.RAGProcessor:FAISS Score: [0.4681], PDF: 604, Chunk: 0, metadata: [{}]
2024-11-08 15:16:59:INFO:utils.RAGProcessor:FAISS Score: [0.7232], PDF: 215, Chunk: 0, metadata: [{}]
2024-11-08 15:16:59:INFO:utils.RAGProcessor:FAISS Score: [0.7296], PDF: 530, Chunk: 0, metadata: [{}]
2024-11-08 15:16:59:INFO:utils.RAGProcessor:FAISS Score: [0.8712], PDF: 536, Chunk: 0, metadata: [{}]
2024-11-08 15:16:59:INFO:utils.RAGProcessor:FAISS Score: [0.9102], PDF: 77, Chunk: 0, metadata: [{}]
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 604, Chunk 0: Final Score=0.8973, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.9144, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 215, Chunk 0: Final Score=0.3716, BM25=0.4161, FAISS=0.4229, Importance=0.1111, Semantic=0.5432, Coverage=0.4455, Position=0.1461, Density=0.2395, Context=0.2451
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 530, Chunk 0: Final Score=0.3415, BM25=0.2293, FAISS=0.4083, Importance=0.0764, Semantic=1.0000, Coverage=0.2740, Position=0.3494, Density=0.1413, Context=0.1731
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 77, Chunk 0: Final Score=0.2020, BM25=0.1875, FAISS=0.0000, Importance=0.0848, Semantic=0.6781, Coverage=0.1715, Position=0.5121, Density=0.1547, Context=0.3166
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 536, Chunk 0: Final Score=0.1216, BM25=0.0000, FAISS=0.0882, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:59:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:59:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:59:INFO:utils.RAGProcessor:Query Features - Length: 9, Diversity: 0.90
2024-11-08 15:16:59:INFO:__main__:================================================================= QID: 126 =================================================================
2024-11-08 15:16:59:INFO:utils.rag_processor.query_processor:query分詞結果: 主打/金融卡/網路/哪/金融/重點/收款
2024-11-08 15:16:59:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:59:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 1, Chunk 0, Score: 7.4949, Term Importance: 11.6932, Semantic Similarity: 0.9858, Query Coverage: 0.9944, Position Score: 0.0694, Term Density: 0.8773, Context Similarity: 9.1079, Frequency: [('金融', 4), ('金融卡', 4), ('網路', 3), ('收款', 3)]
2024-11-08 15:16:59:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 268, Chunk 0, Score: 5.9301, Term Importance: 2.6502, Semantic Similarity: 0.9863, Query Coverage: 0.9944, Position Score: 0.0831, Term Density: 0.3480, Context Similarity: 3.5136, Frequency: [('金融', 2), ('金融卡', 2), ('網路', 1), ('收款', 1)]
2024-11-08 15:16:59:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 454, Chunk 0, Score: 2.2903, Term Importance: 0.1425, Semantic Similarity: 0.9855, Query Coverage: 0.3869, Position Score: 0.7692, Term Density: 0.1354, Context Similarity: 2.5906, Frequency: [('哪', 1)]
2024-11-08 15:16:59:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 93, Chunk 0, Score: 1.3978, Term Importance: 0.0897, Semantic Similarity: 0.9861, Query Coverage: 0.2299, Position Score: 0.0460, Term Density: 0.0805, Context Similarity: 4.6197, Frequency: [('金融', 2)]
2024-11-08 15:16:59:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 329, Chunk 0, Score: 1.2371, Term Importance: 0.3545, Semantic Similarity: 0.9851, Query Coverage: 0.1888, Position Score: 0.0963, Term Density: 0.1322, Context Similarity: 8.9395, Frequency: [('網路', 3)]
2024-11-08 15:16:59:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:59:INFO:utils.RAGProcessor:FAISS Score: [0.6114], PDF: 1, Chunk: 0, metadata: [{}]
2024-11-08 15:16:59:INFO:utils.RAGProcessor:FAISS Score: [0.8827], PDF: 268, Chunk: 0, metadata: [{}]
2024-11-08 15:16:59:INFO:utils.RAGProcessor:FAISS Score: [0.9967], PDF: 260, Chunk: 0, metadata: [{}]
2024-11-08 15:16:59:INFO:utils.RAGProcessor:FAISS Score: [0.9999], PDF: 364, Chunk: 0, metadata: [{}]
2024-11-08 15:16:59:INFO:utils.RAGProcessor:FAISS Score: [1.0131], PDF: 447, Chunk: 0, metadata: [{}]
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 1, Chunk 0: Final Score=0.8778, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.6216, Coverage=1.0000, Position=0.0323, Density=1.0000, Context=1.0000
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 268, Chunk 0: Final Score=0.5192, BM25=0.7499, FAISS=0.3248, Importance=0.2207, Semantic=1.0000, Coverage=1.0000, Position=0.0513, Density=0.3358, Context=0.1416
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 454, Chunk 0: Final Score=0.1984, BM25=0.1683, FAISS=0.0000, Importance=0.0046, Semantic=0.3258, Coverage=0.2458, Position=1.0000, Density=0.0689, Context=0.0000
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 93, Chunk 0: Final Score=0.0901, BM25=0.0257, FAISS=0.0000, Importance=0.0000, Semantic=0.8236, Coverage=0.0510, Position=0.0000, Density=0.0000, Context=0.3113
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 329, Chunk 0: Final Score=0.0629, BM25=0.0000, FAISS=0.0000, Importance=0.0228, Semantic=0.0000, Coverage=0.0000, Position=0.0695, Density=0.0649, Context=0.9742
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 260, Chunk 0: Final Score=0.0118, BM25=0.0000, FAISS=0.0408, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 364, Chunk 0: Final Score=0.0095, BM25=0.0000, FAISS=0.0329, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:59:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 447, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:16:59:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:16:59:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:16:59:INFO:utils.RAGProcessor:Query Features - Length: 7, Diversity: 0.88
2024-11-08 15:16:59:INFO:__main__:================================================================= QID: 127 =================================================================
2024-11-08 15:16:59:INFO:utils.rag_processor.query_processor:query分詞結果: 存有/知道/外幣/選擇/定/利率/多少
2024-11-08 15:16:59:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:16:59:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 365, Chunk 0, Score: 10.5624, Term Importance: 4.9450, Semantic Similarity: 0.9905, Query Coverage: 1.5793, Position Score: 0.0752, Term Density: 0.4317, Context Similarity: 7.0912, Frequency: [('外幣', 3), ('利率', 2), ('定', 1), ('存有', 1), ('選擇', 1)]
2024-11-08 15:16:59:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 274, Chunk 0, Score: 1.6437, Term Importance: 1.9313, Semantic Similarity: 0.9766, Query Coverage: 0.2299, Position Score: 0.1941, Term Density: 0.1609, Context Similarity: 3.8111, Frequency: [('外幣', 2)]
2024-11-08 15:16:59:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 151, Chunk 0, Score: 1.3566, Term Importance: 0.0947, Semantic Similarity: 0.9802, Query Coverage: 0.2299, Position Score: 0.7538, Term Density: 0.0805, Context Similarity: 2.7572, Frequency: [('外幣', 1)]
2024-11-08 15:16:59:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 340, Chunk 0, Score: 1.1587, Term Importance: 0.3677, Semantic Similarity: 0.9864, Query Coverage: 0.1888, Position Score: 0.0647, Term Density: 0.1322, Context Similarity: 9.8716, Frequency: [('選擇', 3)]
2024-11-08 15:16:59:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 547, Chunk 0, Score: 0.8814, Term Importance: 0.0254, Semantic Similarity: 0.9836, Query Coverage: 0.1888, Position Score: 0.6250, Term Density: 0.0661, Context Similarity: 2.2132, Frequency: [('選擇', 1)]
2024-11-08 15:17:00:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:00:INFO:utils.RAGProcessor:FAISS Score: [0.4637], PDF: 365, Chunk: 0, metadata: [{}]
2024-11-08 15:17:00:INFO:utils.RAGProcessor:FAISS Score: [0.7351], PDF: 274, Chunk: 0, metadata: [{}]
2024-11-08 15:17:00:INFO:utils.RAGProcessor:FAISS Score: [0.9158], PDF: 151, Chunk: 0, metadata: [{}]
2024-11-08 15:17:00:INFO:utils.RAGProcessor:FAISS Score: [0.9904], PDF: 233, Chunk: 0, metadata: [{}]
2024-11-08 15:17:00:INFO:utils.RAGProcessor:FAISS Score: [1.0012], PDF: 20, Chunk: 0, metadata: [{}]
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 365, Chunk 0: Final Score=0.8879, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0152, Density=1.0000, Context=0.6369
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 274, Chunk 0: Final Score=0.2299, BM25=0.0787, FAISS=0.4951, Importance=0.3874, Semantic=0.0000, Coverage=0.0296, Position=0.1878, Density=0.2594, Context=0.2086
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 151, Chunk 0: Final Score=0.1854, BM25=0.0491, FAISS=0.1589, Importance=0.0141, Semantic=0.2551, Coverage=0.0296, Position=1.0000, Density=0.0393, Context=0.0710
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 340, Chunk 0: Final Score=0.1350, BM25=0.0286, FAISS=0.0000, Importance=0.0696, Semantic=0.7055, Coverage=0.0000, Position=0.0000, Density=0.1807, Context=1.0000
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 547, Chunk 0: Final Score=0.1170, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.5050, Coverage=0.0000, Position=0.8130, Density=0.0000, Context=0.0000
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 233, Chunk 0: Final Score=0.0058, BM25=0.0000, FAISS=0.0200, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 20, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:00:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:00:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:00:INFO:utils.RAGProcessor:Query Features - Length: 7, Diversity: 0.88
2024-11-08 15:17:00:INFO:__main__:================================================================= QID: 128 =================================================================
2024-11-08 15:17:00:INFO:utils.rag_processor.query_processor:query分詞結果: 規範/貸款額/金管會/貸款/款額/報酬/相關/貸款額度/額度/工作
2024-11-08 15:17:00:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:00:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 436, Chunk 0, Score: 2.9516, Term Importance: 2.2889, Semantic Similarity: 0.9893, Query Coverage: 0.2708, Position Score: 0.1730, Term Density: 0.4062, Context Similarity: 6.9511, Frequency: [('額度', 3)]
2024-11-08 15:17:00:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 402, Chunk 0, Score: 2.0904, Term Importance: 0.4631, Semantic Similarity: 0.9801, Query Coverage: 0.2015, Position Score: 0.1667, Term Density: 0.2015, Context Similarity: 6.1626, Frequency: [('相關', 2)]
2024-11-08 15:17:00:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 139, Chunk 0, Score: 1.8516, Term Importance: 0.1185, Semantic Similarity: 0.9763, Query Coverage: 0.2015, Position Score: 0.6364, Term Density: 0.1007, Context Similarity: 2.1693, Frequency: [('工作', 1)]
2024-11-08 15:17:00:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 364, Chunk 0, Score: 1.4896, Term Importance: 0.0387, Semantic Similarity: 0.9819, Query Coverage: 0.2015, Position Score: 0.5820, Term Density: 0.1007, Context Similarity: 3.2741, Frequency: [('相關', 1)]
2024-11-08 15:17:00:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 595, Chunk 0, Score: 1.4065, Term Importance: 0.0292, Semantic Similarity: 0.9824, Query Coverage: 0.2015, Position Score: 0.5526, Term Density: 0.1007, Context Similarity: 1.9551, Frequency: [('工作', 1)]
2024-11-08 15:17:00:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:00:INFO:utils.RAGProcessor:FAISS Score: [0.6121], PDF: 436, Chunk: 0, metadata: [{}]
2024-11-08 15:17:00:INFO:utils.RAGProcessor:FAISS Score: [1.0380], PDF: 139, Chunk: 0, metadata: [{}]
2024-11-08 15:17:00:INFO:utils.RAGProcessor:FAISS Score: [1.0730], PDF: 293, Chunk: 0, metadata: [{}]
2024-11-08 15:17:00:INFO:utils.RAGProcessor:FAISS Score: [1.0760], PDF: 296, Chunk: 0, metadata: [{}]
2024-11-08 15:17:00:INFO:utils.RAGProcessor:FAISS Score: [1.0832], PDF: 364, Chunk: 0, metadata: [{}]
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 436, Chunk 0: Final Score=0.9051, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0135, Density=1.0000, Context=1.0000
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 402, Chunk 0: Final Score=0.2127, BM25=0.4426, FAISS=0.0000, Importance=0.1920, Semantic=0.2918, Coverage=0.0000, Position=0.0000, Density=0.3298, Context=0.8422
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 139, Chunk 0: Final Score=0.1924, BM25=0.2881, FAISS=0.0960, Importance=0.0395, Semantic=0.0000, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0429
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 364, Chunk 0: Final Score=0.1432, BM25=0.0538, FAISS=0.0000, Importance=0.0042, Semantic=0.4295, Coverage=0.0000, Position=0.8842, Density=0.0000, Context=0.2640
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 595, Chunk 0: Final Score=0.1153, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.4717, Coverage=0.0000, Position=0.8217, Density=0.0000, Context=0.0000
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 293, Chunk 0: Final Score=0.0063, BM25=0.0000, FAISS=0.0217, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 296, Chunk 0: Final Score=0.0044, BM25=0.0000, FAISS=0.0153, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:00:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:00:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:00:INFO:utils.RAGProcessor:Query Features - Length: 10, Diversity: 0.91
2024-11-08 15:17:00:INFO:__main__:================================================================= QID: 129 =================================================================
2024-11-08 15:17:00:INFO:utils.rag_processor.query_processor:query分詞結果: 刷臉/想要/做/變更/刷臉id
2024-11-08 15:17:00:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:00:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 283, Chunk 0, Score: 5.4447, Term Importance: 16.7747, Semantic Similarity: 0.9855, Query Coverage: 1.0832, Position Score: 0.0194, Term Density: 0.4062, Context Similarity: 2.8214, Frequency: [('刷臉', 12), ('變更', 2)]
2024-11-08 15:17:00:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 152, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9815, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:00:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 296, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9694, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:00:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 229, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9789, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:00:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 32, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9842, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:00:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:00:INFO:utils.RAGProcessor:FAISS Score: [0.7146], PDF: 283, Chunk: 0, metadata: [{}]
2024-11-08 15:17:00:INFO:utils.RAGProcessor:FAISS Score: [1.0557], PDF: 457, Chunk: 0, metadata: [{}]
2024-11-08 15:17:00:INFO:utils.RAGProcessor:FAISS Score: [1.0939], PDF: 210, Chunk: 0, metadata: [{}]
2024-11-08 15:17:00:INFO:utils.RAGProcessor:FAISS Score: [1.1027], PDF: 413, Chunk: 0, metadata: [{}]
2024-11-08 15:17:00:INFO:utils.RAGProcessor:FAISS Score: [1.1175], PDF: 121, Chunk: 0, metadata: [{}]
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 283, Chunk 0: Final Score=1.0000, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=1.0000
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 32, Chunk 0: Final Score=0.0707, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.9188, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 152, Chunk 0: Final Score=0.0579, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.7526, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 229, Chunk 0: Final Score=0.0455, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.5921, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 457, Chunk 0: Final Score=0.0443, BM25=0.0000, FAISS=0.1535, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 210, Chunk 0: Final Score=0.0169, BM25=0.0000, FAISS=0.0586, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 413, Chunk 0: Final Score=0.0106, BM25=0.0000, FAISS=0.0368, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 296, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:00:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 121, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:00:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:00:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:00:INFO:utils.RAGProcessor:Query Features - Length: 5, Diversity: 0.83
2024-11-08 15:17:00:INFO:__main__:================================================================= QID: 130 =================================================================
2024-11-08 15:17:00:INFO:utils.rag_processor.query_processor:query分詞結果: 產生/動態/行動/銀行/驗證/驗證碼
2024-11-08 15:17:00:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:00:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 5, Chunk 0, Score: 11.3511, Term Importance: 24.1682, Semantic Similarity: 0.9911, Query Coverage: 1.9777, Position Score: 0.0489, Term Density: 1.1173, Context Similarity: 14.9287, Frequency: [('驗證', 7), ('驗證碼', 7), ('行動', 6), ('銀行', 6), ('動態', 1), ('產生', 1)]
2024-11-08 15:17:01:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 281, Chunk 0, Score: 6.6954, Term Importance: 7.1057, Semantic Similarity: 0.9893, Query Coverage: 1.0750, Position Score: 0.0518, Term Density: 0.7458, Context Similarity: 14.8638, Frequency: [('驗證', 6), ('行動', 4), ('銀行', 4), ('驗證碼', 4)]
2024-11-08 15:17:01:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 176, Chunk 0, Score: 1.4391, Term Importance: 0.2926, Semantic Similarity: 0.9838, Query Coverage: 0.4034, Position Score: 0.0184, Term Density: 0.1099, Context Similarity: 8.6354, Frequency: [('銀行', 4), ('行動', 1)]
2024-11-08 15:17:01:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 553, Chunk 0, Score: 0.7949, Term Importance: 0.2747, Semantic Similarity: 0.9805, Query Coverage: 0.1831, Position Score: 0.8235, Term Density: 0.0785, Context Similarity: 2.5251, Frequency: [('銀行', 1)]
2024-11-08 15:17:01:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 247, Chunk 0, Score: 0.7899, Term Importance: 0.0575, Semantic Similarity: 0.9838, Query Coverage: 0.2203, Position Score: 0.8514, Term Density: 0.0661, Context Similarity: 1.8571, Frequency: [('行動', 1)]
2024-11-08 15:17:01:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:01:INFO:utils.RAGProcessor:FAISS Score: [0.6069], PDF: 5, Chunk: 0, metadata: [{}]
2024-11-08 15:17:01:INFO:utils.RAGProcessor:FAISS Score: [0.7673], PDF: 281, Chunk: 0, metadata: [{}]
2024-11-08 15:17:01:INFO:utils.RAGProcessor:FAISS Score: [1.0262], PDF: 553, Chunk: 0, metadata: [{}]
2024-11-08 15:17:01:INFO:utils.RAGProcessor:FAISS Score: [1.0266], PDF: 409, Chunk: 0, metadata: [{}]
2024-11-08 15:17:01:INFO:utils.RAGProcessor:FAISS Score: [1.0332], PDF: 486, Chunk: 0, metadata: [{}]
2024-11-08 15:17:01:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:01:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 5, Chunk 0: Final Score=0.9074, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0366, Density=1.0000, Context=1.0000
2024-11-08 15:17:01:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 281, Chunk 0: Final Score=0.5755, BM25=0.5592, FAISS=0.6238, Importance=0.2923, Semantic=0.8344, Coverage=0.4970, Position=0.0402, Density=0.6466, Context=0.9950
2024-11-08 15:17:01:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 247, Chunk 0: Final Score=0.1224, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.3103, Coverage=0.0207, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:01:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 553, Chunk 0: Final Score=0.1020, BM25=0.0005, FAISS=0.0164, Importance=0.0090, Semantic=0.0000, Coverage=0.0000, Position=0.9666, Density=0.0118, Context=0.0511
2024-11-08 15:17:01:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 176, Chunk 0: Final Score=0.0831, BM25=0.0615, FAISS=0.0000, Importance=0.0098, Semantic=0.3101, Coverage=0.1228, Position=0.0000, Density=0.0416, Context=0.5186
2024-11-08 15:17:01:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 409, Chunk 0: Final Score=0.0045, BM25=0.0000, FAISS=0.0156, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:01:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 486, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:01:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:01:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:01:INFO:utils.RAGProcessor:Query Features - Length: 6, Diversity: 0.86
2024-11-08 15:17:01:INFO:__main__:================================================================= QID: 131 =================================================================
2024-11-08 15:17:01:INFO:utils.rag_processor.query_processor:query分詞結果: 網購/支付/任何/跨境/玉山/使用/費用/當我/電子/要
2024-11-08 15:17:01:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:01:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 600, Chunk 0, Score: 11.4287, Term Importance: 6.5744, Semantic Similarity: 0.9923, Query Coverage: 1.1684, Position Score: 0.0669, Term Density: 0.5842, Context Similarity: 5.2540, Frequency: [('使用', 2), ('玉山', 2), ('電子', 2), ('支付', 2), ('跨境', 2), ('網購', 2)]
2024-11-08 15:17:01:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 184, Chunk 0, Score: 3.5740, Term Importance: 2.8201, Semantic Similarity: 0.9903, Query Coverage: 0.3337, Position Score: 0.0914, Term Density: 0.3998, Context Similarity: 13.0780, Frequency: [('支付', 4), ('電子', 3)]
2024-11-08 15:17:01:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 591, Chunk 0, Score: 3.1374, Term Importance: 0.6933, Semantic Similarity: 0.9702, Query Coverage: 0.4253, Position Score: 0.0304, Term Density: 0.1668, Context Similarity: 4.0120, Frequency: [('使用', 2), ('玉山', 1), ('支付', 1)]
2024-11-08 15:17:01:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 406, Chunk 0, Score: 2.4682, Term Importance: 0.0874, Semantic Similarity: 0.9865, Query Coverage: 0.2708, Position Score: 0.5833, Term Density: 0.1354, Context Similarity: 2.8182, Frequency: [('要', 1)]
2024-11-08 15:17:01:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 555, Chunk 0, Score: 1.2496, Term Importance: 1.1434, Semantic Similarity: 0.9887, Query Coverage: 0.1322, Position Score: 0.0921, Term Density: 0.1322, Context Similarity: 9.2918, Frequency: [('支付', 3)]
2024-11-08 15:17:01:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:01:INFO:utils.RAGProcessor:FAISS Score: [0.5318], PDF: 600, Chunk: 0, metadata: [{}]
2024-11-08 15:17:01:INFO:utils.RAGProcessor:FAISS Score: [0.8872], PDF: 591, Chunk: 0, metadata: [{}]
2024-11-08 15:17:01:INFO:utils.RAGProcessor:FAISS Score: [0.9502], PDF: 74, Chunk: 0, metadata: [{}]
2024-11-08 15:17:01:INFO:utils.RAGProcessor:FAISS Score: [0.9514], PDF: 235, Chunk: 0, metadata: [{}]
2024-11-08 15:17:01:INFO:utils.RAGProcessor:FAISS Score: [0.9722], PDF: 184, Chunk: 0, metadata: [{}]
2024-11-08 15:17:01:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:01:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 600, Chunk 0: Final Score=0.8735, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0660, Density=1.0000, Context=0.2374
2024-11-08 15:17:01:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 184, Chunk 0: Final Score=0.2889, BM25=0.2283, FAISS=0.0000, Importance=0.4213, Semantic=0.9066, Coverage=0.1944, Position=0.1102, Density=0.5920, Context=1.0000
2024-11-08 15:17:01:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 406, Chunk 0: Final Score=0.1968, BM25=0.1197, FAISS=0.0000, Importance=0.0000, Semantic=0.7353, Coverage=0.1338, Position=1.0000, Density=0.0071, Context=0.0000
2024-11-08 15:17:01:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 591, Chunk 0: Final Score=0.1478, BM25=0.1855, FAISS=0.1930, Importance=0.0934, Semantic=0.0000, Coverage=0.2829, Position=0.0000, Density=0.0767, Context=0.1164
2024-11-08 15:17:01:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 555, Chunk 0: Final Score=0.1055, BM25=0.0000, FAISS=0.0000, Importance=0.1628, Semantic=0.8375, Coverage=0.0000, Position=0.1117, Density=0.0000, Context=0.6310
2024-11-08 15:17:01:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 74, Chunk 0: Final Score=0.0144, BM25=0.0000, FAISS=0.0499, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:01:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 235, Chunk 0: Final Score=0.0136, BM25=0.0000, FAISS=0.0472, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:01:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:01:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:01:INFO:utils.RAGProcessor:Query Features - Length: 10, Diversity: 0.91
2024-11-08 15:17:01:INFO:__main__:================================================================= QID: 132 =================================================================
2024-11-08 15:17:01:INFO:utils.rag_processor.query_processor:query分詞結果: 密碼/刷臉/卡/差別/都/有無/行動/提款/交易/無卡
2024-11-08 15:17:01:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:01:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 334, Chunk 0, Score: 12.8907, Term Importance: 17.4504, Semantic Similarity: 0.9933, Query Coverage: 1.2377, Position Score: 0.0834, Term Density: 1.2894, Context Similarity: 7.9610, Frequency: [('無卡', 5), ('交易', 5), ('密碼', 5), ('提款', 2), ('行動', 1), ('刷臉', 1)]
2024-11-08 15:17:01:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 561, Chunk 0, Score: 3.6397, Term Importance: 1.2123, Semantic Similarity: 0.9921, Query Coverage: 0.4030, Position Score: 0.0571, Term Density: 0.2644, Context Similarity: 7.7628, Frequency: [('交易', 4), ('都', 1)]
2024-11-08 15:17:01:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 5, Chunk 0, Score: 3.0249, Term Importance: 8.1178, Semantic Similarity: 0.9885, Query Coverage: 0.2931, Position Score: 0.0534, Term Density: 0.2931, Context Similarity: 17.1341, Frequency: [('行動', 6), ('交易', 4)]
2024-11-08 15:17:01:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 382, Chunk 0, Score: 2.5761, Term Importance: 0.8761, Semantic Similarity: 0.9921, Query Coverage: 0.2931, Position Score: 0.0541, Term Density: 0.1466, Context Similarity: 7.6520, Frequency: [('密碼', 3), ('行動', 1)]
2024-11-08 15:17:01:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 358, Chunk 0, Score: 1.3049, Term Importance: 4.1023, Semantic Similarity: 0.9870, Query Coverage: 0.1322, Position Score: 0.0364, Term Density: 0.1322, Context Similarity: 21.7884, Frequency: [('密碼', 7)]
2024-11-08 15:17:02:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:02:INFO:utils.RAGProcessor:FAISS Score: [0.3869], PDF: 334, Chunk: 0, metadata: [{}]
2024-11-08 15:17:02:INFO:utils.RAGProcessor:FAISS Score: [0.8861], PDF: 5, Chunk: 0, metadata: [{}]
2024-11-08 15:17:02:INFO:utils.RAGProcessor:FAISS Score: [0.9796], PDF: 398, Chunk: 0, metadata: [{}]
2024-11-08 15:17:02:INFO:utils.RAGProcessor:FAISS Score: [0.9798], PDF: 382, Chunk: 0, metadata: [{}]
2024-11-08 15:17:02:INFO:utils.RAGProcessor:FAISS Score: [1.0549], PDF: 509, Chunk: 0, metadata: [{}]
2024-11-08 15:17:02:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 334, Chunk 0: Final Score=0.9530, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=0.0219
2024-11-08 15:17:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 5, Chunk 0: Final Score=0.2290, BM25=0.1485, FAISS=0.2526, Importance=0.4369, Semantic=0.2331, Coverage=0.1456, Position=0.3625, Density=0.1391, Context=0.6708
2024-11-08 15:17:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 561, Chunk 0: Final Score=0.1961, BM25=0.2015, FAISS=0.0000, Importance=0.0203, Semantic=0.8076, Coverage=0.2450, Position=0.4402, Density=0.1142, Context=0.0078
2024-11-08 15:17:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 382, Chunk 0: Final Score=0.1753, BM25=0.1097, FAISS=0.1124, Importance=0.0000, Semantic=0.8152, Coverage=0.1456, Position=0.3768, Density=0.0124, Context=0.0000
2024-11-08 15:17:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 358, Chunk 0: Final Score=0.0481, BM25=0.0000, FAISS=0.0000, Importance=0.1947, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=1.0000
2024-11-08 15:17:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 398, Chunk 0: Final Score=0.0325, BM25=0.0000, FAISS=0.1127, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 509, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:02:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:02:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:02:INFO:utils.RAGProcessor:Query Features - Length: 10, Diversity: 0.91
2024-11-08 15:17:02:INFO:__main__:================================================================= QID: 133 =================================================================
2024-11-08 15:17:02:INFO:utils.rag_processor.query_processor:query分詞結果: 刷臉/註銷/提款/服務/步驟
2024-11-08 15:17:02:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:02:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 243, Chunk 0, Score: 12.3573, Term Importance: 35.2502, Semantic Similarity: 0.9889, Query Coverage: 2.3862, Position Score: 0.0317, Term Density: 1.1931, Context Similarity: 19.1190, Frequency: [('註銷', 9), ('刷臉', 9), ('提款', 7), ('服務', 5), ('步驟', 1)]
2024-11-08 15:17:02:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 511, Chunk 0, Score: 0.7734, Term Importance: 0.0983, Semantic Similarity: 0.9843, Query Coverage: 0.2197, Position Score: 0.0394, Term Density: 0.0549, Context Similarity: 6.5516, Frequency: [('服務', 3)]
2024-11-08 15:17:02:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 343, Chunk 0, Score: 0.7305, Term Importance: 0.4431, Semantic Similarity: 0.9793, Query Coverage: 0.2197, Position Score: 0.1639, Term Density: 0.1099, Context Similarity: 6.1014, Frequency: [('服務', 2)]
2024-11-08 15:17:02:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 293, Chunk 0, Score: 0.7288, Term Importance: 0.1569, Semantic Similarity: 0.9808, Query Coverage: 0.2197, Position Score: 0.8667, Term Density: 0.0549, Context Similarity: 2.4003, Frequency: [('服務', 1)]
2024-11-08 15:17:02:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 219, Chunk 0, Score: 0.7139, Term Importance: 0.1373, Semantic Similarity: 0.9794, Query Coverage: 0.2197, Position Score: 0.8654, Term Density: 0.0549, Context Similarity: 2.5686, Frequency: [('服務', 1)]
2024-11-08 15:17:02:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:02:INFO:utils.RAGProcessor:FAISS Score: [0.5456], PDF: 243, Chunk: 0, metadata: [{}]
2024-11-08 15:17:02:INFO:utils.RAGProcessor:FAISS Score: [1.0002], PDF: 304, Chunk: 0, metadata: [{}]
2024-11-08 15:17:02:INFO:utils.RAGProcessor:FAISS Score: [1.0140], PDF: 400, Chunk: 0, metadata: [{}]
2024-11-08 15:17:02:INFO:utils.RAGProcessor:FAISS Score: [1.0326], PDF: 293, Chunk: 0, metadata: [{}]
2024-11-08 15:17:02:INFO:utils.RAGProcessor:FAISS Score: [1.0390], PDF: 374, Chunk: 0, metadata: [{}]
2024-11-08 15:17:02:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 243, Chunk 0: Final Score=0.9038, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:17:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 293, Chunk 0: Final Score=0.1125, BM25=0.0013, FAISS=0.0130, Importance=0.0017, Semantic=0.1595, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 219, Chunk 0: Final Score=0.0971, BM25=0.0000, FAISS=0.0000, Importance=0.0011, Semantic=0.0086, Coverage=0.0000, Position=0.9985, Density=0.0000, Context=0.0101
2024-11-08 15:17:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 511, Chunk 0: Final Score=0.0539, BM25=0.0051, FAISS=0.0000, Importance=0.0000, Semantic=0.5186, Coverage=0.0000, Position=0.0092, Density=0.0000, Context=0.2483
2024-11-08 15:17:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 343, Chunk 0: Final Score=0.0332, BM25=0.0014, FAISS=0.0000, Importance=0.0098, Semantic=0.0000, Coverage=0.0000, Position=0.1584, Density=0.0483, Context=0.2214
2024-11-08 15:17:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 304, Chunk 0: Final Score=0.0227, BM25=0.0000, FAISS=0.0787, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 400, Chunk 0: Final Score=0.0146, BM25=0.0000, FAISS=0.0507, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:02:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 374, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:02:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:02:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:02:INFO:utils.RAGProcessor:Query Features - Length: 5, Diversity: 0.83
2024-11-08 15:17:02:INFO:__main__:================================================================= QID: 134 =================================================================
2024-11-08 15:17:02:INFO:utils.rag_processor.query_processor:query分詞結果: 門號/一家/變更/電話/行動/哪/服務/要/用/商/電信/驗證
2024-11-08 15:17:02:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:02:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 328, Chunk 0, Score: 15.8834, Term Importance: 10.2792, Semantic Similarity: 0.9892, Query Coverage: 1.3824, Position Score: 0.0347, Term Density: 0.9302, Context Similarity: 16.0060, Frequency: [('變更', 5), ('電信', 5), ('驗證', 4), ('行動', 3), ('電話', 3), ('商', 2), ('門號', 2), ('服務', 1)]
2024-11-08 15:17:02:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 26, Chunk 0, Score: 2.7999, Term Importance: 0.7580, Semantic Similarity: 0.9906, Query Coverage: 0.2595, Position Score: 0.0434, Term Density: 0.2015, Context Similarity: 4.8594, Frequency: [('電話', 3), ('服務', 1)]
2024-11-08 15:17:02:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 95, Chunk 0, Score: 2.5603, Term Importance: 0.1741, Semantic Similarity: 0.9874, Query Coverage: 0.2595, Position Score: 0.0593, Term Density: 0.1099, Context Similarity: 4.7864, Frequency: [('服務', 2), ('電信', 1)]
2024-11-08 15:17:02:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 120, Chunk 0, Score: 2.4847, Term Importance: 0.2083, Semantic Similarity: 0.9824, Query Coverage: 0.2257, Position Score: 0.7857, Term Density: 0.1354, Context Similarity: 2.6491, Frequency: [('要', 1)]
2024-11-08 15:17:02:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 441, Chunk 0, Score: 2.4396, Term Importance: 0.0820, Semantic Similarity: 0.9909, Query Coverage: 0.2595, Position Score: 0.1496, Term Density: 0.1557, Context Similarity: 3.2894, Frequency: [('驗證', 1), ('服務', 1)]
2024-11-08 15:17:03:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:03:INFO:utils.RAGProcessor:FAISS Score: [0.7214], PDF: 328, Chunk: 0, metadata: [{}]
2024-11-08 15:17:03:INFO:utils.RAGProcessor:FAISS Score: [0.9909], PDF: 441, Chunk: 0, metadata: [{}]
2024-11-08 15:17:03:INFO:utils.RAGProcessor:FAISS Score: [1.0421], PDF: 26, Chunk: 0, metadata: [{}]
2024-11-08 15:17:03:INFO:utils.RAGProcessor:FAISS Score: [1.0679], PDF: 87, Chunk: 0, metadata: [{}]
2024-11-08 15:17:03:INFO:utils.RAGProcessor:FAISS Score: [1.0759], PDF: 522, Chunk: 0, metadata: [{}]
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 328, Chunk 0: Final Score=0.8887, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.8033, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 441, Chunk 0: Final Score=0.1745, BM25=0.0000, FAISS=0.2397, Importance=0.0000, Semantic=1.0000, Coverage=0.0292, Position=0.1530, Density=0.0558, Context=0.0479
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 26, Chunk 0: Final Score=0.1366, BM25=0.0268, FAISS=0.0952, Importance=0.0663, Semantic=0.9671, Coverage=0.0292, Position=0.0115, Density=0.1117, Context=0.1655
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 120, Chunk 0: Final Score=0.1014, BM25=0.0034, FAISS=0.0000, Importance=0.0124, Semantic=0.0000, Coverage=0.0000, Position=1.0000, Density=0.0311, Context=0.0000
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 95, Chunk 0: Final Score=0.0612, BM25=0.0090, FAISS=0.0000, Importance=0.0090, Semantic=0.5838, Coverage=0.0292, Position=0.0328, Density=0.0000, Context=0.1600
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 87, Chunk 0: Final Score=0.0065, BM25=0.0000, FAISS=0.0226, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 522, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:03:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:03:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:03:INFO:utils.RAGProcessor:Query Features - Length: 12, Diversity: 0.92
2024-11-08 15:17:03:INFO:__main__:================================================================= QID: 135 =================================================================
2024-11-08 15:17:03:INFO:utils.rag_processor.query_processor:query分詞結果: 可以/申辦/指/玉山/e/信貸/誰
2024-11-08 15:17:03:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:03:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 53, Chunk 0, Score: 2.1256, Term Importance: 0.3869, Semantic Similarity: 0.9841, Query Coverage: 0.3869, Position Score: 0.9286, Term Density: 0.1354, Context Similarity: 1.6802, Frequency: [('指', 1)]
2024-11-08 15:17:03:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 431, Chunk 0, Score: 1.4672, Term Importance: 4.3677, Semantic Similarity: 0.9844, Query Coverage: 0.3139, Position Score: 0.0432, Term Density: 0.2197, Context Similarity: 10.6833, Frequency: [('玉山', 6), ('可以', 1)]
2024-11-08 15:17:03:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 233, Chunk 0, Score: 0.8879, Term Importance: 2.8930, Semantic Similarity: 0.9813, Query Coverage: 0.1569, Position Score: 0.1035, Term Density: 0.1648, Context Similarity: 9.2731, Frequency: [('玉山', 4)]
2024-11-08 15:17:03:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 458, Chunk 0, Score: 0.8687, Term Importance: 2.3795, Semantic Similarity: 0.9745, Query Coverage: 0.1569, Position Score: 0.0298, Term Density: 0.1099, Context Similarity: 12.7193, Frequency: [('玉山', 6)]
2024-11-08 15:17:03:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 299, Chunk 0, Score: 0.8650, Term Importance: 1.2359, Semantic Similarity: 0.9787, Query Coverage: 0.1569, Position Score: 0.1176, Term Density: 0.1373, Context Similarity: 3.3697, Frequency: [('可以', 2)]
2024-11-08 15:17:03:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:03:INFO:utils.RAGProcessor:FAISS Score: [0.9802], PDF: 399, Chunk: 0, metadata: [{}]
2024-11-08 15:17:03:INFO:utils.RAGProcessor:FAISS Score: [1.0148], PDF: 233, Chunk: 0, metadata: [{}]
2024-11-08 15:17:03:INFO:utils.RAGProcessor:FAISS Score: [1.0863], PDF: 271, Chunk: 0, metadata: [{}]
2024-11-08 15:17:03:INFO:utils.RAGProcessor:FAISS Score: [1.0957], PDF: 562, Chunk: 0, metadata: [{}]
2024-11-08 15:17:03:INFO:utils.RAGProcessor:FAISS Score: [1.0959], PDF: 498, Chunk: 0, metadata: [{}]
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 53, Chunk 0: Final Score=0.5502, BM25=1.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.9667, Coverage=1.0000, Position=1.0000, Density=0.2325, Context=0.0000
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 431, Chunk 0: Final Score=0.4508, BM25=0.4777, FAISS=0.0000, Importance=1.0000, Semantic=1.0000, Coverage=0.6826, Position=0.0149, Density=1.0000, Context=0.8156
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 233, Chunk 0: Final Score=0.3723, BM25=0.0181, FAISS=0.7006, Importance=0.6296, Semantic=0.6886, Coverage=0.0000, Position=0.0820, Density=0.5000, Context=0.6878
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 399, Chunk 0: Final Score=0.2885, BM25=0.0000, FAISS=1.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 299, Chunk 0: Final Score=0.0857, BM25=0.0000, FAISS=0.0000, Importance=0.2133, Semantic=0.4274, Coverage=0.0000, Position=0.0977, Density=0.2500, Context=0.1530
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 458, Chunk 0: Final Score=0.0487, BM25=0.0029, FAISS=0.0000, Importance=0.5006, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=1.0000
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 271, Chunk 0: Final Score=0.0240, BM25=0.0000, FAISS=0.0834, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 562, Chunk 0: Final Score=0.0007, BM25=0.0000, FAISS=0.0023, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 498, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:03:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:03:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:03:INFO:utils.RAGProcessor:Query Features - Length: 7, Diversity: 0.88
2024-11-08 15:17:03:INFO:__main__:================================================================= QID: 136 =================================================================
2024-11-08 15:17:03:INFO:utils.rag_processor.query_processor:query分詞結果: 起/轉/存款/存額/綜合/定期/定期存款/多少
2024-11-08 15:17:03:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:03:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 504, Chunk 0, Score: 9.7177, Term Importance: 2.2451, Semantic Similarity: 0.9930, Query Coverage: 1.6059, Position Score: 0.0280, Term Density: 0.5416, Context Similarity: 7.6813, Frequency: [('存款', 6), ('綜合', 1), ('多少', 1), ('定期', 1), ('定期存款', 1)]
2024-11-08 15:17:03:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 189, Chunk 0, Score: 1.5958, Term Importance: 0.0296, Semantic Similarity: 0.9906, Query Coverage: 0.2519, Position Score: 0.5379, Term Density: 0.1007, Context Similarity: 2.0608, Frequency: [('多少', 1)]
2024-11-08 15:17:03:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 183, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9885, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:03:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 403, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9904, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:03:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 586, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9863, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:03:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:03:INFO:utils.RAGProcessor:FAISS Score: [0.7952], PDF: 504, Chunk: 0, metadata: [{}]
2024-11-08 15:17:03:INFO:utils.RAGProcessor:FAISS Score: [1.0973], PDF: 338, Chunk: 0, metadata: [{}]
2024-11-08 15:17:03:INFO:utils.RAGProcessor:FAISS Score: [1.1289], PDF: 403, Chunk: 0, metadata: [{}]
2024-11-08 15:17:03:INFO:utils.RAGProcessor:FAISS Score: [1.1659], PDF: 366, Chunk: 0, metadata: [{}]
2024-11-08 15:17:03:INFO:utils.RAGProcessor:FAISS Score: [1.1715], PDF: 586, Chunk: 0, metadata: [{}]
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 504, Chunk 0: Final Score=0.9089, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0521, Density=1.0000, Context=1.0000
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 189, Chunk 0: Final Score=0.2406, BM25=0.1642, FAISS=0.0000, Importance=0.0132, Semantic=0.6331, Coverage=0.1568, Position=1.0000, Density=0.1860, Context=0.2683
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 403, Chunk 0: Final Score=0.0790, BM25=0.0000, FAISS=0.1132, Importance=0.0000, Semantic=0.6029, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 338, Chunk 0: Final Score=0.0569, BM25=0.0000, FAISS=0.1971, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 183, Chunk 0: Final Score=0.0252, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.3271, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 366, Chunk 0: Final Score=0.0043, BM25=0.0000, FAISS=0.0148, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:03:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 586, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:03:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:03:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:03:INFO:utils.RAGProcessor:Query Features - Length: 8, Diversity: 0.89
2024-11-08 15:17:03:INFO:__main__:================================================================= QID: 137 =================================================================
2024-11-08 15:17:03:INFO:utils.rag_processor.query_processor:query分詞結果: 哪些/外匯/步驟/申報
2024-11-08 15:17:03:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:03:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 359, Chunk 0, Score: 6.2159, Term Importance: 5.5198, Semantic Similarity: 0.9892, Query Coverage: 1.3540, Position Score: 0.0532, Term Density: 0.5416, Context Similarity: 18.4552, Frequency: [('外匯', 5), ('申報', 5)]
2024-11-08 15:17:03:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 425, Chunk 0, Score: 0.4703, Term Importance: 0.4019, Semantic Similarity: 0.9763, Query Coverage: 0.2291, Position Score: 0.1294, Term Density: 0.0916, Context Similarity: 5.5960, Frequency: [('哪些', 2)]
2024-11-08 15:17:03:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 612, Chunk 0, Score: 0.4640, Term Importance: 0.4962, Semantic Similarity: 0.9776, Query Coverage: 0.2291, Position Score: 0.0633, Term Density: 0.0916, Context Similarity: 6.8307, Frequency: [('哪些', 3)]
2024-11-08 15:17:03:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 150, Chunk 0, Score: 0.3888, Term Importance: 0.1309, Semantic Similarity: 0.9766, Query Coverage: 0.2291, Position Score: 0.9062, Term Density: 0.0458, Context Similarity: 3.0056, Frequency: [('哪些', 1)]
2024-11-08 15:17:03:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 155, Chunk 0, Score: 0.3804, Term Importance: 0.4581, Semantic Similarity: 0.9713, Query Coverage: 0.2291, Position Score: 0.9846, Term Density: 0.0458, Context Similarity: 2.1067, Frequency: [('哪些', 1)]
2024-11-08 15:17:04:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:04:INFO:utils.RAGProcessor:FAISS Score: [0.7847], PDF: 359, Chunk: 0, metadata: [{}]
2024-11-08 15:17:04:INFO:utils.RAGProcessor:FAISS Score: [0.9562], PDF: 482, Chunk: 0, metadata: [{}]
2024-11-08 15:17:04:INFO:utils.RAGProcessor:FAISS Score: [1.0286], PDF: 155, Chunk: 0, metadata: [{}]
2024-11-08 15:17:04:INFO:utils.RAGProcessor:FAISS Score: [1.0388], PDF: 400, Chunk: 0, metadata: [{}]
2024-11-08 15:17:04:INFO:utils.RAGProcessor:FAISS Score: [1.0408], PDF: 150, Chunk: 0, metadata: [{}]
2024-11-08 15:17:04:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 359, Chunk 0: Final Score=0.9038, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:17:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 150, Chunk 0: Final Score=0.1138, BM25=0.0014, FAISS=0.0000, Importance=0.0000, Semantic=0.2956, Coverage=0.0000, Position=0.9159, Density=0.0000, Context=0.0550
2024-11-08 15:17:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 155, Chunk 0: Final Score=0.1099, BM25=0.0000, FAISS=0.0478, Importance=0.0607, Semantic=0.0000, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 482, Chunk 0: Final Score=0.0953, BM25=0.0000, FAISS=0.3303, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 612, Chunk 0: Final Score=0.0587, BM25=0.0143, FAISS=0.0000, Importance=0.0678, Semantic=0.3529, Coverage=0.0000, Position=0.0109, Density=0.0924, Context=0.2890
2024-11-08 15:17:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 425, Chunk 0: Final Score=0.0566, BM25=0.0154, FAISS=0.0000, Importance=0.0503, Semantic=0.2809, Coverage=0.0000, Position=0.0818, Density=0.0924, Context=0.2134
2024-11-08 15:17:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 400, Chunk 0: Final Score=0.0023, BM25=0.0000, FAISS=0.0079, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:04:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:04:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:04:INFO:utils.RAGProcessor:Query Features - Length: 4, Diversity: 0.80
2024-11-08 15:17:04:INFO:__main__:================================================================= QID: 138 =================================================================
2024-11-08 15:17:04:INFO:utils.rag_processor.query_processor:query分詞結果: 開通/要/簡訊/密碼
2024-11-08 15:17:04:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:04:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 339, Chunk 0, Score: 5.1297, Term Importance: 10.4631, Semantic Similarity: 0.9898, Query Coverage: 1.2365, Position Score: 0.0502, Term Density: 0.4488, Context Similarity: 13.6574, Frequency: [('開通', 5), ('簡訊', 3), ('密碼', 3)]
2024-11-08 15:17:04:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 45, Chunk 0, Score: 4.7656, Term Importance: 0.5893, Semantic Similarity: 0.9920, Query Coverage: 1.2365, Position Score: 0.2085, Term Density: 0.4946, Context Similarity: 8.1413, Frequency: [('開通', 2), ('簡訊', 2), ('密碼', 2)]
2024-11-08 15:17:04:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 344, Chunk 0, Score: 2.6423, Term Importance: 1.4570, Semantic Similarity: 0.9887, Query Coverage: 0.7328, Position Score: 0.0436, Term Density: 0.1466, Context Similarity: 6.9422, Frequency: [('簡訊', 2), ('密碼', 2)]
2024-11-08 15:17:04:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 325, Chunk 0, Score: 1.2816, Term Importance: 4.0673, Semantic Similarity: 0.9874, Query Coverage: 0.3304, Position Score: 0.0276, Term Density: 0.1983, Context Similarity: 20.2060, Frequency: [('密碼', 9)]
2024-11-08 15:17:04:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 82, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9866, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:04:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:04:INFO:utils.RAGProcessor:FAISS Score: [0.6110], PDF: 339, Chunk: 0, metadata: [{}]
2024-11-08 15:17:04:INFO:utils.RAGProcessor:FAISS Score: [0.8448], PDF: 344, Chunk: 0, metadata: [{}]
2024-11-08 15:17:04:INFO:utils.RAGProcessor:FAISS Score: [0.9352], PDF: 45, Chunk: 0, metadata: [{}]
2024-11-08 15:17:04:INFO:utils.RAGProcessor:FAISS Score: [0.9431], PDF: 325, Chunk: 0, metadata: [{}]
2024-11-08 15:17:04:INFO:utils.RAGProcessor:FAISS Score: [1.0259], PDF: 21, Chunk: 0, metadata: [{}]
2024-11-08 15:17:04:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 339, Chunk 0: Final Score=0.8663, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.5866, Coverage=1.0000, Position=0.2409, Density=0.9074, Context=0.6759
2024-11-08 15:17:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 45, Chunk 0: Final Score=0.7296, BM25=0.9290, FAISS=0.2188, Importance=0.0563, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=0.4029
2024-11-08 15:17:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 344, Chunk 0: Final Score=0.4220, BM25=0.5151, FAISS=0.4365, Importance=0.1392, Semantic=0.3829, Coverage=0.5926, Position=0.2091, Density=0.2963, Context=0.3436
2024-11-08 15:17:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 325, Chunk 0: Final Score=0.2756, BM25=0.2498, FAISS=0.1995, Importance=0.3887, Semantic=0.1420, Coverage=0.2672, Position=0.1322, Density=0.4008, Context=1.0000
2024-11-08 15:17:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 21, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:04:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 82, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:04:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:04:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:04:INFO:utils.RAGProcessor:Query Features - Length: 4, Diversity: 0.80
2024-11-08 15:17:04:INFO:__main__:================================================================= QID: 139 =================================================================
2024-11-08 15:17:04:INFO:utils.rag_processor.query_processor:query分詞結果: 代碼/錯誤/080305/錯誤代碼/出現/會
2024-11-08 15:17:04:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:04:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 194, Chunk 0, Score: 12.1445, Term Importance: 2.3376, Semantic Similarity: 0.9825, Query Coverage: 2.2567, Position Score: 0.0494, Term Density: 0.5416, Context Similarity: 3.1414, Frequency: [('錯誤', 2), ('出現', 1), ('代碼', 1), ('錯誤代碼', 1), ('080305', 1)]
2024-11-08 15:17:04:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 480, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9862, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:04:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 321, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9735, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:04:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 493, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9740, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:04:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 155, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9739, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:05:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:05:INFO:utils.RAGProcessor:FAISS Score: [0.9062], PDF: 194, Chunk: 0, metadata: [{}]
2024-11-08 15:17:05:INFO:utils.RAGProcessor:FAISS Score: [1.0888], PDF: 480, Chunk: 0, metadata: [{}]
2024-11-08 15:17:05:INFO:utils.RAGProcessor:FAISS Score: [1.2475], PDF: 155, Chunk: 0, metadata: [{}]
2024-11-08 15:17:05:INFO:utils.RAGProcessor:FAISS Score: [1.2630], PDF: 113, Chunk: 0, metadata: [{}]
2024-11-08 15:17:05:INFO:utils.RAGProcessor:FAISS Score: [1.2667], PDF: 463, Chunk: 0, metadata: [{}]
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 194, Chunk 0: Final Score=0.9773, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.7055, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=1.0000
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 480, Chunk 0: Final Score=0.2193, BM25=0.0000, FAISS=0.4934, Importance=0.0000, Semantic=1.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 155, Chunk 0: Final Score=0.0176, BM25=0.0000, FAISS=0.0530, Importance=0.0000, Semantic=0.0304, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 113, Chunk 0: Final Score=0.0029, BM25=0.0000, FAISS=0.0102, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 493, Chunk 0: Final Score=0.0026, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0341, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 463, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 321, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:05:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:05:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:05:INFO:utils.RAGProcessor:Query Features - Length: 6, Diversity: 0.86
2024-11-08 15:17:05:INFO:__main__:================================================================= QID: 140 =================================================================
2024-11-08 15:17:05:INFO:utils.rag_processor.query_processor:query分詞結果: 修改/可以/地址/時間/保單
2024-11-08 15:17:05:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:05:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 141, Chunk 0, Score: 9.7818, Term Importance: 10.5981, Semantic Similarity: 0.9917, Query Coverage: 1.9467, Position Score: 0.0349, Term Density: 0.4867, Context Similarity: 10.9777, Frequency: [('地址', 4), ('修改', 3), ('保單', 3), ('時間', 1)]
2024-11-08 15:17:05:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 3, Chunk 0, Score: 1.5243, Term Importance: 0.8047, Semantic Similarity: 0.9864, Query Coverage: 0.3219, Position Score: 0.9545, Term Density: 0.0805, Context Similarity: 1.6788, Frequency: [('可以', 1)]
2024-11-08 15:17:05:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 77, Chunk 0, Score: 1.4726, Term Importance: 0.0894, Semantic Similarity: 0.9864, Query Coverage: 0.3219, Position Score: 0.6383, Term Density: 0.0805, Context Similarity: 2.5914, Frequency: [('可以', 1)]
2024-11-08 15:17:05:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 561, Chunk 0, Score: 1.3009, Term Importance: 0.0293, Semantic Similarity: 0.9863, Query Coverage: 0.3219, Position Score: 0.5462, Term Density: 0.0805, Context Similarity: 2.5116, Frequency: [('時間', 1)]
2024-11-08 15:17:05:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 275, Chunk 0, Score: 1.1026, Term Importance: 0.0169, Semantic Similarity: 0.9852, Query Coverage: 0.3219, Position Score: 0.5587, Term Density: 0.0805, Context Similarity: 3.2159, Frequency: [('可以', 1)]
2024-11-08 15:17:05:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:05:INFO:utils.RAGProcessor:FAISS Score: [0.6425], PDF: 141, Chunk: 0, metadata: [{}]
2024-11-08 15:17:05:INFO:utils.RAGProcessor:FAISS Score: [0.9749], PDF: 557, Chunk: 0, metadata: [{}]
2024-11-08 15:17:05:INFO:utils.RAGProcessor:FAISS Score: [1.0120], PDF: 558, Chunk: 0, metadata: [{}]
2024-11-08 15:17:05:INFO:utils.RAGProcessor:FAISS Score: [1.0335], PDF: 561, Chunk: 0, metadata: [{}]
2024-11-08 15:17:05:INFO:utils.RAGProcessor:FAISS Score: [1.0784], PDF: 88, Chunk: 0, metadata: [{}]
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 141, Chunk 0: Final Score=0.9038, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 3, Chunk 0: Final Score=0.1225, BM25=0.0486, FAISS=0.0000, Importance=0.0745, Semantic=0.1964, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 561, Chunk 0: Final Score=0.1063, BM25=0.0228, FAISS=0.1029, Importance=0.0012, Semantic=0.1769, Coverage=0.0000, Position=0.5560, Density=0.0000, Context=0.0896
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 77, Chunk 0: Final Score=0.0923, BM25=0.0426, FAISS=0.0000, Importance=0.0068, Semantic=0.1905, Coverage=0.0000, Position=0.6561, Density=0.0000, Context=0.0981
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 557, Chunk 0: Final Score=0.0685, BM25=0.0000, FAISS=0.2374, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 275, Chunk 0: Final Score=0.0627, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.5696, Density=0.0000, Context=0.1653
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 558, Chunk 0: Final Score=0.0439, BM25=0.0000, FAISS=0.1522, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 88, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:05:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:05:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:05:INFO:utils.RAGProcessor:Query Features - Length: 5, Diversity: 0.83
2024-11-08 15:17:05:INFO:__main__:================================================================= QID: 141 =================================================================
2024-11-08 15:17:05:INFO:utils.rag_processor.query_processor:query分詞結果: 沒領/沒有/明細/開戶/之前/一年/都/存摺/玉山/我領
2024-11-08 15:17:05:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:05:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 410, Chunk 0, Score: 13.6669, Term Importance: 9.3875, Semantic Similarity: 0.9945, Query Coverage: 1.2847, Position Score: 0.0860, Term Density: 1.0139, Context Similarity: 9.7323, Frequency: [('明細', 4), ('存摺', 3), ('之前', 2), ('沒有', 1), ('一年', 1)]
2024-11-08 15:17:05:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 79, Chunk 0, Score: 2.5635, Term Importance: 0.5416, Semantic Similarity: 0.9930, Query Coverage: 0.2708, Position Score: 0.9048, Term Density: 0.1354, Context Similarity: 3.1324, Frequency: [('玉山', 1)]
2024-11-08 15:17:05:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 527, Chunk 0, Score: 1.3499, Term Importance: 1.0075, Semantic Similarity: 0.9899, Query Coverage: 0.2015, Position Score: 0.9936, Term Density: 0.1007, Context Similarity: 1.6869, Frequency: [('之前', 1)]
2024-11-08 15:17:05:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 157, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9899, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:05:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 582, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9913, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:05:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:05:INFO:utils.RAGProcessor:FAISS Score: [0.4579], PDF: 410, Chunk: 0, metadata: [{}]
2024-11-08 15:17:05:INFO:utils.RAGProcessor:FAISS Score: [0.8943], PDF: 527, Chunk: 0, metadata: [{}]
2024-11-08 15:17:05:INFO:utils.RAGProcessor:FAISS Score: [0.9417], PDF: 449, Chunk: 0, metadata: [{}]
2024-11-08 15:17:05:INFO:utils.RAGProcessor:FAISS Score: [0.9676], PDF: 236, Chunk: 0, metadata: [{}]
2024-11-08 15:17:05:INFO:utils.RAGProcessor:FAISS Score: [0.9700], PDF: 67, Chunk: 0, metadata: [{}]
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 410, Chunk 0: Final Score=0.9122, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.0866, Density=1.0000, Context=1.0000
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 79, Chunk 0: Final Score=0.2418, BM25=0.1876, FAISS=0.0000, Importance=0.0577, Semantic=0.6744, Coverage=0.2108, Position=0.9106, Density=0.1335, Context=0.3219
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 527, Chunk 0: Final Score=0.2028, BM25=0.0988, FAISS=0.1478, Importance=0.1073, Semantic=0.0059, Coverage=0.1568, Position=1.0000, Density=0.0994, Context=0.1733
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 582, Chunk 0: Final Score=0.0234, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.3042, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 449, Chunk 0: Final Score=0.0159, BM25=0.0000, FAISS=0.0551, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 236, Chunk 0: Final Score=0.0014, BM25=0.0000, FAISS=0.0047, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 67, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:05:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 157, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:05:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:05:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:05:INFO:utils.RAGProcessor:Query Features - Length: 10, Diversity: 0.91
2024-11-08 15:17:05:INFO:__main__:================================================================= QID: 142 =================================================================
2024-11-08 15:17:05:INFO:utils.rag_processor.query_processor:query分詞結果: 多次/提款/失敗/處理/臉部/辨識
2024-11-08 15:17:05:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:05:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 173, Chunk 0, Score: 9.7105, Term Importance: 4.1714, Semantic Similarity: 0.9932, Query Coverage: 1.5743, Position Score: 0.0711, Term Density: 0.4723, Context Similarity: 7.2140, Frequency: [('提款', 2), ('辨識', 2), ('失敗', 2), ('多次', 1)]
2024-11-08 15:17:05:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 202, Chunk 0, Score: 2.2429, Term Importance: 0.0410, Semantic Similarity: 0.9850, Query Coverage: 0.4513, Position Score: 0.5455, Term Density: 0.1354, Context Similarity: 2.6321, Frequency: [('處理', 1)]
2024-11-08 15:17:05:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 290, Chunk 0, Score: 1.8379, Term Importance: 0.1599, Semantic Similarity: 0.9836, Query Coverage: 0.3358, Position Score: 0.0393, Term Density: 0.1007, Context Similarity: 4.6730, Frequency: [('辨識', 2)]
2024-11-08 15:17:05:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 119, Chunk 0, Score: 1.5039, Term Importance: 0.0217, Semantic Similarity: 0.9773, Query Coverage: 0.3358, Position Score: 0.5512, Term Density: 0.1007, Context Similarity: 3.2321, Frequency: [('失敗', 1)]
2024-11-08 15:17:05:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 298, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9707, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:06:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:06:INFO:utils.RAGProcessor:FAISS Score: [0.5617], PDF: 173, Chunk: 0, metadata: [{}]
2024-11-08 15:17:06:INFO:utils.RAGProcessor:FAISS Score: [0.8749], PDF: 527, Chunk: 0, metadata: [{}]
2024-11-08 15:17:06:INFO:utils.RAGProcessor:FAISS Score: [0.9348], PDF: 552, Chunk: 0, metadata: [{}]
2024-11-08 15:17:06:INFO:utils.RAGProcessor:FAISS Score: [0.9600], PDF: 202, Chunk: 0, metadata: [{}]
2024-11-08 15:17:06:INFO:utils.RAGProcessor:FAISS Score: [1.0277], PDF: 298, Chunk: 0, metadata: [{}]
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 173, Chunk 0: Final Score=0.9162, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.1290, Density=1.0000, Context=1.0000
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 202, Chunk 0: Final Score=0.3313, BM25=0.2310, FAISS=0.1452, Importance=0.0098, Semantic=0.6364, Coverage=0.2867, Position=0.9895, Density=0.2867, Context=0.3649
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 119, Chunk 0: Final Score=0.2313, BM25=0.1549, FAISS=0.0000, Importance=0.0052, Semantic=0.2923, Coverage=0.2133, Position=1.0000, Density=0.2133, Context=0.4480
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 290, Chunk 0: Final Score=0.1811, BM25=0.1893, FAISS=0.0000, Importance=0.0383, Semantic=0.5727, Coverage=0.2133, Position=0.0713, Density=0.2133, Context=0.6478
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 527, Chunk 0: Final Score=0.0946, BM25=0.0000, FAISS=0.3279, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 552, Chunk 0: Final Score=0.0575, BM25=0.0000, FAISS=0.1993, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 298, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:06:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:06:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:06:INFO:utils.RAGProcessor:Query Features - Length: 6, Diversity: 0.86
2024-11-08 15:17:06:INFO:__main__:================================================================= QID: 143 =================================================================
2024-11-08 15:17:06:INFO:utils.rag_processor.query_processor:query分詞結果: 房貸/繳月省/方式/哪些/好處/採用/月
2024-11-08 15:17:06:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:06:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 144, Chunk 0, Score: 12.0061, Term Importance: 14.9281, Semantic Similarity: 0.9867, Query Coverage: 1.7363, Position Score: 0.0337, Term Density: 0.7431, Context Similarity: 4.6827, Frequency: [('房貸', 6), ('月', 4), ('繳月省', 4), ('方式', 2), ('好處', 1)]
2024-11-08 15:17:06:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 67, Chunk 0, Score: 1.9084, Term Importance: 0.2665, Semantic Similarity: 0.9846, Query Coverage: 0.2878, Position Score: 0.0558, Term Density: 0.1007, Context Similarity: 3.5369, Frequency: [('方式', 2)]
2024-11-08 15:17:06:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 87, Chunk 0, Score: 1.7849, Term Importance: 0.0611, Semantic Similarity: 0.9875, Query Coverage: 0.2878, Position Score: 0.6000, Term Density: 0.1007, Context Similarity: 2.3450, Frequency: [('月', 1)]
2024-11-08 15:17:06:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 150, Chunk 0, Score: 1.7174, Term Importance: 0.2878, Semantic Similarity: 0.9785, Query Coverage: 0.2878, Position Score: 0.9062, Term Density: 0.1007, Context Similarity: 3.0056, Frequency: [('哪些', 1)]
2024-11-08 15:17:06:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 306, Chunk 0, Score: 1.6549, Term Importance: 0.0387, Semantic Similarity: 0.9863, Query Coverage: 0.2878, Position Score: 0.5714, Term Density: 0.1007, Context Similarity: 2.5716, Frequency: [('哪些', 1)]
2024-11-08 15:17:06:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:06:INFO:utils.RAGProcessor:FAISS Score: [0.5312], PDF: 144, Chunk: 0, metadata: [{}]
2024-11-08 15:17:06:INFO:utils.RAGProcessor:FAISS Score: [1.0559], PDF: 150, Chunk: 0, metadata: [{}]
2024-11-08 15:17:06:INFO:utils.RAGProcessor:FAISS Score: [1.0897], PDF: 535, Chunk: 0, metadata: [{}]
2024-11-08 15:17:06:INFO:utils.RAGProcessor:FAISS Score: [1.1188], PDF: 505, Chunk: 0, metadata: [{}]
2024-11-08 15:17:06:INFO:utils.RAGProcessor:FAISS Score: [1.1581], PDF: 274, Chunk: 0, metadata: [{}]
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 144, Chunk 0: Final Score=0.8972, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.9133, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=1.0000
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 150, Chunk 0: Final Score=0.1582, BM25=0.0060, FAISS=0.1631, Importance=0.0167, Semantic=0.0000, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.2826
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 87, Chunk 0: Final Score=0.1422, BM25=0.0126, FAISS=0.0000, Importance=0.0015, Semantic=1.0000, Coverage=0.0000, Position=0.6490, Density=0.0000, Context=0.0000
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 306, Chunk 0: Final Score=0.1308, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.8694, Coverage=0.0000, Position=0.6163, Density=0.0000, Context=0.0969
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 67, Chunk 0: Final Score=0.0846, BM25=0.0245, FAISS=0.0000, Importance=0.0153, Semantic=0.6764, Coverage=0.0000, Position=0.0254, Density=0.0000, Context=0.5099
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 535, Chunk 0: Final Score=0.0315, BM25=0.0000, FAISS=0.1092, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 505, Chunk 0: Final Score=0.0181, BM25=0.0000, FAISS=0.0627, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 274, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:06:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:06:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:06:INFO:utils.RAGProcessor:Query Features - Length: 7, Diversity: 0.88
2024-11-08 15:17:06:INFO:__main__:================================================================= QID: 144 =================================================================
2024-11-08 15:17:06:INFO:utils.rag_processor.query_processor:query分詞結果: 重/卡/不見/金融卡/金融/新發/申請
2024-11-08 15:17:06:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:06:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 38, Chunk 0, Score: 3.2249, Term Importance: 2.8837, Semantic Similarity: 0.9633, Query Coverage: 0.5757, Position Score: 0.0746, Term Density: 0.2015, Context Similarity: 4.9755, Frequency: [('申請', 3), ('金融', 1), ('金融卡', 1)]
2024-11-08 15:17:06:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 542, Chunk 0, Score: 2.1979, Term Importance: 4.2760, Semantic Similarity: 0.9824, Query Coverage: 0.3458, Position Score: 0.0971, Term Density: 0.3631, Context Similarity: 5.5673, Frequency: [('金融', 4), ('金融卡', 4)]
2024-11-08 15:17:06:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 225, Chunk 0, Score: 2.1378, Term Importance: 4.8722, Semantic Similarity: 0.9781, Query Coverage: 0.3458, Position Score: 0.0580, Term Density: 0.2420, Context Similarity: 4.7982, Frequency: [('金融', 4), ('金融卡', 4)]
2024-11-08 15:17:06:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 243, Chunk 0, Score: 2.0647, Term Importance: 1.7732, Semantic Similarity: 0.9854, Query Coverage: 0.3458, Position Score: 0.0381, Term Density: 0.2420, Context Similarity: 8.0945, Frequency: [('金融', 5), ('金融卡', 5)]
2024-11-08 15:17:06:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 424, Chunk 0, Score: 1.5558, Term Importance: 0.8047, Semantic Similarity: 0.9825, Query Coverage: 0.2299, Position Score: 0.9333, Term Density: 0.1150, Context Similarity: 2.0819, Frequency: [('申請', 1)]
2024-11-08 15:17:06:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:06:INFO:utils.RAGProcessor:FAISS Score: [0.6176], PDF: 225, Chunk: 0, metadata: [{}]
2024-11-08 15:17:06:INFO:utils.RAGProcessor:FAISS Score: [0.8619], PDF: 38, Chunk: 0, metadata: [{}]
2024-11-08 15:17:06:INFO:utils.RAGProcessor:FAISS Score: [0.8639], PDF: 542, Chunk: 0, metadata: [{}]
2024-11-08 15:17:06:INFO:utils.RAGProcessor:FAISS Score: [0.9711], PDF: 243, Chunk: 0, metadata: [{}]
2024-11-08 15:17:06:INFO:utils.RAGProcessor:FAISS Score: [1.0233], PDF: 151, Chunk: 0, metadata: [{}]
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 225, Chunk 0: Final Score=0.5569, BM25=0.3487, FAISS=1.0000, Importance=1.0000, Semantic=0.6711, Coverage=0.3350, Position=0.0223, Density=0.5122, Context=0.4518
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 38, Chunk 0: Final Score=0.5383, BM25=1.0000, FAISS=0.3978, Importance=0.5111, Semantic=0.0000, Coverage=1.0000, Position=0.0408, Density=0.3488, Context=0.4812
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 542, Chunk 0: Final Score=0.4856, BM25=0.3847, FAISS=0.3928, Importance=0.8534, Semantic=0.8642, Coverage=0.3350, Position=0.0659, Density=1.0000, Context=0.5797
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 243, Chunk 0: Final Score=0.3450, BM25=0.3048, FAISS=0.1288, Importance=0.2381, Semantic=1.0000, Coverage=0.3350, Position=0.0000, Density=0.5122, Context=1.0000
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 424, Chunk 0: Final Score=0.1628, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.8658, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:06:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 151, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:06:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:06:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:06:INFO:utils.RAGProcessor:Query Features - Length: 7, Diversity: 0.88
2024-11-08 15:17:06:INFO:__main__:================================================================= QID: 145 =================================================================
2024-11-08 15:17:06:INFO:utils.rag_processor.query_processor:query分詞結果: 注意/照片/補件
2024-11-08 15:17:06:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:06:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 564, Chunk 0, Score: 5.9995, Term Importance: 8.7638, Semantic Similarity: 0.9825, Query Coverage: 1.8054, Position Score: 0.1011, Term Density: 0.5416, Context Similarity: 4.7903, Frequency: [('補件', 3), ('照片', 3)]
2024-11-08 15:17:06:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 229, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9592, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:06:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 108, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9699, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:06:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 88, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9653, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:06:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 580, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9645, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:07:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:07:INFO:utils.RAGProcessor:FAISS Score: [0.7818], PDF: 564, Chunk: 0, metadata: [{}]
2024-11-08 15:17:07:INFO:utils.RAGProcessor:FAISS Score: [1.0926], PDF: 134, Chunk: 0, metadata: [{}]
2024-11-08 15:17:07:INFO:utils.RAGProcessor:FAISS Score: [1.1243], PDF: 580, Chunk: 0, metadata: [{}]
2024-11-08 15:17:07:INFO:utils.RAGProcessor:FAISS Score: [1.1414], PDF: 108, Chunk: 0, metadata: [{}]
2024-11-08 15:17:07:INFO:utils.RAGProcessor:FAISS Score: [1.1663], PDF: 245, Chunk: 0, metadata: [{}]
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 564, Chunk 0: Final Score=1.0000, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=1.0000
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 134, Chunk 0: Final Score=0.0553, BM25=0.0000, FAISS=0.1917, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 108, Chunk 0: Final Score=0.0540, BM25=0.0000, FAISS=0.0647, Importance=0.0000, Semantic=0.4592, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 580, Chunk 0: Final Score=0.0491, BM25=0.0000, FAISS=0.1092, Importance=0.0000, Semantic=0.2291, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 88, Chunk 0: Final Score=0.0201, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.2613, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 229, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 245, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:07:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:07:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:07:INFO:utils.RAGProcessor:Query Features - Length: 3, Diversity: 0.75
2024-11-08 15:17:07:INFO:__main__:================================================================= QID: 146 =================================================================
2024-11-08 15:17:07:INFO:utils.rag_processor.query_processor:query分詞結果: 支付/手機/意思/跨境/掃碼
2024-11-08 15:17:07:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:07:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 0, Chunk 0, Score: 9.9517, Term Importance: 5.1267, Semantic Similarity: 0.9846, Query Coverage: 1.9467, Position Score: 0.1646, Term Density: 0.7026, Context Similarity: 3.3033, Frequency: [('手機', 2), ('支付', 2), ('跨境', 1), ('掃碼', 1)]
2024-11-08 15:17:07:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 187, Chunk 0, Score: 1.4378, Term Importance: 0.5016, Semantic Similarity: 0.9806, Query Coverage: 0.3219, Position Score: 0.0274, Term Density: 0.0805, Context Similarity: 5.1133, Frequency: [('支付', 2)]
2024-11-08 15:17:07:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 311, Chunk 0, Score: 1.4131, Term Importance: 0.1150, Semantic Similarity: 0.9718, Query Coverage: 0.3219, Position Score: 0.7174, Term Density: 0.0805, Context Similarity: 3.1036, Frequency: [('支付', 1)]
2024-11-08 15:17:07:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 63, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9805, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:07:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 441, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9818, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:07:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:07:INFO:utils.RAGProcessor:FAISS Score: [0.5363], PDF: 0, Chunk: 0, metadata: [{}]
2024-11-08 15:17:07:INFO:utils.RAGProcessor:FAISS Score: [1.0086], PDF: 192, Chunk: 0, metadata: [{}]
2024-11-08 15:17:07:INFO:utils.RAGProcessor:FAISS Score: [1.0556], PDF: 181, Chunk: 0, metadata: [{}]
2024-11-08 15:17:07:INFO:utils.RAGProcessor:FAISS Score: [1.0893], PDF: 311, Chunk: 0, metadata: [{}]
2024-11-08 15:17:07:INFO:utils.RAGProcessor:FAISS Score: [1.1645], PDF: 187, Chunk: 0, metadata: [{}]
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 0, Chunk 0: Final Score=0.9089, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.2294, Density=1.0000, Context=0.6460
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 311, Chunk 0: Final Score=0.2282, BM25=0.1420, FAISS=0.1197, Importance=0.0224, Semantic=0.0000, Coverage=0.1653, Position=1.0000, Density=0.1145, Context=0.6070
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 187, Chunk 0: Final Score=0.1737, BM25=0.1445, FAISS=0.0000, Importance=0.0978, Semantic=0.6887, Coverage=0.1653, Position=0.0382, Density=0.1145, Context=1.0000
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 192, Chunk 0: Final Score=0.0716, BM25=0.0000, FAISS=0.2482, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 441, Chunk 0: Final Score=0.0599, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.7792, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 63, Chunk 0: Final Score=0.0521, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.6775, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 181, Chunk 0: Final Score=0.0500, BM25=0.0000, FAISS=0.1733, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:07:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:07:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:07:INFO:utils.RAGProcessor:Query Features - Length: 5, Diversity: 0.83
2024-11-08 15:17:07:INFO:__main__:================================================================= QID: 147 =================================================================
2024-11-08 15:17:07:INFO:utils.rag_processor.query_processor:query分詞結果: 退件/原因/通知/收到
2024-11-08 15:17:07:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:07:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 87, Chunk 0, Score: 6.0506, Term Importance: 4.5939, Semantic Similarity: 0.9794, Query Coverage: 1.4817, Position Score: 0.0772, Term Density: 0.4317, Context Similarity: 4.5891, Frequency: [('退件', 3), ('收到', 2), ('通知', 2)]
2024-11-08 15:17:07:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 396, Chunk 0, Score: 2.8413, Term Importance: 0.6945, Semantic Similarity: 0.9792, Query Coverage: 0.8047, Position Score: 0.0431, Term Density: 0.1609, Context Similarity: 6.4106, Frequency: [('收到', 3), ('通知', 1)]
2024-11-08 15:17:07:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 460, Chunk 0, Score: 1.5885, Term Importance: 0.4024, Semantic Similarity: 0.9686, Query Coverage: 0.4024, Position Score: 0.7273, Term Density: 0.2012, Context Similarity: 2.8452, Frequency: [('收到', 1)]
2024-11-08 15:17:07:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 230, Chunk 0, Score: 1.2090, Term Importance: 0.0251, Semantic Similarity: 0.9751, Query Coverage: 0.4024, Position Score: 0.5116, Term Density: 0.0805, Context Similarity: 1.8630, Frequency: [('通知', 1)]
2024-11-08 15:17:07:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 71, Chunk 0, Score: 0.0000, Term Importance: 0.0000, Semantic Similarity: 0.9717, Query Coverage: 0.0000, Position Score: 0.0000, Term Density: 0.0000, Context Similarity: 0.0000, Frequency: []
2024-11-08 15:17:07:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:07:INFO:utils.RAGProcessor:FAISS Score: [0.6144], PDF: 87, Chunk: 0, metadata: [{}]
2024-11-08 15:17:07:INFO:utils.RAGProcessor:FAISS Score: [0.9153], PDF: 460, Chunk: 0, metadata: [{}]
2024-11-08 15:17:07:INFO:utils.RAGProcessor:FAISS Score: [0.9264], PDF: 392, Chunk: 0, metadata: [{}]
2024-11-08 15:17:07:INFO:utils.RAGProcessor:FAISS Score: [1.0409], PDF: 250, Chunk: 0, metadata: [{}]
2024-11-08 15:17:07:INFO:utils.RAGProcessor:FAISS Score: [1.0525], PDF: 396, Chunk: 0, metadata: [{}]
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 87, Chunk 0: Final Score=0.9004, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.1061, Density=1.0000, Context=0.7159
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 460, Chunk 0: Final Score=0.3670, BM25=0.2625, FAISS=0.3133, Importance=0.0876, Semantic=0.0000, Coverage=0.2715, Position=1.0000, Density=0.4660, Context=0.4438
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 396, Chunk 0: Final Score=0.3537, BM25=0.4696, FAISS=0.0000, Importance=0.1512, Semantic=0.9766, Coverage=0.5431, Position=0.0592, Density=0.3728, Context=1.0000
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 230, Chunk 0: Final Score=0.2322, BM25=0.1998, FAISS=0.0000, Importance=0.0055, Semantic=0.6011, Coverage=0.2715, Position=0.7035, Density=0.1864, Context=0.2906
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 392, Chunk 0: Final Score=0.0830, BM25=0.0000, FAISS=0.2879, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 71, Chunk 0: Final Score=0.0221, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.2870, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:07:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 250, Chunk 0: Final Score=0.0077, BM25=0.0000, FAISS=0.0266, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:07:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:07:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:07:INFO:utils.RAGProcessor:Query Features - Length: 4, Diversity: 0.80
2024-11-08 15:17:07:INFO:__main__:================================================================= QID: 148 =================================================================
2024-11-08 15:17:07:INFO:utils.rag_processor.query_processor:query分詞結果: 還是/投保/臨櫃/可以/沒有/透過/帳戶/玉山/網路
2024-11-08 15:17:07:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:07:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 242, Chunk 0, Score: 6.1219, Term Importance: 4.8936, Semantic Similarity: 0.9871, Query Coverage: 0.8171, Position Score: 0.1459, Term Density: 0.6203, Context Similarity: 8.2703, Frequency: [('玉山', 3), ('帳戶', 3), ('沒有', 1), ('透過', 1), ('投保', 1)]
2024-11-08 15:17:07:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 410, Chunk 0, Score: 4.8055, Term Importance: 0.6750, Semantic Similarity: 0.9907, Query Coverage: 0.6383, Position Score: 0.0919, Term Density: 0.2526, Context Similarity: 5.7749, Frequency: [('帳戶', 2), ('沒有', 1), ('透過', 1), ('網路', 1)]
2024-11-08 15:17:07:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 332, Chunk 0, Score: 4.6208, Term Importance: 5.0025, Semantic Similarity: 0.9888, Query Coverage: 0.5496, Position Score: 0.0795, Term Density: 0.4743, Context Similarity: 8.8235, Frequency: [('帳戶', 6), ('臨櫃', 3), ('可以', 1)]
2024-11-08 15:17:07:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 420, Chunk 0, Score: 3.0421, Term Importance: 1.4644, Semantic Similarity: 0.9885, Query Coverage: 0.4275, Position Score: 0.0614, Term Density: 0.2382, Context Similarity: 6.4750, Frequency: [('玉山', 2), ('帳戶', 2), ('可以', 1)]
2024-11-08 15:17:07:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 203, Chunk 0, Score: 2.8160, Term Importance: 1.4441, Semantic Similarity: 0.9882, Query Coverage: 0.3577, Position Score: 0.0417, Term Density: 0.2414, Context Similarity: 9.4187, Frequency: [('投保', 5), ('網路', 1)]
2024-11-08 15:17:08:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:08:INFO:utils.RAGProcessor:FAISS Score: [0.6082], PDF: 242, Chunk: 0, metadata: [{}]
2024-11-08 15:17:08:INFO:utils.RAGProcessor:FAISS Score: [0.7672], PDF: 420, Chunk: 0, metadata: [{}]
2024-11-08 15:17:08:INFO:utils.RAGProcessor:FAISS Score: [0.8299], PDF: 332, Chunk: 0, metadata: [{}]
2024-11-08 15:17:08:INFO:utils.RAGProcessor:FAISS Score: [0.8640], PDF: 437, Chunk: 0, metadata: [{}]
2024-11-08 15:17:08:INFO:utils.RAGProcessor:FAISS Score: [0.8883], PDF: 353, Chunk: 0, metadata: [{}]
2024-11-08 15:17:08:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 242, Chunk 0: Final Score=0.9079, BM25=1.0000, FAISS=1.0000, Importance=0.9749, Semantic=0.0000, Coverage=1.0000, Position=1.0000, Density=1.0000, Context=0.6848
2024-11-08 15:17:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 332, Chunk 0: Final Score=0.4345, BM25=0.5459, FAISS=0.2086, Importance=1.0000, Semantic=0.4662, Coverage=0.4177, Position=0.3631, Density=0.6180, Context=0.8367
2024-11-08 15:17:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 410, Chunk 0: Final Score=0.3380, BM25=0.6018, FAISS=0.0000, Importance=0.0000, Semantic=1.0000, Coverage=0.6108, Position=0.4816, Density=0.0376, Context=0.0000
2024-11-08 15:17:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 420, Chunk 0: Final Score=0.2162, BM25=0.0684, FAISS=0.4326, Importance=0.1824, Semantic=0.3981, Coverage=0.1520, Position=0.1896, Density=0.0000, Context=0.1921
2024-11-08 15:17:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 203, Chunk 0: Final Score=0.0725, BM25=0.0000, FAISS=0.0000, Importance=0.1777, Semantic=0.3014, Coverage=0.0000, Position=0.0000, Density=0.0084, Context=1.0000
2024-11-08 15:17:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 437, Chunk 0: Final Score=0.0250, BM25=0.0000, FAISS=0.0867, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 353, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:08:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:08:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:08:INFO:utils.RAGProcessor:Query Features - Length: 9, Diversity: 0.90
2024-11-08 15:17:08:INFO:__main__:================================================================= QID: 149 =================================================================
2024-11-08 15:17:08:INFO:utils.rag_processor.query_processor:query分詞結果: 臨櫃/本行/帳戶/開戶/還能/數位/持有/申請
2024-11-08 15:17:08:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:08:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 441, Chunk 0, Score: 8.6567, Term Importance: 8.1136, Semantic Similarity: 0.9903, Query Coverage: 1.1301, Position Score: 0.0544, Term Density: 0.6791, Context Similarity: 10.8939, Frequency: [('帳戶', 5), ('申請', 4), ('臨櫃', 3), ('數位', 3), ('本行', 2)]
2024-11-08 15:17:08:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 89, Chunk 0, Score: 2.9654, Term Importance: 4.5790, Semantic Similarity: 0.9820, Query Coverage: 0.4530, Position Score: 0.0902, Term Density: 0.3166, Context Similarity: 11.2012, Frequency: [('申請', 4), ('數位', 2), ('帳戶', 2)]
2024-11-08 15:17:08:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 96, Chunk 0, Score: 1.8141, Term Importance: 2.2976, Semantic Similarity: 0.9819, Query Coverage: 0.3157, Position Score: 0.0304, Term Density: 0.1263, Context Similarity: 6.4158, Frequency: [('數位', 2), ('帳戶', 2)]
2024-11-08 15:17:08:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 213, Chunk 0, Score: 1.1658, Term Importance: 0.3723, Semantic Similarity: 0.9849, Query Coverage: 0.2519, Position Score: 0.0359, Term Density: 0.1007, Context Similarity: 7.1423, Frequency: [('申請', 2), ('帳戶', 2)]
2024-11-08 15:17:08:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 524, Chunk 0, Score: 0.8646, Term Importance: 0.7329, Semantic Similarity: 0.9864, Query Coverage: 0.1373, Position Score: 0.1048, Term Density: 0.1648, Context Similarity: 10.6291, Frequency: [('申請', 4)]
2024-11-08 15:17:08:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:08:INFO:utils.RAGProcessor:FAISS Score: [0.4695], PDF: 441, Chunk: 0, metadata: [{}]
2024-11-08 15:17:08:INFO:utils.RAGProcessor:FAISS Score: [0.7967], PDF: 89, Chunk: 0, metadata: [{}]
2024-11-08 15:17:08:INFO:utils.RAGProcessor:FAISS Score: [0.8647], PDF: 96, Chunk: 0, metadata: [{}]
2024-11-08 15:17:08:INFO:utils.RAGProcessor:FAISS Score: [0.8718], PDF: 420, Chunk: 0, metadata: [{}]
2024-11-08 15:17:08:INFO:utils.RAGProcessor:FAISS Score: [0.9496], PDF: 590, Chunk: 0, metadata: [{}]
2024-11-08 15:17:08:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 441, Chunk 0: Final Score=0.9318, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=1.0000, Coverage=1.0000, Position=0.3225, Density=1.0000, Context=0.9358
2024-11-08 15:17:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 89, Chunk 0: Final Score=0.3709, BM25=0.2696, FAISS=0.3184, Importance=0.5434, Semantic=0.0132, Coverage=0.3180, Position=0.8033, Density=0.3733, Context=1.0000
2024-11-08 15:17:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 524, Chunk 0: Final Score=0.1952, BM25=0.0000, FAISS=0.0000, Importance=0.0466, Semantic=0.5294, Coverage=0.0000, Position=1.0000, Density=0.1107, Context=0.8805
2024-11-08 15:17:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 96, Chunk 0: Final Score=0.1062, BM25=0.1219, FAISS=0.1768, Importance=0.2487, Semantic=0.0000, Coverage=0.1797, Position=0.0000, Density=0.0442, Context=0.0000
2024-11-08 15:17:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 213, Chunk 0: Final Score=0.0641, BM25=0.0386, FAISS=0.0000, Importance=0.0000, Semantic=0.3575, Coverage=0.1154, Position=0.0737, Density=0.0000, Context=0.1518
2024-11-08 15:17:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 420, Chunk 0: Final Score=0.0467, BM25=0.0000, FAISS=0.1620, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:08:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 590, Chunk 0: Final Score=0.0000, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:08:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:08:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:08:INFO:utils.RAGProcessor:Query Features - Length: 8, Diversity: 0.89
2024-11-08 15:17:08:INFO:__main__:================================================================= QID: 150 =================================================================
2024-11-08 15:17:08:INFO:utils.rag_processor.query_processor:query分詞結果: 下載/資料/顯示/行動/網路/銀行/何在/會/帳單/無
2024-11-08 15:17:08:INFO:utils.rag_processor.query_processor:query擴展詞: 
2024-11-08 15:17:08:INFO:utils.rag_processor.document_processor:BM25 Rank 1: PDF 221, Chunk 0, Score: 10.0821, Term Importance: 7.6880, Semantic Similarity: 0.9931, Query Coverage: 1.1396, Position Score: 0.0440, Term Density: 0.7164, Context Similarity: 11.1092, Frequency: [('帳單', 5), ('銀行', 3), ('資料', 3), ('網路', 2), ('下載', 2), ('行動', 1), ('顯示', 1)]
2024-11-08 15:17:08:INFO:utils.rag_processor.document_processor:BM25 Rank 2: PDF 47, Chunk 0, Score: 8.5647, Term Importance: 2.2848, Semantic Similarity: 0.9943, Query Coverage: 0.9381, Position Score: 0.0693, Term Density: 0.5149, Context Similarity: 11.7308, Frequency: [('銀行', 4), ('下載', 4), ('網路', 2), ('行動', 2), ('帳單', 2), ('無', 1)]
2024-11-08 15:17:08:INFO:utils.rag_processor.document_processor:BM25 Rank 3: PDF 21, Chunk 0, Score: 3.9955, Term Importance: 0.7398, Semantic Similarity: 0.9901, Query Coverage: 0.5128, Position Score: 0.0841, Term Density: 0.2015, Context Similarity: 3.7584, Frequency: [('會', 1), ('顯示', 1), ('資料', 1)]
2024-11-08 15:17:08:INFO:utils.rag_processor.document_processor:BM25 Rank 4: PDF 507, Chunk 0, Score: 2.1153, Term Importance: 0.1306, Semantic Similarity: 0.9880, Query Coverage: 0.3337, Position Score: 0.3341, Term Density: 0.2126, Context Similarity: 5.5450, Frequency: [('銀行', 2), ('網路', 1), ('行動', 1)]
2024-11-08 15:17:08:INFO:utils.rag_processor.document_processor:BM25 Rank 5: PDF 586, Chunk 0, Score: 1.9778, Term Importance: 0.1259, Semantic Similarity: 0.9859, Query Coverage: 0.2015, Position Score: 0.6053, Term Density: 0.1007, Context Similarity: 2.6141, Frequency: [('無', 1)]
2024-11-08 15:17:09:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:09:INFO:utils.RAGProcessor:FAISS Score: [0.5709], PDF: 221, Chunk: 0, metadata: [{}]
2024-11-08 15:17:09:INFO:utils.RAGProcessor:FAISS Score: [0.7026], PDF: 47, Chunk: 0, metadata: [{}]
2024-11-08 15:17:09:INFO:utils.RAGProcessor:FAISS Score: [0.8067], PDF: 73, Chunk: 0, metadata: [{}]
2024-11-08 15:17:09:INFO:utils.RAGProcessor:FAISS Score: [0.8325], PDF: 21, Chunk: 0, metadata: [{}]
2024-11-08 15:17:09:INFO:utils.RAGProcessor:FAISS Score: [0.9694], PDF: 586, Chunk: 0, metadata: [{}]
2024-11-08 15:17:09:INFO:utils.rag_processor.scoring.weighted_scorer:Adjusted Weights: {'bm25': 0.23076923076923075, 'faiss': 0.28846153846153844, 'importance': 0.0, 'semantic': 0.07692307692307694, 'coverage': 0.11538461538461538, 'position': 0.09615384615384616, 'density': 0.14423076923076922, 'context': 0.04807692307692308}
2024-11-08 15:17:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 221, Chunk 0: Final Score=0.8897, BM25=1.0000, FAISS=1.0000, Importance=1.0000, Semantic=0.8581, Coverage=1.0000, Position=0.0000, Density=1.0000, Context=0.9318
2024-11-08 15:17:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 47, Chunk 0: Final Score=0.6976, BM25=0.8128, FAISS=0.6694, Importance=0.2855, Semantic=1.0000, Coverage=0.7852, Position=0.0450, Density=0.6727, Context=1.0000
2024-11-08 15:17:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 21, Chunk 0: Final Score=0.2703, BM25=0.2490, FAISS=0.3435, Importance=0.0812, Semantic=0.5069, Coverage=0.3319, Position=0.0715, Density=0.1636, Context=0.1255
2024-11-08 15:17:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 507, Chunk 0: Final Score=0.1313, BM25=0.0170, FAISS=0.0000, Importance=0.0006, Semantic=0.2566, Coverage=0.1409, Position=0.5169, Density=0.1818, Context=0.3215
2024-11-08 15:17:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 73, Chunk 0: Final Score=0.1177, BM25=0.0000, FAISS=0.4081, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=0.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:09:INFO:utils.rag_processor.scoring.weighted_scorer:PDF 586, Chunk 0: Final Score=0.0962, BM25=0.0000, FAISS=0.0000, Importance=0.0000, Semantic=0.0000, Coverage=0.0000, Position=1.0000, Density=0.0000, Context=0.0000
2024-11-08 15:17:09:INFO:utils.RAGProcessor:----------------------------------------------------------------------------------------------------
2024-11-08 15:17:09:INFO:utils.RAGProcessor:Final Rankings (Adaptive Weights):
2024-11-08 15:17:09:INFO:utils.RAGProcessor:Query Features - Length: 10, Diversity: 0.91
2024-11-08 15:17:09:INFO:__main__:已成功儲存檔案於 ./CompetitionDataset/dataset/preliminary/pred_retrieve.json

